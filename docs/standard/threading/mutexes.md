---
title: Mutexes
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-standard
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords:
- wait handles
- threading [.NET Framework], Mutex class
- Mutex class, about Mutex class
- threading [.NET Framework], cross-process synchronization
ms.assetid: 9dd06e25-12c0-4a9e-855a-452dc83803e2
caps.latest.revision: "15"
author: rpetrusha
ms.author: ronpet
manager: wpickett
ms.openlocfilehash: a1d69c1b943d15b9ad8c80b4d7dbafebc54990ab
ms.sourcegitcommit: 4f3fef493080a43e70e951223894768d36ce430a
ms.translationtype: HT
ms.contentlocale: es-ES
ms.lasthandoff: 11/21/2017
---
# <a name="mutexes"></a><span data-ttu-id="07f27-102">Mutexes</span><span class="sxs-lookup"><span data-stu-id="07f27-102">Mutexes</span></span>
<span data-ttu-id="07f27-103">Puede usar un <xref:System.Threading.Mutex> objeto para proporcionar acceso exclusivo a un recurso.</span><span class="sxs-lookup"><span data-stu-id="07f27-103">You can use a <xref:System.Threading.Mutex> object to provide exclusive access to a resource.</span></span> <span data-ttu-id="07f27-104">El <xref:System.Threading.Mutex> clase utiliza más recursos del sistema que la <xref:System.Threading.Monitor> clase, pero puede calcularse en los límites del dominio de aplicación, se puede utilizar con varias esperas y puede utilizarse para sincronizar subprocesos en procesos diferentes.</span><span class="sxs-lookup"><span data-stu-id="07f27-104">The <xref:System.Threading.Mutex> class uses more system resources than the <xref:System.Threading.Monitor> class, but it can be marshaled across application domain boundaries, it can be used with multiple waits, and it can be used to synchronize threads in different processes.</span></span> <span data-ttu-id="07f27-105">Para ver una comparación de los mecanismos de sincronización administrados, consulte [Información general sobre los primitivos de sincronización](../../../docs/standard/threading/overview-of-synchronization-primitives.md).</span><span class="sxs-lookup"><span data-stu-id="07f27-105">For a comparison of managed synchronization mechanisms, see [Overview of Synchronization Primitives](../../../docs/standard/threading/overview-of-synchronization-primitives.md).</span></span>  
  
 <span data-ttu-id="07f27-106">Para obtener ejemplos de código, vea la documentación de referencia para el <xref:System.Threading.Mutex.%23ctor%2A> constructores.</span><span class="sxs-lookup"><span data-stu-id="07f27-106">For code examples, see the reference documentation for the <xref:System.Threading.Mutex.%23ctor%2A> constructors.</span></span>  
  
## <a name="using-mutexes"></a><span data-ttu-id="07f27-107">Uso de las exclusiones mutuas</span><span class="sxs-lookup"><span data-stu-id="07f27-107">Using Mutexes</span></span>  
 <span data-ttu-id="07f27-108">Un subproceso llama a la <xref:System.Threading.WaitHandle.WaitOne%2A> método de una exclusión mutua que solicite la propiedad.</span><span class="sxs-lookup"><span data-stu-id="07f27-108">A thread calls the <xref:System.Threading.WaitHandle.WaitOne%2A> method of a mutex to request ownership.</span></span> <span data-ttu-id="07f27-109">La llamada se bloquea hasta que está disponible la exclusión mutua o hasta que transcurre el intervalo de tiempo de espera opcional.</span><span class="sxs-lookup"><span data-stu-id="07f27-109">The call blocks until the mutex is available, or until the optional timeout interval elapses.</span></span> <span data-ttu-id="07f27-110">El estado de una exclusión mutua se señala si no es propiedad de ningún subproceso.</span><span class="sxs-lookup"><span data-stu-id="07f27-110">The state of a mutex is signaled if no thread owns it.</span></span>  
  
 <span data-ttu-id="07f27-111">Un subproceso libera una exclusión mutua mediante una llamada a su <xref:System.Threading.Mutex.ReleaseMutex%2A> método.</span><span class="sxs-lookup"><span data-stu-id="07f27-111">A thread releases a mutex by calling its <xref:System.Threading.Mutex.ReleaseMutex%2A> method.</span></span> <span data-ttu-id="07f27-112">Las exclusiones mutuas tienen afinidad de subprocesos, es decir, solo el subproceso propietario de la exclusión mutua puede liberarla.</span><span class="sxs-lookup"><span data-stu-id="07f27-112">Mutexes have thread affinity; that is, the mutex can be released only by the thread that owns it.</span></span> <span data-ttu-id="07f27-113">Si un subproceso libera una exclusión mutua no es el propietario, un <xref:System.ApplicationException> se produce en el subproceso.</span><span class="sxs-lookup"><span data-stu-id="07f27-113">If a thread releases a mutex it does not own, an <xref:System.ApplicationException> is thrown in the thread.</span></span>  
  
 <span data-ttu-id="07f27-114">Dado que la <xref:System.Threading.Mutex> clase se deriva de <xref:System.Threading.WaitHandle>, también puede llamar el método estático <xref:System.Threading.WaitHandle.WaitAll%2A> o <xref:System.Threading.WaitHandle.WaitAny%2A> métodos de <xref:System.Threading.WaitHandle> que solicite la propiedad de un <xref:System.Threading.Mutex> en combinación con otros controladores de espera.</span><span class="sxs-lookup"><span data-stu-id="07f27-114">Because the <xref:System.Threading.Mutex> class derives from <xref:System.Threading.WaitHandle>, you can also call the static <xref:System.Threading.WaitHandle.WaitAll%2A> or <xref:System.Threading.WaitHandle.WaitAny%2A> methods of <xref:System.Threading.WaitHandle> to request ownership of a <xref:System.Threading.Mutex> in combination with other wait handles.</span></span>  
  
 <span data-ttu-id="07f27-115">Si un subproceso posee un <xref:System.Threading.Mutex>, que el subproceso puede especificar el mismo <xref:System.Threading.Mutex> en llamadas repetidas de solicitud de espera sin bloquear su ejecución; no obstante, debe liberar el <xref:System.Threading.Mutex> tantas veces para liberar la propiedad.</span><span class="sxs-lookup"><span data-stu-id="07f27-115">If a thread owns a <xref:System.Threading.Mutex>, that thread can specify the same <xref:System.Threading.Mutex> in repeated wait-request calls without blocking its execution; however, it must release the <xref:System.Threading.Mutex> as many times to release ownership.</span></span>  
  
## <a name="abandoned-mutexes"></a><span data-ttu-id="07f27-116">Exclusiones mutuas abandonadas</span><span class="sxs-lookup"><span data-stu-id="07f27-116">Abandoned Mutexes</span></span>  
 <span data-ttu-id="07f27-117">Si un subproceso finaliza sin liberar un <xref:System.Threading.Mutex>, la exclusión mutua se considera abandonada.</span><span class="sxs-lookup"><span data-stu-id="07f27-117">If a thread terminates without releasing a <xref:System.Threading.Mutex>, the mutex is said to be abandoned.</span></span> <span data-ttu-id="07f27-118">A menudo, esto indica un grave error de programación porque el recurso al que protege la exclusión mutua podría quedar con un estado no coherente.</span><span class="sxs-lookup"><span data-stu-id="07f27-118">This often indicates a serious programming error because the resource the mutex is protecting might be left in an inconsistent state.</span></span> <span data-ttu-id="07f27-119">En .NET Framework versión 2.0, un <xref:System.Threading.AbandonedMutexException> se produce en el siguiente subproceso que adquiere la exclusión mutua.</span><span class="sxs-lookup"><span data-stu-id="07f27-119">In the .NET Framework version 2.0, an <xref:System.Threading.AbandonedMutexException> is thrown in the next thread that acquires the mutex.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="07f27-120">En las versiones de .NET Framework 1.0 y 1.1, un abandonado <xref:System.Threading.Mutex> espera establecido en el estado señalado y el siguiente subproceso que obtiene la propiedad.</span><span class="sxs-lookup"><span data-stu-id="07f27-120">In the .NET Framework versions 1.0 and 1.1, an abandoned <xref:System.Threading.Mutex> is set to the signaled state and the next waiting thread gets ownership.</span></span> <span data-ttu-id="07f27-121">Si ningún subproceso en espera, el <xref:System.Threading.Mutex> permanece en un estado señalado.</span><span class="sxs-lookup"><span data-stu-id="07f27-121">If no thread is waiting, the <xref:System.Threading.Mutex> remains in a signaled state.</span></span> <span data-ttu-id="07f27-122">No se inicia ninguna excepción.</span><span class="sxs-lookup"><span data-stu-id="07f27-122">No exception is thrown.</span></span>  
  
 <span data-ttu-id="07f27-123">En el caso de una exclusión mutua en todo el sistema, una exclusión mutua abandonada podría indicar que una aplicación finalizó inesperadamente (por ejemplo, con el Administrador de tareas de Windows).</span><span class="sxs-lookup"><span data-stu-id="07f27-123">In the case of a system-wide mutex, an abandoned mutex might indicate that an application has been terminated abruptly (for example, by using Windows Task Manager).</span></span>  
  
## <a name="local-and-system-mutexes"></a><span data-ttu-id="07f27-124">Exclusiones mutuas locales y del sistema</span><span class="sxs-lookup"><span data-stu-id="07f27-124">Local and System Mutexes</span></span>  
 <span data-ttu-id="07f27-125">Hay dos tipos de exclusiones mutuas: exclusiones mutuas locales y exclusiones mutuas del sistema con nombre.</span><span class="sxs-lookup"><span data-stu-id="07f27-125">Mutexes are of two types: local mutexes and named system mutexes.</span></span> <span data-ttu-id="07f27-126">Si crea un <xref:System.Threading.Mutex> utilizando un constructor que acepta un nombre de objeto está asociado a un objeto de sistema operativo de ese nombre.</span><span class="sxs-lookup"><span data-stu-id="07f27-126">If you create a <xref:System.Threading.Mutex> object using a constructor that accepts a name, it is associated with an operating-system object of that name.</span></span> <span data-ttu-id="07f27-127">Las exclusiones mutuas del sistema con nombre son visibles en todo el sistema operativo y se pueden usar para sincronizar las actividades de los procesos.</span><span class="sxs-lookup"><span data-stu-id="07f27-127">Named system mutexes are visible throughout the operating system and can be used to synchronize the activities of processes.</span></span> <span data-ttu-id="07f27-128">Puede crear varias <xref:System.Threading.Mutex> objetos que representan la misma denominado exclusión mutua del sistema y puede usar el <xref:System.Threading.Mutex.OpenExisting%2A> método para abrir una existente denominado exclusión mutua del sistema.</span><span class="sxs-lookup"><span data-stu-id="07f27-128">You can create multiple <xref:System.Threading.Mutex> objects that represent the same named system mutex, and you can use the <xref:System.Threading.Mutex.OpenExisting%2A> method to open an existing named system mutex.</span></span>  
  
 <span data-ttu-id="07f27-129">Una exclusión mutua local solo existe dentro del proceso.</span><span class="sxs-lookup"><span data-stu-id="07f27-129">A local mutex exists only within your process.</span></span> <span data-ttu-id="07f27-130">Se puede utilizar con cualquier subproceso en el proceso que tiene una referencia a la variable local <xref:System.Threading.Mutex> objeto.</span><span class="sxs-lookup"><span data-stu-id="07f27-130">It can be used by any thread in your process that has a reference to the local <xref:System.Threading.Mutex> object.</span></span> <span data-ttu-id="07f27-131">Cada <xref:System.Threading.Mutex> objeto es una exclusión mutua local independiente.</span><span class="sxs-lookup"><span data-stu-id="07f27-131">Each <xref:System.Threading.Mutex> object is a separate local mutex.</span></span>  
  
### <a name="access-control-security-for-system-mutexes"></a><span data-ttu-id="07f27-132">Seguridad de control de acceso para exclusiones mutuas del sistema</span><span class="sxs-lookup"><span data-stu-id="07f27-132">Access Control Security for System Mutexes</span></span>  
 <span data-ttu-id="07f27-133">La versión 2.0 de .NET Framework proporciona la capacidad de consultar y establecer la seguridad de control de acceso Windows para objetos de sistema con nombre.</span><span class="sxs-lookup"><span data-stu-id="07f27-133">The .NET Framework version 2.0 provides the ability to query and set Windows access control security for named system objects.</span></span> <span data-ttu-id="07f27-134">Se recomienda proteger las exclusiones mutuas del sistema desde el momento en que se crean, porque los objetos de sistema son globales y, por lo tanto, puede bloquearlos un código distinto del suyo.</span><span class="sxs-lookup"><span data-stu-id="07f27-134">Protecting system mutexes from the moment of creation is recommended because system objects are global and therefore can be locked by code other than your own.</span></span>  
  
 <span data-ttu-id="07f27-135">Para obtener información sobre la seguridad de control de acceso para las exclusiones mutuas, vea el <xref:System.Security.AccessControl.MutexSecurity> y <xref:System.Security.AccessControl.MutexAccessRule> clases, el <xref:System.Security.AccessControl.MutexRights> enumeración, el <xref:System.Threading.Mutex.GetAccessControl%2A>, <xref:System.Threading.Mutex.SetAccessControl%2A>, y <xref:System.Threading.Mutex.OpenExisting%2A> métodos de la <xref:System.Threading.Mutex> clase y el <xref:System.Threading.Mutex.%23ctor%28System.Boolean%2CSystem.String%2CSystem.Boolean%40%2CSystem.Security.AccessControl.MutexSecurity%29> constructor.</span><span class="sxs-lookup"><span data-stu-id="07f27-135">For information on access control security for mutexes, see the <xref:System.Security.AccessControl.MutexSecurity> and <xref:System.Security.AccessControl.MutexAccessRule> classes, the <xref:System.Security.AccessControl.MutexRights> enumeration, the <xref:System.Threading.Mutex.GetAccessControl%2A>, <xref:System.Threading.Mutex.SetAccessControl%2A>, and <xref:System.Threading.Mutex.OpenExisting%2A> methods of the <xref:System.Threading.Mutex> class, and the <xref:System.Threading.Mutex.%23ctor%28System.Boolean%2CSystem.String%2CSystem.Boolean%40%2CSystem.Security.AccessControl.MutexSecurity%29> constructor.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="07f27-136">Vea también</span><span class="sxs-lookup"><span data-stu-id="07f27-136">See Also</span></span>  
 <xref:System.Threading.Mutex>  
 <xref:System.Threading.Mutex.%23ctor%2A>  
 <xref:System.Security.AccessControl.MutexSecurity>  
 <xref:System.Security.AccessControl.MutexAccessRule>  
 [<span data-ttu-id="07f27-137">Subprocesamiento</span><span class="sxs-lookup"><span data-stu-id="07f27-137">Threading</span></span>](../../../docs/standard/threading/index.md)  
 [<span data-ttu-id="07f27-138">Objetos y características de subprocesos</span><span class="sxs-lookup"><span data-stu-id="07f27-138">Threading Objects and Features</span></span>](../../../docs/standard/threading/threading-objects-and-features.md)  
 <span data-ttu-id="07f27-139">[Monitors](http://msdn.microsoft.com/library/33fe4aef-b44b-42fd-9e72-c908e39e75db) (Clases Monitor)</span><span class="sxs-lookup"><span data-stu-id="07f27-139">[Monitors](http://msdn.microsoft.com/library/33fe4aef-b44b-42fd-9e72-c908e39e75db)</span></span>  
 [<span data-ttu-id="07f27-140">Subprocesos y subprocesamiento</span><span class="sxs-lookup"><span data-stu-id="07f27-140">Threads and Threading</span></span>](../../../docs/standard/threading/threads-and-threading.md)
