---
title: Pasos del flujo de trabajo de DevOps de bucle externo para una aplicación de Docker
description: Ciclo de vida de aplicaciones de Docker en contenedor con la plataforma y las herramientas de Microsoft
author: CESARDELATORRE
ms.author: wiwagn
ms.date: 09/10/2018
ms.openlocfilehash: 37dd5481da571be56f134a5e142b7ba46427d7d8
ms.sourcegitcommit: ccd8c36b0d74d99291d41aceb14cf98d74dc9d2b
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 12/10/2018
ms.locfileid: "53143654"
---
# <a name="steps-in-the-outer-loop-devops-workflow-for-a-docker-application"></a><span data-ttu-id="03023-103">Pasos del flujo de trabajo de DevOps de bucle externo para una aplicación de Docker</span><span class="sxs-lookup"><span data-stu-id="03023-103">Steps in the outer-loop DevOps workflow for a Docker application</span></span>

<span data-ttu-id="03023-104">Figura 5-1 presenta una representación to-end de los pasos que componen el flujo de trabajo de DevOps bucle exterior.</span><span class="sxs-lookup"><span data-stu-id="03023-104">Figure 5-1 presents an end-to-end depiction of the steps comprising the DevOps outer-loop workflow.</span></span>

![](./media/image1.png)

<span data-ttu-id="03023-105">Figura 5-1: Flujo de trabajo de bucle externo de DevOps para aplicaciones de Docker con herramientas de Microsoft</span><span class="sxs-lookup"><span data-stu-id="03023-105">Figure 5-1: DevOps outer-loop workflow for Docker applications with Microsoft tools</span></span>

<span data-ttu-id="03023-106">Ahora, vamos a examinar cada uno de estos pasos con mayor detalle.</span><span class="sxs-lookup"><span data-stu-id="03023-106">Now, let's examine each of these steps in greater detail.</span></span>

## <a name="step-1-inner-loop-development-workflow"></a><span data-ttu-id="03023-107">Paso 1: Flujo de trabajo de desarrollo de bucle interno</span><span class="sxs-lookup"><span data-stu-id="03023-107">Step 1: Inner-loop development workflow</span></span>

<span data-ttu-id="03023-108">Este paso se explica con detalle en el capítulo 4, pero, en resumen, aquí es donde empieza el bucle exterior, el momento en el que un desarrollador inserta código en el sistema de administración de control de código fuente (por ejemplo, Git) iniciar acciones de la canalización de CI.</span><span class="sxs-lookup"><span data-stu-id="03023-108">This step is explained in detail in Chapter 4, but, to recap, here is where the outer-loop begins, the moment at which a developer pushes code to the source control management system (like Git) initiating CI pipeline actions.</span></span>

## <a name="step-2-source-code-control-integration-and-management-with-azure-devops-services-and-git"></a><span data-ttu-id="03023-109">Paso 2: Integración de Control de código fuente y administración con Azure DevOps Services y Git</span><span class="sxs-lookup"><span data-stu-id="03023-109">Step 2: Source-Code Control integration and management with Azure DevOps Services and Git</span></span>

<span data-ttu-id="03023-110">En este paso, debe tener un sistema de control de versiones para recopilar una versión codificada de todo el código procedente de los desarrolladores diferentes en el equipo.</span><span class="sxs-lookup"><span data-stu-id="03023-110">At this step, you need to have a version-control system to gather a consolidated version of all the code coming from the different developers in the team.</span></span>

<span data-ttu-id="03023-111">Aunque el control de código fuente (SCC) y la administración de código fuente pueden parecer instintivo desplazarse a la mayoría de desarrolladores, al crear aplicaciones de Docker en una vida de DevOps, es fundamental para hacer hincapié en que no debe enviar las imágenes de Docker con la aplicación directamente en el registro de Docker de global (como Azure Container Registry o Docker Hub) desde el equipo del desarrollador.</span><span class="sxs-lookup"><span data-stu-id="03023-111">Even though source-code control (SCC) and source-code management might seem second-nature to most developers, when creating Docker applications in a DevOps life cycle, it is critical to emphasize that you must not submit the Docker images with the application directly to the global Docker Registry (like Azure Container Registry or Docker Hub) from the developer's machine.</span></span> <span data-ttu-id="03023-112">Por el contrario, las imágenes de Docker se libere y se implementan en entornos de producción deben crearse únicamente en el código fuente que se integre en la compilación global o la canalización de CI basándose en el repositorio de código fuente (por ejemplo, Git).</span><span class="sxs-lookup"><span data-stu-id="03023-112">On the contrary, the Docker images to be released and deployed to production environments must be created solely on the source code that is being integrated in your global build or CI pipeline based on your source-code repository (like Git).</span></span>

<span data-ttu-id="03023-113">Las imágenes locales generadas por los desarrolladores a sí mismos deben usarse solo por los desarrolladores al realizar pruebas en sus propios equipos.</span><span class="sxs-lookup"><span data-stu-id="03023-113">The local images generated by the developers themselves should be used just by the developers when testing within their own machines.</span></span> <span data-ttu-id="03023-114">Esto es por eso es fundamental contar con la canalización de DevOps activa desde el código de control de código fuente.</span><span class="sxs-lookup"><span data-stu-id="03023-114">This is why it is critical to have the DevOps pipeline activated from the SCC code.</span></span>

<span data-ttu-id="03023-115">Azure DevOps Services y Team Foundation Server admiten Git y Team Foundation Version Control.</span><span class="sxs-lookup"><span data-stu-id="03023-115">Azure DevOps Services and Team Foundation Server support Git and Team Foundation Version Control.</span></span> <span data-ttu-id="03023-116">Puede elegir entre ellas y usarlo para una experiencia de Microsoft to-end.</span><span class="sxs-lookup"><span data-stu-id="03023-116">You can choose between them and use it for an end-to-end Microsoft experience.</span></span> <span data-ttu-id="03023-117">Sin embargo, también puede administrar el código en repositorios externos (como GitHub, repositorios de Git local o Subversion) y seguir siendo capaces de conectarse a ella y obtener el código como punto de partida para la canalización de CI de DevOps.</span><span class="sxs-lookup"><span data-stu-id="03023-117">However, you also can manage your code in external repositories (like GitHub, on-premises Git repositories, or Subversion) and still be able to connect to it and get the code as the starting point for your DevOps CI pipeline.</span></span>

## <a name="step-3-build-ci-integrate-and-test-with-azure-devops-services-and-docker"></a><span data-ttu-id="03023-118">Paso 3: Compilación de CI, integrar y probar con Azure DevOps servicios y Docker</span><span class="sxs-lookup"><span data-stu-id="03023-118">Step 3: Build, CI, Integrate, and Test with Azure DevOps Services and Docker</span></span>

<span data-ttu-id="03023-119">CI ha surgido como un estándar para las pruebas de software moderno y entrega.</span><span class="sxs-lookup"><span data-stu-id="03023-119">CI has emerged as a standard for modern software testing and delivery.</span></span> <span data-ttu-id="03023-120">La solución de Docker mantiene una separación clara de intereses entre los equipos de desarrollo y operaciones.</span><span class="sxs-lookup"><span data-stu-id="03023-120">The Docker solution maintains a clear separation of concerns between the development and operations teams.</span></span> <span data-ttu-id="03023-121">La inmutabilidad de imágenes de Docker garantiza una implementación repetible entre lo que ha desarrollado, probado a través de los elementos de configuración y ejecución en producción.</span><span class="sxs-lookup"><span data-stu-id="03023-121">The immutability of Docker images ensures a repeatable deployment between what's developed, tested through CI, and run in production.</span></span> <span data-ttu-id="03023-122">Motor de docker implementados en los equipos portátiles de desarrollador e infraestructura de prueba hace que los contenedores portátiles entre entornos.</span><span class="sxs-lookup"><span data-stu-id="03023-122">Docker Engine deployed across the developer laptops and test infrastructure makes the containers portable across environments.</span></span>

<span data-ttu-id="03023-123">En este momento, una vez que un sistema de control de versiones con el código correcto enviado, necesita un *servicio de compilación* para recoger el código y ejecutar las compilación global y las pruebas.</span><span class="sxs-lookup"><span data-stu-id="03023-123">At this point, after you have a version-control system with the correct code submitted, you need a *build service* to pick up the code and run the global build and tests.</span></span>

<span data-ttu-id="03023-124">El flujo de trabajo interno para este paso (CI, compilación, prueba) es sobre la construcción de una canalización de CI que consta del repositorio de código (Git, etc.), el servidor de compilación (servicios de Azure DevOps), el motor de Docker y un registro de Docker.</span><span class="sxs-lookup"><span data-stu-id="03023-124">The internal workflow for this step (CI, build, test) is about the construction of a CI pipeline consisting of your code repository (Git, etc.), your build server (Azure DevOps Services), Docker Engine, and a Docker Registry.</span></span>

<span data-ttu-id="03023-125">Puede usar servicios de Azure DevOps como base para crear sus aplicaciones y la configuración de la canalización de CI y para publicar los artefactos"integrados" para un "repositorio de artefactos", que se explica en el paso siguiente.</span><span class="sxs-lookup"><span data-stu-id="03023-125">You can use Azure DevOps Services as the foundation for building your applications and setting your CI pipeline, and for publishing the built "artifacts" to an "artifacts repository," which is explained in the next step.</span></span>

<span data-ttu-id="03023-126">Al usar Docker para la implementación, "los artefactos finales" implementar imágenes de Docker con la aplicación o servicios incrustadas dentro de ellos.</span><span class="sxs-lookup"><span data-stu-id="03023-126">When using Docker for the deployment, the "final artifacts" to be deployed are Docker images with your application or services embedded within them.</span></span> <span data-ttu-id="03023-127">Esas imágenes se insertan o se publican en un *Docker Registry* (un repositorio privado, como los que puede tener en Azure Container Registry, o una pública, como el registro de Docker Hub, que se utiliza habitualmente las imágenes oficiales de bases).</span><span class="sxs-lookup"><span data-stu-id="03023-127">Those images are pushed or published to a *Docker Registry* (a private repository like the ones you can have in Azure Container Registry, or a public one like Docker Hub Registry, which is commonly used for official base images).</span></span>

<span data-ttu-id="03023-128">Este es el concepto básico: La canalización de CI será inicia mediante una confirmación en un repositorio de control de código fuente como Git.</span><span class="sxs-lookup"><span data-stu-id="03023-128">Here is the basic concept: The CI pipeline will be kicked-off by a commit to an SCC repository like Git.</span></span> <span data-ttu-id="03023-129">La confirmación hará que Servicios de DevOps de Azure ejecutar un trabajo de compilación dentro de un contenedor de Docker y, tras la finalización correcta de ese trabajo, insertar una imagen de Docker en el registro de Docker, como se muestra en la figura 5-2.</span><span class="sxs-lookup"><span data-stu-id="03023-129">The commit will cause Azure DevOps Services to run a build job within a Docker container and, upon successful completion of that job, push a Docker image to the Docker Registry, as illustrated in Figure 5-2.</span></span>

![](./media/image2.png)

<span data-ttu-id="03023-130">Figura 5-2: Los pasos implicados en el elemento de configuración</span><span class="sxs-lookup"><span data-stu-id="03023-130">Figure 5-2: The steps involved in CI</span></span>

<span data-ttu-id="03023-131">Estos son los pasos básicos de flujo de trabajo de CI con Docker y los servicios de DevOps de Azure:</span><span class="sxs-lookup"><span data-stu-id="03023-131">Here are the basic CI workflow steps with Docker and Azure DevOps Services:</span></span>

1.  <span data-ttu-id="03023-132">El desarrollador envía una confirmación a un repositorio de control de código fuente (Git/Azure DevOps Services, GitHub, etcetera.).</span><span class="sxs-lookup"><span data-stu-id="03023-132">The developer pushes a commit to an SCC repository (Git/Azure DevOps Services, GitHub, etc.).</span></span>

2.  <span data-ttu-id="03023-133">Si usa servicios de Azure DevOps o Git, CI está integrada, lo que significa que es tan sencilla como seleccionar una casilla en los servicios de Azure DevOps.</span><span class="sxs-lookup"><span data-stu-id="03023-133">If you're using Azure DevOps Services or Git, CI is built in, which means that it is as simple as selecting a check box in Azure DevOps Services.</span></span> <span data-ttu-id="03023-134">Si usas un SCC externo (como GitHub), un *webhook* se notifíquelo a los servicios de DevOps de Azure de la actualización o inserción en Git/GitHub.</span><span class="sxs-lookup"><span data-stu-id="03023-134">If you're using an external SCC (like GitHub), a *webhook* will notify Azure DevOps Services of the update or push to Git/GitHub.</span></span>

3.  <span data-ttu-id="03023-135">Servicios de Azure DevOps extrae el repositorio de control de código fuente, incluido el DockerFile que describe la imagen, así como el código de aplicación y prueba.</span><span class="sxs-lookup"><span data-stu-id="03023-135">Azure DevOps Services pulls the SCC repository, including the DockerFile describing the image as well as the application and test code.</span></span>

4.  <span data-ttu-id="03023-136">Servicios de Azure DevOps compila una imagen de Docker y se etiqueta con un número de compilación.</span><span class="sxs-lookup"><span data-stu-id="03023-136">Azure DevOps Services builds a Docker image and labels it with a build number.</span></span>

5.  <span data-ttu-id="03023-137">Servicios de Azure DevOps crea una instancia del contenedor de Docker en el Host aprovisionado de Docker y ejecuta las pruebas adecuadas.</span><span class="sxs-lookup"><span data-stu-id="03023-137">Azure DevOps Services instantiates the Docker container within the provisioned Docker Host, and runs the appropriate tests.</span></span>

6.  <span data-ttu-id="03023-138">Si las pruebas son correctas, la imagen en primer lugar se vuelven a un nombre descriptivo para que sepa es una "compilación designada" (como "/ 1.0.0" o cualquier otra etiqueta) y, a continuación, insertan en el registro de Docker (Docker Hub, Azure Container Registry, DTR, etcetera.)</span><span class="sxs-lookup"><span data-stu-id="03023-138">If the tests are successful, the image is first relabeled to a meaningful name so that you know it is a "blessed build" (like "/1.0.0" or any other label), and then pushed up to your Docker Registry (Docker Hub, Azure Container Registry, DTR, etc.)</span></span>

### <a name="implementing-the-ci-pipeline-with-azure-devops-services-and-the-docker-extension-for-azure-devops-services"></a><span data-ttu-id="03023-139">Implementación de la canalización de CI con servicios de Azure DevOps y la extensión Docker para servicios de Azure DevOps</span><span class="sxs-lookup"><span data-stu-id="03023-139">Implementing the CI pipeline with Azure DevOps Services and the Docker extension for Azure DevOps Services</span></span>

<span data-ttu-id="03023-140">El [extensión de Docker de servicios de Azure DevOps](https://aka.ms/vstsdockerextension) agrega una tarea a la canalización de CI con el que puede crear imágenes de Docker, inserte imágenes de Docker en un registro autenticado de Docker, ejecutar imágenes de Docker o ejecutar otras operaciones de Docker CLI.</span><span class="sxs-lookup"><span data-stu-id="03023-140">The [Azure DevOps Services Docker extension](https://aka.ms/vstsdockerextension) adds a task to your CI pipeline with which you can build Docker images, push Docker images to an authenticated Docker registry, run Docker images, or run other operations offered by the Docker CLI.</span></span> <span data-ttu-id="03023-141">También agrega una tarea de Docker Compose que puede usar para crear, insertar y ejecutar aplicaciones de Docker de varios contenedores o ejecutar otras operaciones de la CLI de Docker Compose, como se muestra en la figura 5-3.</span><span class="sxs-lookup"><span data-stu-id="03023-141">It also adds a Docker Compose task that you can use to build, push, and run multicontainer Docker applications, or run other operations offered by the Docker Compose CLI, as shown in Figure 5-3.</span></span>

![](./media/image3.png)

<span data-ttu-id="03023-142">Figura 5-3: La canalización de CI de Docker en los servicios de Azure DevOps</span><span class="sxs-lookup"><span data-stu-id="03023-142">Figure 5-3: The Docker CI pipeline in Azure DevOps Services</span></span>

<span data-ttu-id="03023-143">La extensión de Docker puede utilizar los puntos de conexión de servicio para hosts de Docker y de contenedor o los registros de imágenes.</span><span class="sxs-lookup"><span data-stu-id="03023-143">The Docker extension can use service endpoints for Docker hosts and for container or image registries.</span></span> <span data-ttu-id="03023-144">El valor predeterminado de las tareas al uso de un host de Docker local si está disponible (Esto requiere actualmente un agente de servicios de Azure DevOps personalizado); en caso contrario, requieren que proporcione una conexión de host de Docker.</span><span class="sxs-lookup"><span data-stu-id="03023-144">The tasks default to using a local Docker host if available (this currently requires a custom Azure DevOps Services agent); otherwise, they require that you provide a Docker host connection.</span></span> <span data-ttu-id="03023-145">Las acciones que dependen de que se autentica con un registro de Docker, como la inserción de una imagen, requieren que proporcione a un Docker conexión de registro.</span><span class="sxs-lookup"><span data-stu-id="03023-145">Actions that depend on being authenticated with a Docker registry, such as pushing an image, require that you provide a Docker registry connection.</span></span>

<span data-ttu-id="03023-146">La extensión de Docker de servicios de Azure DevOps instala los componentes siguientes en su cuenta de servicios de Azure DevOps:</span><span class="sxs-lookup"><span data-stu-id="03023-146">The Azure DevOps Services Docker extension installs the following components in your Azure DevOps Services account:</span></span>

-   <span data-ttu-id="03023-147">Un punto de conexión de servicio para conectarse a un registro de Docker</span><span class="sxs-lookup"><span data-stu-id="03023-147">A service endpoint for connecting to a Docker registry</span></span>

-   <span data-ttu-id="03023-148">Un punto de conexión de servicio para conectarse a un Host de contenedor de Docker</span><span class="sxs-lookup"><span data-stu-id="03023-148">A service endpoint for connecting to a Docker Container Host</span></span>

-   <span data-ttu-id="03023-149">Una tarea de Docker para hacer lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="03023-149">A Docker task to do the following:</span></span>

-   <span data-ttu-id="03023-150">Crear una imagen</span><span class="sxs-lookup"><span data-stu-id="03023-150">Build an image</span></span>

-   <span data-ttu-id="03023-151">Insertar una imagen o un repositorio en un registro</span><span class="sxs-lookup"><span data-stu-id="03023-151">Push an image or a repository to a registry</span></span>

-   <span data-ttu-id="03023-152">Ejecutar una imagen en un contenedor</span><span class="sxs-lookup"><span data-stu-id="03023-152">Run an image in a container</span></span>

-   <span data-ttu-id="03023-153">Ejecutar un comando de Docker</span><span class="sxs-lookup"><span data-stu-id="03023-153">Run a Docker command</span></span>

-   <span data-ttu-id="03023-154">Una tarea de Docker Compose para ejecutar un comando de Docker Compose</span><span class="sxs-lookup"><span data-stu-id="03023-154">A Docker Compose task to run a Docker Compose command</span></span>

<span data-ttu-id="03023-155">Con estas tareas de servicios de Azure DevOps, una compilación o máquina virtual Linux Docker Host aprovisionado en Azure y el registro de Docker preferido (Azure Container Registry, Docker Hub, DTR privado de Docker o cualquier otro registro de Docker) puede ensamblar su canalización de CI de Docker en un muy manera coherente.</span><span class="sxs-lookup"><span data-stu-id="03023-155">With these Azure DevOps Services tasks, a build Linux-Docker Host/VM provisioned in Azure and your preferred Docker registry (Azure Container Registry, Docker Hub, private Docker DTR, or any other Docker registry) you can assemble your Docker CI pipeline in a very consistent way.</span></span>

<span data-ttu-id="03023-156">***Requisitos:***</span><span class="sxs-lookup"><span data-stu-id="03023-156">***Requirements:***</span></span>

-   <span data-ttu-id="03023-157">Servicios de Azure DevOps, o para las instalaciones locales, Team Foundation Server 2015 Update 3 o posterior.</span><span class="sxs-lookup"><span data-stu-id="03023-157">Azure DevOps Services, or for on-premises installations, Team Foundation Server 2015 Update 3 or later.</span></span>

-   <span data-ttu-id="03023-158">Un agente de servicios de DevOps de Azure que tiene los archivos binarios de Docker.</span><span class="sxs-lookup"><span data-stu-id="03023-158">An Azure DevOps Services agent that has the Docker binaries.</span></span>

<span data-ttu-id="03023-159">Una manera fácil de crear uno de estos es usar Docker para ejecutar un contenedor basado en la imagen de Docker de agente de servicios de Azure DevOps.</span><span class="sxs-lookup"><span data-stu-id="03023-159">An easy way to create one of these is to use Docker to run a container based on the Azure DevOps Services agent Docker image.</span></span>

<span data-ttu-id="03023-160">**Obtener más información** para leer más acerca de cómo ensamblar un elemento de configuración de Docker de servicios de Azure DevOps de canalización y para ver tutoriales, visite los sitios siguientes:</span><span class="sxs-lookup"><span data-stu-id="03023-160">**More info** To read more about assembling a Azure DevOps Services Docker CI pipeline and to view walkthroughs, visit the following sites:</span></span>

<span data-ttu-id="03023-161">Ejecuta un agente de servicios de Azure DevOps como un contenedor de Docker: [ https://hub.docker.com/r/\ microsoft/vsts-agent /](https://hub.docker.com/r/microsoft/vsts-agent/)</span><span class="sxs-lookup"><span data-stu-id="03023-161">Running an Azure DevOps Services agent as a Docker container: [https://hub.docker.com/r/\ microsoft/vsts-agent/](https://hub.docker.com/r/microsoft/vsts-agent/)</span></span>

<span data-ttu-id="03023-162">Extensión de Docker de servicios de DevOps de Azure: <https://aka.ms/vstsdockerextension></span><span class="sxs-lookup"><span data-stu-id="03023-162">Azure DevOps Services Docker extension: <https://aka.ms/vstsdockerextension></span></span>

<span data-ttu-id="03023-163">Creación de imágenes de Docker de Linux de .NET Core con los servicios de Azure DevOps: <https://blogs.msdn.microsoft.com/stevelasker/2016/06/13/building-net-core-linux-docker-images-with-visual-studio-team-services/></span><span class="sxs-lookup"><span data-stu-id="03023-163">Building .NET Core Linux Docker images with Azure DevOps Services: <https://blogs.msdn.microsoft.com/stevelasker/2016/06/13/building-net-core-linux-docker-images-with-visual-studio-team-services/></span></span>

<span data-ttu-id="03023-164">Creación de una máquina de compilación basado en Linux, Visual Studio Team Service con compatibilidad con Docker: <http://donovanbrown.com/post/2016/06/03/Building-a-Linux-Based-Visual-Studio-Team-Service-Build-Machine-with-Docker-Support></span><span class="sxs-lookup"><span data-stu-id="03023-164">Building a Linux-based Visual Studio Team Service build machine with Docker support: <http://donovanbrown.com/post/2016/06/03/Building-a-Linux-Based-Visual-Studio-Team-Service-Build-Machine-with-Docker-Support></span></span>

### <a name="integrate-test-and-validate-multicontainer-docker-applications"></a><span data-ttu-id="03023-165">Integrar, probar y validar las aplicaciones de varios contenedores Docker</span><span class="sxs-lookup"><span data-stu-id="03023-165">Integrate, test, and validate multicontainer Docker applications</span></span>

<span data-ttu-id="03023-166">Normalmente, la mayoría de las aplicaciones de Docker se compone de varios contenedores en lugar de un solo contenedor.</span><span class="sxs-lookup"><span data-stu-id="03023-166">Typically, most Docker applications are composed of multiple containers rather than a single container.</span></span> <span data-ttu-id="03023-167">Un buen ejemplo es una aplicación orientada a microservicios que tendría un contenedor por microservicio.</span><span class="sxs-lookup"><span data-stu-id="03023-167">A good example is a microservices-oriented application for which you would have one container per microservice.</span></span> <span data-ttu-id="03023-168">Pero, incluso sin seguir estrictamente los patrones de enfoque de microservicios, es muy probable que la aplicación de Docker podría estar compuesta de varios contenedores o servicios.</span><span class="sxs-lookup"><span data-stu-id="03023-168">But, even without strictly following the microservices approach patterns, it is very probable that your Docker application would be composed of multiple containers or services.</span></span>

<span data-ttu-id="03023-169">Por lo tanto, después de compilar los contenedores de aplicación en la canalización de CI, también deberá implementar, integrar y probar la aplicación como un todo con todos sus contenedores dentro de un host de Docker de integración o incluso en un clúster de prueba a los que son los contenedores distribuido.</span><span class="sxs-lookup"><span data-stu-id="03023-169">Therefore, after building the application containers in the CI pipeline, you also need to deploy, integrate, and test the application as a whole with all of its containers within an integration Docker host or even into a test cluster to which your containers are distributed.</span></span>

<span data-ttu-id="03023-170">Si usa un único host, puede usar comandos de Docker como docker-compose para compilar e implementar contenedores relacionados para probar y validar el entorno de Docker en una sola máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="03023-170">If you're using a single host, you can use Docker commands such as docker-compose to build and deploy related containers to test and validate the Docker environment in a single VM.</span></span> <span data-ttu-id="03023-171">Sin embargo, si está trabajando con un clúster de orchestrator como DC/OS, Kubernetes o Docker Swarm, deberá implementar los contenedores a través de un mecanismo diferente o orchestrator, según su programador/clústeres seleccionado.</span><span class="sxs-lookup"><span data-stu-id="03023-171">But, if you are working with an orchestrator cluster like DC/OS, Kubernetes, or Docker Swarm, you need to deploy your containers through a different mechanism or orchestrator, depending on your selected cluster/scheduler.</span></span>

<span data-ttu-id="03023-172">Continuación se muestran varios tipos de pruebas que se pueden ejecutar en contenedores de Docker:</span><span class="sxs-lookup"><span data-stu-id="03023-172">Following are several types of tests that you can run against Docker containers:</span></span>

-   <span data-ttu-id="03023-173">Pruebas unitarias para contenedores de Docker</span><span class="sxs-lookup"><span data-stu-id="03023-173">Unit tests for Docker containers</span></span>

-   <span data-ttu-id="03023-174">Probar los grupos de aplicaciones interrelacionadas o microservicios</span><span class="sxs-lookup"><span data-stu-id="03023-174">Testing groups of interrelated applications or microservices</span></span>

-   <span data-ttu-id="03023-175">Probar en las versiones de producción y "chivato"</span><span class="sxs-lookup"><span data-stu-id="03023-175">Test in production and "canary" releases</span></span>

<span data-ttu-id="03023-176">Lo importante es que, al ejecutar pruebas funcionales e integración, debe ejecutar las pruebas desde fuera de los contenedores.</span><span class="sxs-lookup"><span data-stu-id="03023-176">The important point is that when running integration and functional tests, you must run those tests from outside of the containers.</span></span> <span data-ttu-id="03023-177">Las pruebas no deben definirse y ejecutar dentro de los contenedores que se va a implementar, porque los contenedores se basan en las imágenes estáticas que deben ser exactamente iguales a los que se va a implementar en producción.</span><span class="sxs-lookup"><span data-stu-id="03023-177">Tests must not be defined and run within the containers that you are deploying, because the containers are based on static images that should be exactly like those that you will be deploying into production.</span></span>

<span data-ttu-id="03023-178">Es una opción muy factible al probar los escenarios más avanzados, como pruebas de varios clústeres (probar el clúster, clúster de ensayo y producción) publicar las imágenes en un registro de prueba en varios clústeres.</span><span class="sxs-lookup"><span data-stu-id="03023-178">A very feasible option when testing more advanced scenarios like testing several clusters (test cluster, staging cluster, and production cluster) is to publish the images to a registry to test in various clusters.</span></span>

### <a name="push-the-custom-application-docker-image-into-your-global-docker-registry"></a><span data-ttu-id="03023-179">Insertar la imagen de Docker de la aplicación personalizada en el registro de Docker global</span><span class="sxs-lookup"><span data-stu-id="03023-179">Push the custom application Docker image into your global Docker Registry</span></span>

<span data-ttu-id="03023-180">Después de que las imágenes de Docker se han probado y validado, desea etiquetar y publicarlos en el registro de Docker.</span><span class="sxs-lookup"><span data-stu-id="03023-180">After the Docker images have been tested and validated, you'll want to tag and publish them to your Docker registry.</span></span> <span data-ttu-id="03023-181">El registro de Docker es una pieza fundamental en el ciclo de vida de la aplicación de Docker, porque es la ubicación central desde donde se almacena la prueba personalizada (también conocido como "designadas imágenes") para implementarse en entornos de producción y control de calidad.</span><span class="sxs-lookup"><span data-stu-id="03023-181">The Docker registry is a critical piece in the Docker application life cycle because it is the central place where you store your custom test (aka "blessed images") to be deployed into QA and production environments.</span></span>

<span data-ttu-id="03023-182">De forma similar a cómo el código de aplicación almacenado en el repositorio de control de código fuente (Git, etc.) es el "origen de verdad", el registro de Docker es el "origen de verdad" de la aplicación binaria o bits para su implementación en los entornos de producción o control de calidad.</span><span class="sxs-lookup"><span data-stu-id="03023-182">Similar to how the application code stored in your SCC repository (Git, etc.) is your "source of truth," the Docker registry is your "source of truth" for your binary application or bits to be deployed to the QA or production environments.</span></span>

<span data-ttu-id="03023-183">Normalmente, desea tener sus repositorios privados para sus imágenes personalizadas en un repositorio privado en Azure Container Registry en un registro de forma local como Docker Trusted Registry o en un registro de nube pública con acceso restringido (por ejemplo Docker Hub), aunque en este último caso, si el código no está abierto, debe confiar en seguridad del proveedor.</span><span class="sxs-lookup"><span data-stu-id="03023-183">Typically, you might want to have your private repositories for your custom images either in a private repository in Azure Container Registry or in an on-premises registry like Docker Trusted Registry, or in a public-cloud registry with restricted access (like Docker Hub), although in this last case if your code is not open source, you must trust the vendor's security.</span></span> <span data-ttu-id="03023-184">En cualquier caso, el método por el que hacer esto es bastante similar y se basa en última instancia en el comando de inserción de docker, como se muestra en la figura 5-4.</span><span class="sxs-lookup"><span data-stu-id="03023-184">Either way, the method by which you do this is pretty similar and ultimately based on the docker push command, as depicted in Figure 5-4.</span></span>

![](./media/image4.png)

<span data-ttu-id="03023-185">Figura 5-4: Publicar imágenes personalizadas en el registro de Docker</span><span class="sxs-lookup"><span data-stu-id="03023-185">Figure 5-4: Publishing custom images to Docker Registry</span></span>

<span data-ttu-id="03023-186">Hay varias ofertas de los registros de Docker de proveedores de nube como Azure Container Registry, registro de contenedor de servicios Web de Amazon, Google Container Registry, registro del muelle y así sucesivamente.</span><span class="sxs-lookup"><span data-stu-id="03023-186">There are multiple offerings of Docker registries from cloud vendors like Azure Container Registry, Amazon Web Services Container Registry, Google Container Registry, Quay Registry, and so on.</span></span>

<span data-ttu-id="03023-187">Con la extensión de Docker de servicios de Azure DevOps, puede insertar un conjunto de imágenes de servicio definidos por un archivo docker-compose.yml, con varias etiquetas, en un registro autenticado de Docker (como Azure Container Registry), tal como se muestra en la figura 5-5.</span><span class="sxs-lookup"><span data-stu-id="03023-187">Using the Azure DevOps Services Docker extension, you can push a set of service images defined by a docker-compose.yml file, with multiple tags, to an authenticated Docker registry (like Azure Container Registry), as shown in Figure 5-5.</span></span>

![](./media/image5.png)

<span data-ttu-id="03023-188">Figura 5-5: Uso de servicios de Azure DevOps para publicar imágenes personalizadas a un registro de Docker</span><span class="sxs-lookup"><span data-stu-id="03023-188">Figure 5-5: Using Azure DevOps Services to publishing custom images to a Docker Registry</span></span>

<span data-ttu-id="03023-189">**Obtener más información** para obtener más información acerca de la extensión Docker para los servicios de Azure DevOps, vaya a <https://aka.ms/vstsdockerextension>.</span><span class="sxs-lookup"><span data-stu-id="03023-189">**More info** To read more about the Docker extension for Azure DevOps Services, go to <https://aka.ms/vstsdockerextension>.</span></span> <span data-ttu-id="03023-190">Para obtener más información sobre Azure Container Registry, vaya a <https://aka.ms/azurecontainerregistry>.</span><span class="sxs-lookup"><span data-stu-id="03023-190">To learn more about Azure Container Registry, go to <https://aka.ms/azurecontainerregistry>.</span></span>

## <a name="step-4-cd-deploy"></a><span data-ttu-id="03023-191">Paso 4: CD, implementar</span><span class="sxs-lookup"><span data-stu-id="03023-191">Step 4: CD, Deploy</span></span>

<span data-ttu-id="03023-192">La inmutabilidad de imágenes de Docker garantiza una implementación repetible, con lo que ha desarrollado, probado a través de los elementos de configuración y ejecución en producción.</span><span class="sxs-lookup"><span data-stu-id="03023-192">The immutability of Docker images ensures a repeatable deployment with what's developed, tested through CI, and run in production.</span></span> <span data-ttu-id="03023-193">Una vez que las imágenes de Docker de la aplicación publicadas en el registro de Docker (privado o público), puede implementarlas en los entornos de varias que pueda haber (producción, control de calidad, almacenamiento provisional, etc.) desde la canalización de CD mediante los servicios de Azure DevOps las tareas de canalización o servicios de Release Management de Azure DevOps.</span><span class="sxs-lookup"><span data-stu-id="03023-193">After you have the application Docker images published in your Docker registry (either private or public), you can deploy them to the several environments that you might have (production, QA, staging, etc.) from your CD pipeline by using Azure DevOps Services pipeline tasks or Azure DevOps Services Release Management.</span></span>

<span data-ttu-id="03023-194">Sin embargo, en este punto depende de qué tipo de aplicación de Docker está implementando.</span><span class="sxs-lookup"><span data-stu-id="03023-194">However, at this point it depends on what kind of Docker application you are deploying.</span></span> <span data-ttu-id="03023-195">Implementar una aplicación sencilla (desde una implementación y la composición de punto de vista) como un monolítica implementada y de aplicaciones que incluyen algunos contenedores o servicios a unos servidores o máquinas virtuales es muy diferente de la implementación de una aplicación más compleja, como un aplicación orientada a microservicios con capacidades de hiperescala.</span><span class="sxs-lookup"><span data-stu-id="03023-195">Deploying a simple application (from a composition and deployment point of view) like a monolithic application comprising a few containers or services and deployed to a few servers or VMs is very different from deploying a more complex application like a microservices-oriented application with hyperscale capabilities.</span></span> <span data-ttu-id="03023-196">Estos dos escenarios se explican en las secciones siguientes.</span><span class="sxs-lookup"><span data-stu-id="03023-196">These two scenarios are explained in the following sections.</span></span>

### <a name="deploying-composed-docker-applications-to-multiple-docker-environments"></a><span data-ttu-id="03023-197">Implementación de aplicaciones de Docker en varios entornos de Docker compuestas</span><span class="sxs-lookup"><span data-stu-id="03023-197">Deploying composed Docker applications to multiple Docker environments</span></span>

<span data-ttu-id="03023-198">Veamos primero el escenario menos complejo: implementar en hosts de Docker simple (máquinas virtuales o servidores) en un entorno único o varios entornos (control de calidad, ensayo y producción).</span><span class="sxs-lookup"><span data-stu-id="03023-198">Let's look first at the less-complex scenario: deploying to simple Docker hosts (VMs or servers) in a single environment or multiple environments (QA, staging, and production).</span></span> <span data-ttu-id="03023-199">En este escenario, internamente la canalización de CD puede usar docker-compose (de las tareas de implementación de servicios de Azure DevOps) para implementar las aplicaciones de Docker con su conjunto relacionado de contenedores y servicios, como se muestra en la figura 5-6.</span><span class="sxs-lookup"><span data-stu-id="03023-199">In this scenario, internally your CD pipeline can use docker-compose (from your Azure DevOps Services deployment tasks) to deploy the Docker applications with its related set of containers or services, as illustrated in Figure 5-6.</span></span>

![](./media/image6.png)

<span data-ttu-id="03023-200">Figura 5-6: Implementación de contenedores de aplicación para el registro de los entornos de host de Docker simple</span><span class="sxs-lookup"><span data-stu-id="03023-200">Figure 5-6: Deploying application containers to simple Docker host environments registry</span></span>

<span data-ttu-id="03023-201">Figura 5-7 destaca cómo pueden conectar los elementos de configuración de compilación para entornos de control de calidad y pruebas a través de servicios de Azure DevOps haciendo clic en Docker Compose en el cuadro de diálogo Agregar tarea.</span><span class="sxs-lookup"><span data-stu-id="03023-201">Figure 5-7 highlights how you can connect your build CI to QA/test environments via Azure DevOps Services by clicking Docker Compose in the Add Task dialog box.</span></span> <span data-ttu-id="03023-202">Sin embargo, al implementar en entornos de ensayo o producción, normalmente usaría las características de Release Management para administrar varios entornos (como el control de calidad, ensayo y producción).</span><span class="sxs-lookup"><span data-stu-id="03023-202">However, when deploying to staging or production environments, you would usually use Release Management features handling multiple environments (like QA, staging, and production).</span></span> <span data-ttu-id="03023-203">Si va a implementar en hosts de Docker único, que utiliza los servicios de Azure DevOps tarea "Docker Compose" (que está invocando a docker-compose comando debajo del capó).</span><span class="sxs-lookup"><span data-stu-id="03023-203">If you're deploying to single Docker hosts, it is using the Azure DevOps Services "Docker Compose" task (which is invoking the docker-compose up command under the hood).</span></span> <span data-ttu-id="03023-204">Si va a implementar en Azure Container Service, utiliza la tarea de implementación de Docker, como se explica en la sección siguiente.</span><span class="sxs-lookup"><span data-stu-id="03023-204">If you're deploying to Azure Container Service, it uses the Docker Deployment task, as explained in the section that follows.</span></span>

![](./media/image7.png)

<span data-ttu-id="03023-205">Figura 5-7: Agregar una tarea de Docker Compose en una canalización de servicios de Azure DevOps</span><span class="sxs-lookup"><span data-stu-id="03023-205">Figure 5-7: Adding a Docker Compose task in a Azure DevOps Services pipeline</span></span>

<span data-ttu-id="03023-206">Cuando se crea una versión en los servicios de Azure DevOps, toma un conjunto de artefactos de entrada.</span><span class="sxs-lookup"><span data-stu-id="03023-206">When you create a release in Azure DevOps Services, it takes a set of input artifacts.</span></span> <span data-ttu-id="03023-207">Estos están diseñados para ser inmutable durante la vigencia de la versión en varios entornos.</span><span class="sxs-lookup"><span data-stu-id="03023-207">These are intended to be immutable throughout the lifetime of the release across multiple environments.</span></span> <span data-ttu-id="03023-208">Cuando introduzca contenedores, los artefactos de entrada identifican imágenes en un registro para implementar.</span><span class="sxs-lookup"><span data-stu-id="03023-208">When you introduce containers, the input artifacts identify images in a registry to deploy.</span></span> <span data-ttu-id="03023-209">Dependiendo de cómo éstas vienen identificadas, no se garantiza que no cambian a lo largo de la duración de la versión, el caso más obvio que se va a cuando se hace referencia "myimage:latest" desde un archivo docker-Compose.</span><span class="sxs-lookup"><span data-stu-id="03023-209">Depending on how these are identified, they are not guaranteed to remain the same throughout the duration of the release, the most obvious case being when you reference "myimage:latest" from a docker-compose file.</span></span>

<span data-ttu-id="03023-210">La extensión Docker para los servicios de Azure DevOps proporciona resúmenes de la capacidad de generar los artefactos de compilación que contienen la imagen específica del registro que se garantiza que identifican la misma imagen binaria.</span><span class="sxs-lookup"><span data-stu-id="03023-210">The Docker extension for Azure DevOps Services gives you the ability to generate build artifacts that contain specific registry image digests that are guaranteed to uniquely identify the same image binary.</span></span> <span data-ttu-id="03023-211">Estos son lo que realmente desea utilizar como entrada para una versión.</span><span class="sxs-lookup"><span data-stu-id="03023-211">These are what you really want to use as input to a release.</span></span>

### <a name="managing-releases-to-docker-environments-by-using-azure-devops-services-release-management"></a><span data-ttu-id="03023-212">Administración de versiones para entornos de Docker mediante el uso de servicios de Release Management de Azure DevOps</span><span class="sxs-lookup"><span data-stu-id="03023-212">Managing releases to Docker environments by using Azure DevOps Services Release Management</span></span>

<span data-ttu-id="03023-213">Mediante las extensiones de servicios de Azure DevOps, puede cree una nueva imagen, publicarlo en un registro de Docker, se ejecutan en hosts de Linux o Windows y usar comandos como docker-compose para implementar varios contenedores como una aplicación completa, todo ello gracias a la Azure DevOps Servicios de capacidades de Release Management destinadas a varios entornos, como se muestra en la figura 5-8.</span><span class="sxs-lookup"><span data-stu-id="03023-213">Through the Azure DevOps Services extensions, you can build a new image, publish it to a Docker registry, run it on Linux or Windows hosts, and use commands such as docker-compose to deploy multiple containers as an entire application, all through the Azure DevOps Services Release Management capabilities intended for multiple environments, as shown in Figure 5-8.</span></span>

![](./media/image8.png)

<span data-ttu-id="03023-214">Figura 5-8: Configurar tareas de Docker Compose de servicios de DevOps de Azure desde Release Management para servicios de Azure DevOps</span><span class="sxs-lookup"><span data-stu-id="03023-214">Figure 5-8: Configuring Azure DevOps Services Docker Compose tasks from Azure DevOps Services Release Management</span></span>

<span data-ttu-id="03023-215">Sin embargo, tenga en cuenta que el escenario se muestra en la figura 5-6 y se implementa en la figura 5-8 es bastante básico (que se está implementando en los hosts de Docker simple y máquinas virtuales, y habrá un único contenedor o una instancia por imagen) y probablemente se debe usar solo para desarrollo o prueba sc Router.</span><span class="sxs-lookup"><span data-stu-id="03023-215">However, keep in mind that the scenario shown in Figure 5-6 and implemented in Figure 5-8 is pretty basic (it is deploying to simple Docker hosts and VMs, and there will be a single container or instance per image) and probably should be used only for development or test scenarios.</span></span> <span data-ttu-id="03023-216">En la mayoría de los escenarios de producción empresarial, querría tener alta disponibilidad (HA) y fácil de administrar la escalabilidad mediante Equilibrio de carga entre varios nodos, los servidores y las máquinas virtuales, además de "inteligente las conmutaciones por error" así que si un servidor o un nodo produce un error, sus servicios y los contenedores se moverá a otro servidor host o máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="03023-216">In most enterprise production scenarios, you would want to have High Availability (HA) and easy-to-manage scalability by load balancing across multiple nodes, servers, and VMs, plus "intelligent failovers" so that if a server or node fails, its services and containers will be moved to another host server or VM.</span></span> <span data-ttu-id="03023-217">En ese caso, necesita las tecnologías más avanzadas, como clústeres de contenedor, los orquestadores y los programadores.</span><span class="sxs-lookup"><span data-stu-id="03023-217">In that case, you need more advanced technologies like container clusters, orchestrators, and schedulers.</span></span> <span data-ttu-id="03023-218">Por lo tanto, la forma de implementar dichos clústeres es precisamente a través de los escenarios avanzados que se explica en la sección siguiente.</span><span class="sxs-lookup"><span data-stu-id="03023-218">Thus, the way to deploy to those clusters is precisely through the advanced scenarios explained in the next section.</span></span>

### <a name="deploying-complex-docker-applications-to-docker-clusters-dcos-kubernetes-and-docker-swarm"></a><span data-ttu-id="03023-219">Implementar aplicaciones complejas de Docker para clústeres de Docker (DC/OS, Kubernetes y Docker Swarm)</span><span class="sxs-lookup"><span data-stu-id="03023-219">Deploying complex Docker applications to Docker clusters (DC/OS, Kubernetes, and Docker Swarm)</span></span>

<span data-ttu-id="03023-220">La naturaleza de las aplicaciones distribuidas requiere recursos de proceso que también se distribuyen.</span><span class="sxs-lookup"><span data-stu-id="03023-220">The nature of distributed applications requires compute resources that are also distributed.</span></span> <span data-ttu-id="03023-221">Para que las capacidades de escala de producción, deberá tener funcionalidades que proporcionan una gran escalabilidad de clústeres y alta disponibilidad según los recursos agrupados.</span><span class="sxs-lookup"><span data-stu-id="03023-221">To have production-scale capabilities, you need to have clustering capabilities that provide high scalability and HA based on pooled resources.</span></span>

<span data-ttu-id="03023-222">Podría implementar manualmente los contenedores en esos clústeres desde una herramienta CLI como Docker Swarm (como el uso de [crear servicio docker](https://docs.docker.com/engine/swarm/swarm-tutorial/deploy-service/)) o una interfaz de usuario web, como [Mesosphere Marathon](https://mesosphere.github.io/marathon/docs/marathon-ui.html) para DC/OS, clústeres, pero debe reservar sólo para las pruebas de implementación punctual o para fines de administración, como el escalado horizontal o con fines de supervisión.</span><span class="sxs-lookup"><span data-stu-id="03023-222">You could deploy containers manually to those clusters from a CLI tool such as Docker Swarm (like using [docker service create](https://docs.docker.com/engine/swarm/swarm-tutorial/deploy-service/)) or a web UI such as [Mesosphere Marathon](https://mesosphere.github.io/marathon/docs/marathon-ui.html) for DC/OS clusters, but you should reserve that only for punctual deployment testing or for management purposes like scaling-out or monitoring purposes.</span></span>

<span data-ttu-id="03023-223">Desde un punto de vista de CD y servicios de Azure DevOps en concreto, puede ejecutar tareas de implementación creados especialmente desde los entornos de Release Management de Azure DevOps Services que se va a implementar las aplicaciones en contenedores para clústeres distribuidos en contenedor Servicio, como se muestra en la figura 5-9.</span><span class="sxs-lookup"><span data-stu-id="03023-223">From a CD point of view, and Azure DevOps Services specifically, you can run specially made deployment tasks from your Azure DevOps Services Release Management environments which will deploy your containerized applications to distributed clusters in Container Service, as illustrated in Figure 5-9.</span></span>

![](./media/image9.png)

<span data-ttu-id="03023-224">Figura 5-9: Implementación de aplicaciones distribuidas en Container Service</span><span class="sxs-lookup"><span data-stu-id="03023-224">Figure 5-9: Deploying distributed applications to Container Service</span></span>

<span data-ttu-id="03023-225">Inicialmente, al implementar en ciertas clústeres u orquestadores, tradicionalmente usaría los scripts de implementación específicos y mecanismos por cada orquestador (es decir, Mesosphere DC/OS o Kubernetes tienen mecanismos de implementación diferentes que Docker y Docker Swarm) en lugar de hacerlo más sencillo y fácil de usar docker-componen tool basándose en el archivo de definición de docker-compose.yml.</span><span class="sxs-lookup"><span data-stu-id="03023-225">Initially, when deploying to certain clusters or orchestrators, you would traditionally use specific deployment scripts and mechanisms per each orchestrator (that is, Mesosphere DC/OS or Kubernetes have different deployment mechanisms than Docker and Docker Swarm) instead of the simpler and easy-to-use docker-compose tool based on the docker-compose.yml definition file.</span></span> <span data-ttu-id="03023-226">Sin embargo, gracias a la tarea de implementación de Docker de servicios de Microsoft Azure DevOps, que se muestra en la figura 5-10, ahora también puede implementar en DC/OS si solo se usa el archivo docker-compose.yml familiar ya que Microsoft realiza esa traducción de"" por usted (desde la archivo docker-compose.yml a otros formatos necesarios para DC/OS).</span><span class="sxs-lookup"><span data-stu-id="03023-226">However, thanks to the Microsoft Azure DevOps Services Docker Deploy task, shown in Figure 5-10, you now also can deploy to DC/OS by just using your familiar docker-compose.yml file because Microsoft performs that "translation" for you (from your docker-compose.yml file to other formats needed by DC/OS).</span></span>

![](./media/image10.png)

<span data-ttu-id="03023-227">Figura 5-10: Agregar la tarea de implementación de Docker al entorno de RM</span><span class="sxs-lookup"><span data-stu-id="03023-227">Figure 5-10: Adding the Docker Deploy task to your Environment RM</span></span>

<span data-ttu-id="03023-228">Figura 5-11 se muestra cómo puede modificar la tarea de implementación de Docker y especificar el tipo de destino (Azure Container Service DC/OS, en este caso), el archivo de Docker Compose y la conexión de registro de Docker (como Azure Container Registry o Docker Hub).</span><span class="sxs-lookup"><span data-stu-id="03023-228">Figure 5-11 demonstrates how you can edit the Docker Deploy task and specify the Target Type (Azure Container Service DC/OS, in this case), your Docker Compose File, and the Docker Registry connection (like Azure Container Registry or Docker Hub).</span></span> <span data-ttu-id="03023-229">Esto es donde la tarea recuperará las imágenes de Docker listos para usar personalizadas que desee implementar como contenedores en el clúster de DC/OS.</span><span class="sxs-lookup"><span data-stu-id="03023-229">This is where the task will retrieve your ready-to-use custom Docker images to be deployed as containers in the DC/OS cluster.</span></span>

![](./media/image11.png)

<span data-ttu-id="03023-230">Figura 5-11: Implementación de docker implementar tareas definición a Azure Container Service DC/OS</span><span class="sxs-lookup"><span data-stu-id="03023-230">Figure 5-11: Docker Deploy task definition deploying to Azure Container Service DC/OS</span></span>

<span data-ttu-id="03023-231">**Obtener más información** para obtener más información acerca de la canalización de CD con Docker y servicios de DevOps de Azure, visite los sitios siguientes:</span><span class="sxs-lookup"><span data-stu-id="03023-231">**More info** To read more about the CD pipeline with Azure DevOps Services and Docker, visit the following sites:</span></span>

<span data-ttu-id="03023-232">Extensión de servicios de DevOps de Azure para Docker y Azure Container Service: [ https://aka.ms/\ vstsdockerextension](https://aka.ms/vstsdockerextension)</span><span class="sxs-lookup"><span data-stu-id="03023-232">Azure DevOps Services extension for Docker and Azure Container Service: [https://aka.ms/\ vstsdockerextension](https://aka.ms/vstsdockerextension)</span></span>

<span data-ttu-id="03023-233">Azure Container Service: <https://aka.ms/azurecontainerservice></span><span class="sxs-lookup"><span data-stu-id="03023-233">Azure Container Service: <https://aka.ms/azurecontainerservice></span></span>

<span data-ttu-id="03023-234">Mesosphere DC/OS: <https://mesosphere.com/product/></span><span class="sxs-lookup"><span data-stu-id="03023-234">Mesosphere DC/OS: <https://mesosphere.com/product/></span></span>

## <a name="step-5-run-and-manage"></a><span data-ttu-id="03023-235">Paso 5: Ejecutar y administrar</span><span class="sxs-lookup"><span data-stu-id="03023-235">Step 5: Run and manage</span></span>

<span data-ttu-id="03023-236">Porque está ejecutando y administración de aplicaciones en producción de la empresa nivel es un asunto principal de sí mismo y debido al tipo de operaciones y personas que trabajan en ese nivel (operaciones de TI), así como el ámbito de esta área de gran tamaño, nos hemos dedicado todo el contenido a continuación capítulo a explicarlo.</span><span class="sxs-lookup"><span data-stu-id="03023-236">Because running and managing applications at enterprise-production level is a major subject in and of itself, and due to the type of operations and people working at that level (IT operations) as well as the large scope of this area, we have devoted the entire next chapter to explaining it.</span></span>

## <a name="step-6-monitor-and-diagnose"></a><span data-ttu-id="03023-237">Paso 6: Supervisión y diagnóstico</span><span class="sxs-lookup"><span data-stu-id="03023-237">Step 6: Monitor and diagnose</span></span>

<span data-ttu-id="03023-238">Este tema también se trata en el capítulo siguiente como parte de las tareas que realiza las operaciones de TI en sistemas de producción; Sin embargo, es importante resaltar que deben suministrar los conocimientos obtenidos en este paso hasta que el equipo de desarrollo para que la aplicación se mejora constantemente.</span><span class="sxs-lookup"><span data-stu-id="03023-238">This topic also is covered in the next chapter as part of the tasks that IT operations performs in production systems; however, is important to highlight that the insights obtained in this step must feed back to the development team so that the application is constantly improved.</span></span> <span data-ttu-id="03023-239">Desde ese punto de vista, también forma parte de DevOps, aunque normalmente se realizan las tareas y operaciones por TI.</span><span class="sxs-lookup"><span data-stu-id="03023-239">From that point of view, it is also part of DevOps, although the tasks and operations are usually performed by IT.</span></span>

<span data-ttu-id="03023-240">Solo cuando la supervisión y diagnóstico es 100% en el ámbito de DevOps son los procesos de supervisión y análisis realizadas por el equipo de desarrollo frente a entornos de prueba o beta.</span><span class="sxs-lookup"><span data-stu-id="03023-240">Only when monitoring and diagnostics are 100 percent within the realm of DevOps are the monitoring processes and analytics performed by the development team against testing or beta environments.</span></span> <span data-ttu-id="03023-241">Esto se hace mediante la realización de pruebas de carga o simplemente mediante la supervisión de la versión beta o entornos de preguntas y respuestas, donde los evaluadores de beta están tratando de las nuevas versiones.</span><span class="sxs-lookup"><span data-stu-id="03023-241">This is done either by performing load testing or simply by monitoring beta or QA environments, where beta testers are trying the new versions.</span></span>

>[!div class="step-by-step"]
><span data-ttu-id="03023-242">[Anterior](index.md)
>[Siguiente](../run-manage-monitor-docker-environments/index.md)</span><span class="sxs-lookup"><span data-stu-id="03023-242">[Previous](index.md)
[Next](../run-manage-monitor-docker-environments/index.md)</span></span>