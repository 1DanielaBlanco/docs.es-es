---
title: Supervisar los servicios de aplicaciones en contenedores
description: Ciclo de vida de aplicaciones de Docker en contenedor con la plataforma y las herramientas de Microsoft
keywords: Docker, microservicios, ASP.NET, contenedor
author: CESARDELATORRE
ms.author: wiwagn
ms.date: 09/22/2017
ms.workload:
- dotnet
- dotnetcore
ms.openlocfilehash: 58bf96dfa06a78892563698200e6f4df5f371346
ms.sourcegitcommit: e7f04439d78909229506b56935a1105a4149ff3d
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 12/23/2017
---
# <a name="monitor-containerized-application-services"></a><span data-ttu-id="bf19b-104">Supervisar los servicios de aplicaciones en contenedores</span><span class="sxs-lookup"><span data-stu-id="bf19b-104">Monitor containerized application services</span></span>

<span data-ttu-id="bf19b-105">Es fundamental para las aplicaciones que se divide en varios contenedores y microservicios tiene una manera de supervisar y analizar el comportamiento de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="bf19b-105">It is critical for applications split into multiple containers and microservices to have a way to monitor and analyze the behavior of the application.</span></span>

## <a name="microsoft-application-insights"></a><span data-ttu-id="bf19b-106">Visión de la aplicación de Microsoft</span><span class="sxs-lookup"><span data-stu-id="bf19b-106">Microsoft Application Insights</span></span>

<span data-ttu-id="bf19b-107">[Application Insights](https://docs.microsoft.com/azure/application-insights/app-insights-overview) es un servicio de análisis extensible que supervisa su aplicación en vivo.</span><span class="sxs-lookup"><span data-stu-id="bf19b-107">[Application Insights](https://docs.microsoft.com/azure/application-insights/app-insights-overview) is an extensible analytics service that monitors your live application.</span></span> <span data-ttu-id="bf19b-108">Puede ayudarle a detectar y diagnosticar problemas de rendimiento y a comprender lo que los usuarios hacer con la aplicación.</span><span class="sxs-lookup"><span data-stu-id="bf19b-108">It helps you to detect and diagnose performance issues and to understand what users actually do with your app.</span></span> <span data-ttu-id="bf19b-109">Está diseñado para los desarrolladores, con el propósito de ayudar a mejorar continuamente el rendimiento y facilidad de uso de los servicios o aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="bf19b-109">It's designed for developers, with the intent of helping you to continuously improve the performance and usability of your services or applications.</span></span> <span data-ttu-id="bf19b-110">Visión de la aplicación funciona con/servicios web e independiente aplicaciones en una amplia variedad de plataformas como. NET, Java, Node.js y muchas otras plataformas, habían hospedado en local o en la nube.</span><span class="sxs-lookup"><span data-stu-id="bf19b-110">Application Insights works with both web/services and standalone apps on a wide variety of platforms like .NET, Java, Node.js and many other platforms, hosted on-premises or in the cloud.</span></span>

### <a name="analyzing-docker-apps-in-qa-environments-using-application-insights"></a><span data-ttu-id="bf19b-111">Analizar aplicaciones de Docker en entornos de preguntas y respuestas con Application Insights</span><span class="sxs-lookup"><span data-stu-id="bf19b-111">Analyzing Docker apps in QA environments using Application Insights</span></span>

<span data-ttu-id="bf19b-112">Ya que pertenece a Docker, puede realizar un gráfico eventos de ciclo de vida y contadores de rendimiento de los contenedores de Docker en la información de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="bf19b-112">As it pertains to Docker, you can chart life-cycle events and performance counters from Docker containers on Application Insights.</span></span> <span data-ttu-id="bf19b-113">Solo tiene que ejecutar el [imagen de aplicación visión Docker](https://hub.docker.com/r/microsoft/applicationinsights/) como un contenedor en el host y muestra los contadores de rendimiento para el host, así como para las otras imágenes de Docker.</span><span class="sxs-lookup"><span data-stu-id="bf19b-113">You just need to run the [Application Insights Docker image](https://hub.docker.com/r/microsoft/applicationinsights/) as a container in your host, and it will display performance counters for the host as well as for the other Docker images.</span></span> <span data-ttu-id="bf19b-114">Esta imagen de Docker de información de aplicación (figura 6 - 1) le ayuda a supervisar las aplicaciones en contenedores mediante la recopilación de telemetría acerca del rendimiento y la actividad de su host de Docker (es decir, las máquinas virtuales de Linux), los contenedores de Docker y las aplicaciones se ejecutan dentro de ellos.</span><span class="sxs-lookup"><span data-stu-id="bf19b-114">This Application Insights Docker image (Figure 6-1) helps you to monitor your containerized applications by collecting telemetry about the performance and activity of your Docker host (that is, your Linux VMs), Docker containers and the applications running within them.</span></span>

![ejemplo](./media/image1.png)

<span data-ttu-id="bf19b-116">Figura 6-1: Application Insights supervisión contenedores y los hosts de Docker</span><span class="sxs-lookup"><span data-stu-id="bf19b-116">Figure 6-1: Application Insights monitoring Docker hosts and containers</span></span>

<span data-ttu-id="bf19b-117">Al ejecutar el [imagen de aplicación visión Docker](https://hub.docker.com/r/microsoft/applicationinsights/) en el host Docker, beneficiarse de las siguientes:</span><span class="sxs-lookup"><span data-stu-id="bf19b-117">When you run the [Application Insights Docker image](https://hub.docker.com/r/microsoft/applicationinsights/) on your Docker host, you benefit from the following:</span></span>

-   <span data-ttu-id="bf19b-118">Ciclo de vida de telemetría acerca de todos los contenedores que se ejecutan en el host: iniciar, detener y así sucesivamente.</span><span class="sxs-lookup"><span data-stu-id="bf19b-118">Life-cycle telemetry about all the containers running on the host—start, stop, and so on.</span></span>

-   <span data-ttu-id="bf19b-119">Contadores de rendimiento para todos los contenedores: CPU, memoria, uso de la red y mucho más.</span><span class="sxs-lookup"><span data-stu-id="bf19b-119">Performance counters for all the containers: CPU, memory, network usage, and more.</span></span>

-   <span data-ttu-id="bf19b-120">Si instaló también [Application Insights SDK](https://docs.microsoft.com/azure/application-insights/app-insights-asp-net) en las aplicaciones que se ejecutan en los contenedores, todas la telemetría de esas aplicaciones tendrán propiedades adicionales que identifica el equipo de contenedor y el host.</span><span class="sxs-lookup"><span data-stu-id="bf19b-120">If you also installed [Application Insights SDK](https://docs.microsoft.com/azure/application-insights/app-insights-asp-net) in the apps running in the containers, all the telemetry of those apps will have additional properties identifying the container and host machine.</span></span> <span data-ttu-id="bf19b-121">Por lo tanto, por ejemplo, si tiene instancias de aplicaciones que se ejecutan en más de un host, fácilmente podrá filtrar la telemetría de aplicación host.</span><span class="sxs-lookup"><span data-stu-id="bf19b-121">So, for example, if you have instances of an app running in more than one host, you'll easily be able to filter your app telemetry by host.</span></span>

### <a name="setting-up-application-insights-to-monitor-docker-applications-and-docker-hosts"></a><span data-ttu-id="bf19b-122">Configuración de Application Insights para supervisar las aplicaciones de Docker y hosts de Docker</span><span class="sxs-lookup"><span data-stu-id="bf19b-122">Setting up Application Insights to monitor Docker applications and Docker hosts</span></span>

<span data-ttu-id="bf19b-123">Para crear un recurso de Application Insights, siga las instrucciones que aparecen en los artículos que se presentan en la lista que sigue.</span><span class="sxs-lookup"><span data-stu-id="bf19b-123">To create an Application Insights resource, follow the instructions in the articles presented in the list that follows.</span></span> <span data-ttu-id="bf19b-124">Portal de Azure creará el script necesario para usted.</span><span class="sxs-lookup"><span data-stu-id="bf19b-124">Azure Portal will create the necessary script for you.</span></span>

-   <span data-ttu-id="bf19b-125">**Supervisar las aplicaciones de Docker de Application Insights:**[https://docs.microsoft.com/azure/application-insights/app-insights-docker  ](https://docs.microsoft.com/azure/application-insights/app-insights-docker)</span><span class="sxs-lookup"><span data-stu-id="bf19b-125">**Monitor Docker applications in Application Insights:**  [https://docs.microsoft.com/azure/application-insights/app-insights-docker](https://docs.microsoft.com/azure/application-insights/app-insights-docker)</span></span>

-   <span data-ttu-id="bf19b-126">**Imagen de Docker de visión de la aplicación en Docker Hub y Github:**</span><span class="sxs-lookup"><span data-stu-id="bf19b-126">**Application Insights Docker image at Docker Hub and Github:**</span></span>  
<span data-ttu-id="bf19b-127">[https://hub.docker.com/r/Microsoft/applicationinsights/](https://hub.docker.com/r/microsoft/applicationinsights/) y <https://github.com/Microsoft/ApplicationInsights-Docker></span><span class="sxs-lookup"><span data-stu-id="bf19b-127">[https://hub.docker.com/r/microsoft/applicationinsights/](https://hub.docker.com/r/microsoft/applicationinsights/) and <https://github.com/Microsoft/ApplicationInsights-Docker></span></span>

-   <span data-ttu-id="bf19b-128">**Configure información de aplicación de ASP.NET:**</span><span class="sxs-lookup"><span data-stu-id="bf19b-128">**Set up Application Insights for ASP.NET:**</span></span>  
[<span data-ttu-id="bf19b-129">https://docs.microsoft.com/azure/application-insights/app-insights-asp-net</span><span class="sxs-lookup"><span data-stu-id="bf19b-129">https://docs.microsoft.com/azure/application-insights/app-insights-asp-net</span></span>](https://docs.microsoft.com/azure/application-insights/app-insights-asp-net)

-   <span data-ttu-id="bf19b-130">**Application Insights para páginas web:**</span><span class="sxs-lookup"><span data-stu-id="bf19b-130">**Application Insights for web pages:**</span></span>  
<span data-ttu-id="bf19b-131"><https://docs.microsoft.com/azure/application-insights/app-insights-javascript></span><span class="sxs-lookup"><span data-stu-id="bf19b-131"><https://docs.microsoft.com/azure/application-insights/app-insights-javascript></span></span>

## <a name="microsoft-operations-management-suite"></a><span data-ttu-id="bf19b-132">Microsoft Operations Management Suite</span><span class="sxs-lookup"><span data-stu-id="bf19b-132">Microsoft Operations Management Suite</span></span>

<span data-ttu-id="bf19b-133">[Operations Management Suite](http://microsoft.com/oms) es una solución de administración simplificada de TI que proporciona análisis de registros, la automatización, la copia de seguridad y recuperación del sitio.</span><span class="sxs-lookup"><span data-stu-id="bf19b-133">[Operations Management Suite](http://microsoft.com/oms) is a simplified IT management solution that provides log analytics, automation, backup, and site recovery.</span></span> <span data-ttu-id="bf19b-134">En función de [consultas](https://blogs.technet.microsoft.com/msoms/2016/01/21/easy-microsoft-operations-management-suite-search-queries/) en Operations Management Suite, puede generar [alertas](https://docs.microsoft.com/azure/operations-management-suite/operations-management-suite-monitoring-alerts) y establezca la corrección a través de [automatización de Azure](https://docs.microsoft.com/azure/automation/).</span><span class="sxs-lookup"><span data-stu-id="bf19b-134">Based on [queries](https://blogs.technet.microsoft.com/msoms/2016/01/21/easy-microsoft-operations-management-suite-search-queries/) in Operations Management Suite, you can raise [alerts](https://docs.microsoft.com/azure/operations-management-suite/operations-management-suite-monitoring-alerts) and set remediation via [Azure Automation](https://docs.microsoft.com/azure/automation/).</span></span> <span data-ttu-id="bf19b-135">Perfectamente también se integra con las soluciones de administración existente para proporcionar una sola vista de panel de vidrio.</span><span class="sxs-lookup"><span data-stu-id="bf19b-135">It also seamlessly integrates with your existing management solutions to provide a single pane-of-glass view.</span></span> <span data-ttu-id="bf19b-136">Operations Management Suite puede ayudarle a administrar y proteger el entorno local y la nube de infraestructura.</span><span class="sxs-lookup"><span data-stu-id="bf19b-136">Operations Management Suite helps you to manage and protect your on-premises and cloud infrastructure.</span></span>

### <a name="operations-management-suitehttpmicrosoftcomoms-container-solution-for-docker"></a><span data-ttu-id="bf19b-137">[Operations Management Suite](http://microsoft.com/oms) soluciones de contenedor de Docker</span><span class="sxs-lookup"><span data-stu-id="bf19b-137">[Operations Management Suite](http://microsoft.com/oms) Container Solution for Docker</span></span>

<span data-ttu-id="bf19b-138">Además de ofrecer servicios valiosos por sí mismo, la solución de contenedor de Operations Management Suite puede administrar y supervisar los hosts de Docker y contenedores mostrando información acerca de que los contenedores y los hosts de contenedor, que se están ejecutando contenedores o con error y los registros de demonio y contenedor de Docker enviados a *stdout* y *stderr*.</span><span class="sxs-lookup"><span data-stu-id="bf19b-138">In addition to providing valuable services on its own, the Operations Management Suite Container Solution can manage and monitor Docker hosts and containers by showing information about where your containers and container hosts are, which containers are running or failed, and Docker daemon and container logs sent to *stdout* and *stderr*.</span></span> <span data-ttu-id="bf19b-139">También muestra las métricas de rendimiento, como la CPU, la memoria, la red y el almacenamiento del contenedor y los hosts, para ayudar a solucionar problemas y detectar contenedores próximos ruidosos.</span><span class="sxs-lookup"><span data-stu-id="bf19b-139">It also shows performance metrics such as CPU, memory, network, and storage for the container and hosts to help you troubleshoot and find noisy neighbor containers.</span></span>

![](./media/image2.png)

<span data-ttu-id="bf19b-140">Figura 6-2: información acerca de los contenedores de Docker que se muestra por Operations Management Suite</span><span class="sxs-lookup"><span data-stu-id="bf19b-140">Figure 6-2: Information about Docker containers shown by Operations Management Suite</span></span>

<span data-ttu-id="bf19b-141">Application Insights y Operations Management Suite se centran en la supervisión de las actividades; Sin embargo, Application Insights se centra más en la supervisión de las aplicaciones por sí mismos gracias a su SDK que se ejecuta dentro de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="bf19b-141">Application Insights and Operations Management Suite both focus on monitoring activities; however, Application Insights focuses more on monitoring the apps themselves thanks to its SDK running within the app.</span></span> <span data-ttu-id="bf19b-142">Sin embargo, Operations Management Suite se centra mucho más en la infraestructura en torno a los hosts más ofrece un análisis profundo en registros en escala al proporcionar un sistema muy flexible de búsqueda o consulta controlada por datos.</span><span class="sxs-lookup"><span data-stu-id="bf19b-142">However, Operations Management Suite focuses much more on the infrastructure around the hosts, plus it offers deep analysis on logs at scale while providing a very flexible data-driven search/query system.</span></span>

<span data-ttu-id="bf19b-143">Debido a Operations Management Suite se implementa como un servicio basado en la nube, se puede hacer que a trabajar rápidamente con una mínima inversión en servicios de infraestructura.</span><span class="sxs-lookup"><span data-stu-id="bf19b-143">Because Operations Management Suite is implemented as a cloud-based service, you can have it up and running quickly with minimal investment in infrastructure services.</span></span> <span data-ttu-id="bf19b-144">Características nuevas se entregan automáticamente, lo que evita un mantenimiento continuado y costos de actualización.</span><span class="sxs-lookup"><span data-stu-id="bf19b-144">New features are delivered automatically, saving you from ongoing maintenance and upgrade costs.</span></span>

<span data-ttu-id="bf19b-145">Con la solución de contenedor de Operations Management Suite, puede hacer lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="bf19b-145">Using Operations Management Suite Container Solution, you can do the following:</span></span>

-   <span data-ttu-id="bf19b-146">Centralizar y correlacionar millones de registros de contenedores de Docker a escala</span><span class="sxs-lookup"><span data-stu-id="bf19b-146">Centralize and correlate millions of logs from Docker containers at scale</span></span>

-   <span data-ttu-id="bf19b-147">Ver información acerca de todos los hosts de contenedor en una única ubicación</span><span class="sxs-lookup"><span data-stu-id="bf19b-147">See information about all container hosts in a single location</span></span>

-   <span data-ttu-id="bf19b-148">Saber qué contenedores están ejecutando, la imagen que se ejecutan y donde se está ejecutando</span><span class="sxs-lookup"><span data-stu-id="bf19b-148">Know which containers are running, what image they're running, and where they're running</span></span>

-   <span data-ttu-id="bf19b-149">Diagnosticar rápidamente los contenedores de "vecino ruidoso" que pueden causar problemas en los hosts de contenedor</span><span class="sxs-lookup"><span data-stu-id="bf19b-149">Quickly diagnose "noisy neighbor" containers that can cause problems on container hosts</span></span>

-   <span data-ttu-id="bf19b-150">Vea una pista de auditoría de acciones en los contenedores</span><span class="sxs-lookup"><span data-stu-id="bf19b-150">See an audit trail for actions on containers</span></span>

-   <span data-ttu-id="bf19b-151">Solucionar problemas mediante la visualización y búsqueda de registros centralizados sin conexión remota para los hosts de Docker</span><span class="sxs-lookup"><span data-stu-id="bf19b-151">Troubleshoot by viewing and searching centralized logs without remoting to the Docker hosts</span></span>

-   <span data-ttu-id="bf19b-152">Buscar contenedores que podrían ser "vecinos con ruido" y consumo exceso de recursos en un host</span><span class="sxs-lookup"><span data-stu-id="bf19b-152">Find containers that might be "noisy neighbors" and consuming excess resources on a host</span></span>

-   <span data-ttu-id="bf19b-153">Ver centralizada CPU, memoria, almacenamiento e información de uso y rendimiento de red para contenedores</span><span class="sxs-lookup"><span data-stu-id="bf19b-153">View centralized CPU, memory, storage, and network usage and performance information for containers</span></span>

-   <span data-ttu-id="bf19b-154">Generar pruebas contenedores de Docker con automatización de Azure</span><span class="sxs-lookup"><span data-stu-id="bf19b-154">Generate test Docker containers with Azure Automation</span></span>

<span data-ttu-id="bf19b-155">Puede ver información sobre el rendimiento mediante la ejecución de consultas como tipo = Perf, tal como se muestra en la figura 6-3.</span><span class="sxs-lookup"><span data-stu-id="bf19b-155">You can see performance information by running queries like Type=Perf, as shown in Figure 6-3.</span></span>

![DockerPerfMetricsView](./media/image3.png)<span data-ttu-id="bf19b-157">{width="5.78625in" height="3.25in"}</span><span class="sxs-lookup"><span data-stu-id="bf19b-157">{width="5.78625in" height="3.25in"}</span></span>

<span data-ttu-id="bf19b-158">Figura 6-3: las métricas de rendimiento de hosts de Docker que se muestra por Operations Management Suite</span><span class="sxs-lookup"><span data-stu-id="bf19b-158">Figure 6-3: Performance metrics of Docker hosts shown by Operations Management Suite</span></span>

<span data-ttu-id="bf19b-159">Guardar las consultas también es una característica estándar en Operations Management Suite y puede ayudarle a mantener las consultas que haya encontrado útil y detecta las tendencias en el sistema.</span><span class="sxs-lookup"><span data-stu-id="bf19b-159">Saving queries is also a standard feature in Operations Management Suite and can help you keep queries you've found useful and discover trends in your system.</span></span>

<span data-ttu-id="bf19b-160">**Obtener más información** para buscar información sobre cómo instalar y configurar el Docker soluciones de contenedor en [Operations Management Suite](http://microsoft.com/oms), vaya a <https://docs.microsoft.com/azure/log-analytics /log-Analytics-Containers>.</span><span class="sxs-lookup"><span data-stu-id="bf19b-160">**More info** To find information on installing and configuring the Docker container solution in [Operations Management Suite](http://microsoft.com/oms), go to <https://docs.microsoft.com/azure/log-analytics/log-analytics-containers>.</span></span>

>[!div class="step-by-step"]
<span data-ttu-id="bf19b-161">[Previous] (manage-production-docker-environments.md) [Next] (../key-takeaways/index.md)</span><span class="sxs-lookup"><span data-stu-id="bf19b-161">[Previous] (manage-production-docker-environments.md) [Next] (../key-takeaways/index.md)</span></span>
