---
title: "Imágenes oficiales de Docker de .NET"
description: "Arquitectura de microservicios de .NET para aplicaciones .NET en contenedor | Imágenes de Docker de .NET oficiales"
keywords: Docker, microservicios, ASP.NET, contenedor
author: CESARDELATORRE
ms.author: wiwagn
ms.date: 10/18/2017
ms.prod: .net-core
ms.technology: dotnet-docker
ms.topic: article
ms.workload:
- dotnet
- dotnetcore
ms.openlocfilehash: 42872caa1a9306187daeefd35feb9bec3fae60af
ms.sourcegitcommit: e7f04439d78909229506b56935a1105a4149ff3d
ms.translationtype: HT
ms.contentlocale: es-ES
ms.lasthandoff: 12/23/2017
---
# <a name="official-net-docker-images"></a><span data-ttu-id="99d1c-104">Imágenes oficiales de Docker de .NET</span><span class="sxs-lookup"><span data-stu-id="99d1c-104">Official .NET Docker images</span></span>

<span data-ttu-id="99d1c-105">Las imágenes oficiales de Docker de .NET son imágenes de Docker que Microsoft ha creado y optimizado.</span><span class="sxs-lookup"><span data-stu-id="99d1c-105">The Official .NET Docker images are Docker images created and optimized by Microsoft.</span></span> <span data-ttu-id="99d1c-106">Están disponibles públicamente en los repositorios de Microsoft en [Docker Hub](https://hub.docker.com/u/microsoft/).</span><span class="sxs-lookup"><span data-stu-id="99d1c-106">They are publicly available in the Microsoft repositories on [Docker Hub](https://hub.docker.com/u/microsoft/).</span></span> <span data-ttu-id="99d1c-107">Cada repositorio puede contener varias imágenes, según las versiones de .NET y según el sistema operativo y las versiones (Linux Debian, Linux Alpine, Windows Nano Server, Windows Server Core, etcétera).</span><span class="sxs-lookup"><span data-stu-id="99d1c-107">Each repository can contain multiple images, depending on .NET versions, and depending on the OS and versions (Linux Debian, Linux Alpine, Windows Nano Server, Windows Server Core, etc.).</span></span>

<span data-ttu-id="99d1c-108">Lo que pretende Microsoft con los repositorios de .NET es disponer de repositorios orientados y detallados que representen un escenario o una carga de trabajo específicos.</span><span class="sxs-lookup"><span data-stu-id="99d1c-108">Microsoft’s vision for .NET repositories is to have granular and focused repos, where a repo represents a specific scenario or workload.</span></span> <span data-ttu-id="99d1c-109">Por ejemplo, las imágenes [microsoft/aspnetcore](https://hub.docker.com/r/microsoft/aspnetcore/) se deben emplear al usar ASP.NET Core en Docker, porque esas imágenes de ASP.NET Core proporcionan optimizaciones adicionales para que los contenedores se puedan iniciar más rápidamente.</span><span class="sxs-lookup"><span data-stu-id="99d1c-109">For instance, the [microsoft/aspnetcore](https://hub.docker.com/r/microsoft/aspnetcore/) images should be used when using ASP.NET Core on Docker, because those ASP.NET Core images provide additional optimizations so containers can start faster.</span></span>

<span data-ttu-id="99d1c-110">Por otro lado, las imágenes de .NET Core (microsoft/dotnet) están diseñadas para las aplicaciones de consola basadas en .NET Core.</span><span class="sxs-lookup"><span data-stu-id="99d1c-110">On the other hand, the .NET Core images (microsoft/dotnet) are intended for console apps based on .NET Core.</span></span> <span data-ttu-id="99d1c-111">Por ejemplo, los procesos por lotes, Azure WebJobs y otros escenarios de consola deben usar .NET Core.</span><span class="sxs-lookup"><span data-stu-id="99d1c-111">For example, batch processes, Azure WebJobs, and other console scenarios should use .NET Core.</span></span> <span data-ttu-id="99d1c-112">Estas imágenes no incluyen la pila de ASP.NET Core, lo que produce una imagen de contenedor más pequeña.</span><span class="sxs-lookup"><span data-stu-id="99d1c-112">Those images do not include the ASP.NET Core stack, resulting in a smaller container image.</span></span>

<span data-ttu-id="99d1c-113">La mayoría de los repositorios de imágenes ofrece un etiquetado exhaustivo con el que es más fácil elegir no solo la versión de un marco concreto, sino también un sistema operativo (distribución de Linux o versión de Windows).</span><span class="sxs-lookup"><span data-stu-id="99d1c-113">Most image repos provide extensive tagging to help you select not just a specific framework version, but also to choose an OS (Linux distro or Windows version).</span></span>

<span data-ttu-id="99d1c-114">Para más información sobre las imágenes oficiales de Docker de .NET que proporciona Microsoft, vea el [resumen de imágenes de Docker de .NET](https://aka.ms/dotnetdockerimages).</span><span class="sxs-lookup"><span data-stu-id="99d1c-114">For further information about the official .NET Docker images provided by Microsoft, see the [.NET Docker Images summary](https://aka.ms/dotnetdockerimages).</span></span>

## <a name="net-core-and-docker-image-optimizations-for-development-versus-production"></a><span data-ttu-id="99d1c-115">Optimizaciones de imágenes de .NET Core y Docker para desarrollo y para producción</span><span class="sxs-lookup"><span data-stu-id="99d1c-115">.NET Core and Docker image optimizations for development versus production</span></span>

<span data-ttu-id="99d1c-116">Al compilar imágenes de Docker para desarrolladores, Microsoft se centró en los siguientes escenarios principales:</span><span class="sxs-lookup"><span data-stu-id="99d1c-116">When building Docker images for developers, Microsoft focused on the following main scenarios:</span></span>

-   <span data-ttu-id="99d1c-117">Imágenes que se usan para *desarrollar* y compilar aplicaciones de .NET Core.</span><span class="sxs-lookup"><span data-stu-id="99d1c-117">Images used to *develop* and build .NET Core apps.</span></span>

-   <span data-ttu-id="99d1c-118">Imágenes que se usan para *ejecutar* aplicaciones de .NET Core.</span><span class="sxs-lookup"><span data-stu-id="99d1c-118">Images used to *run* .NET Core apps.</span></span>

<span data-ttu-id="99d1c-119">¿Por qué varias imágenes?</span><span class="sxs-lookup"><span data-stu-id="99d1c-119">Why multiple images?</span></span> <span data-ttu-id="99d1c-120">Al desarrollar, compilar y ejecutar aplicaciones en contenedor, normalmente hay prioridades diferentes.</span><span class="sxs-lookup"><span data-stu-id="99d1c-120">When developing, building, and running containerized applications, you usually have different priorities.</span></span> <span data-ttu-id="99d1c-121">Al proporcionar diferentes imágenes para estas tareas independientes, con Microsoft es más fácil optimizar los procesos independientes de desarrollo, creación e implementación de aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="99d1c-121">By providing different images for these separate tasks, Microsoft helps optimize the separate processes of developing, building, and deploying apps.</span></span>

### <a name="during-development-and-build"></a><span data-ttu-id="99d1c-122">Durante el desarrollo y la compilación</span><span class="sxs-lookup"><span data-stu-id="99d1c-122">During development and build</span></span>

<span data-ttu-id="99d1c-123">Durante el desarrollo, lo importante es la velocidad con que se pueden iterar los cambios y la capacidad para depurar los cambios.</span><span class="sxs-lookup"><span data-stu-id="99d1c-123">During development, what is important is how fast you can iterate changes, and the ability to debug the changes.</span></span> <span data-ttu-id="99d1c-124">El tamaño de la imagen no es tan importante como la capacidad de realizar cambios en el código y ver rápidamente los cambios.</span><span class="sxs-lookup"><span data-stu-id="99d1c-124">The size of the image is not as important as the ability to make changes to your code and see the changes quickly.</span></span> <span data-ttu-id="99d1c-125">Algunas herramientas y "contenedores de agente de compilación" usan la imagen de ASP.NET Core de desarrollo (microsoft/aspnetcore-build) durante el proceso de desarrollo y compilación.</span><span class="sxs-lookup"><span data-stu-id="99d1c-125">Some tools and "build-agent containers", use the development ASP.NET Core image (microsoft/aspnetcore-build) during development and build proces.</span></span> <span data-ttu-id="99d1c-126">Al compilar dentro de un contenedor de Docker, los aspectos importantes son los elementos necesarios para compilar la aplicación.</span><span class="sxs-lookup"><span data-stu-id="99d1c-126">When building inside a Docker container, the important aspects are the elements that are needed in order to compile your app.</span></span> <span data-ttu-id="99d1c-127">Esto incluye el compilador y cualquier otra dependencia de .NET, así como las dependencias de desarrollo web como npm, Gulp y Bower.</span><span class="sxs-lookup"><span data-stu-id="99d1c-127">This includes the compiler and any other .NET dependencies, plus web development dependencies like npm, Gulp, and Bower.</span></span>

<span data-ttu-id="99d1c-128">¿Por qué es importante este tipo de imagen de compilación?</span><span class="sxs-lookup"><span data-stu-id="99d1c-128">Why is this type of build image important?</span></span> <span data-ttu-id="99d1c-129">Esta imagen no se implementa para producción,</span><span class="sxs-lookup"><span data-stu-id="99d1c-129">You do not deploy this image to production.</span></span> <span data-ttu-id="99d1c-130">sino que es una imagen que se usa para compilar el contenido que se coloca en una imagen de producción.</span><span class="sxs-lookup"><span data-stu-id="99d1c-130">Instead, it is an image you use to build the content you place into a production image.</span></span> <span data-ttu-id="99d1c-131">Esta imagen se usaría en el entorno de integración continua (CI) o el entorno de compilación.</span><span class="sxs-lookup"><span data-stu-id="99d1c-131">This image would be used in your continuous integration (CI) environment or build environment.</span></span> <span data-ttu-id="99d1c-132">Por ejemplo, en lugar de instalar de forma manual todas las dependencias de la aplicación directamente en un host de agente de compilación (una máquina virtual, por ejemplo), el agente de compilación crearía una instancia de una imagen de compilación de .NET Core con todas las dependencias necesarias para compilar la aplicación.</span><span class="sxs-lookup"><span data-stu-id="99d1c-132">For instance, rather than manually installing all your application dependencies directly on a build agent host (a VM, for example), the build agent would instantiate a .NET Core build image with all the dependencies required to build the application.</span></span> <span data-ttu-id="99d1c-133">El agente de compilación solo necesita saber cómo ejecutar la imagen de Docker.</span><span class="sxs-lookup"><span data-stu-id="99d1c-133">Your build agent only needs to know how to run this Docker image.</span></span> <span data-ttu-id="99d1c-134">Esto simplifica el entorno de integración continua, que resulta mucho más predecible.</span><span class="sxs-lookup"><span data-stu-id="99d1c-134">This simplifies your CI environment and makes it much more predictable.</span></span>

### <a name="in-production"></a><span data-ttu-id="99d1c-135">En producción</span><span class="sxs-lookup"><span data-stu-id="99d1c-135">In production</span></span>

<span data-ttu-id="99d1c-136">Lo importante en producción es la rapidez con que se pueden implementar e iniciar los contenedores según una imagen de .NET Core de producción.</span><span class="sxs-lookup"><span data-stu-id="99d1c-136">What is important in production is how fast you can deploy and start your containers based on a production .NET Core image.</span></span> <span data-ttu-id="99d1c-137">Por tanto, la imagen solo en tiempo de ejecución basada en [microsoft/aspnetcore](https://hub.docker.com/r/microsoft/aspnetcore/) es pequeña, por lo que puede desplazarse rápidamente a través de la red desde el Registro de Docker hasta los hosts de Docker.</span><span class="sxs-lookup"><span data-stu-id="99d1c-137">Therefore, the runtime-only image based on [microsoft/aspnetcore](https://hub.docker.com/r/microsoft/aspnetcore/) is small so that it can travel quickly across the network from your Docker registry to your Docker hosts.</span></span> <span data-ttu-id="99d1c-138">El contenido está listo para ejecutarse, lo que agiliza el proceso que va desde iniciar el contenedor hasta procesar los resultados.</span><span class="sxs-lookup"><span data-stu-id="99d1c-138">The contents are ready to run, enabling the fastest time from starting the container to processing results.</span></span> <span data-ttu-id="99d1c-139">En el modelo de Docker, no es necesario compilar desde el código C\#, como cuando se ejecuta dotnet build o dotnet publish al usar el contenedor de compilación.</span><span class="sxs-lookup"><span data-stu-id="99d1c-139">In the Docker model, there is no need for compilation from C\# code, as there is when you run dotnet build or dotnet publish when using the build container.</span></span>

<span data-ttu-id="99d1c-140">En esta imagen optimizada solo se colocan los archivos binarios y otros contenidos necesarios para ejecutar la aplicación.</span><span class="sxs-lookup"><span data-stu-id="99d1c-140">In this optimized image you put only the binaries and other content needed to run the application.</span></span> <span data-ttu-id="99d1c-141">Por ejemplo, el contenido que crea dotnet publish solo contiene los archivos binarios de .NET compilados, las imágenes y los archivos .js y .css.</span><span class="sxs-lookup"><span data-stu-id="99d1c-141">For example, the content created by dotnet publish contains only the compiled .NET binaries, images, .js, and .css files.</span></span> <span data-ttu-id="99d1c-142">Con el tiempo, verá imágenes que contienen paquetes anteriores a la compilación JIT.</span><span class="sxs-lookup"><span data-stu-id="99d1c-142">Over time, you will see images that contain pre-jitted packages.</span></span>

<span data-ttu-id="99d1c-143">Aunque hay varias versiones de las imágenes de .NET Core y ASP.NET Core, todas ellas comparten una o más capas, incluida la capa base.</span><span class="sxs-lookup"><span data-stu-id="99d1c-143">Although there are multiple versions of the .NET Core and ASP.NET Core images, they all share one or more layers, including the base layer.</span></span> <span data-ttu-id="99d1c-144">Por tanto, la cantidad de espacio en disco necesaria para almacenar una imagen es pequeña; consiste únicamente en las diferencias entre la imagen personalizada y su imagen base.</span><span class="sxs-lookup"><span data-stu-id="99d1c-144">Therefore, the amount of disk space needed to store an image is small; it consists only of the delta between your custom image and its base image.</span></span> <span data-ttu-id="99d1c-145">El resultado es que es rápido extraer la imagen desde el registro.</span><span class="sxs-lookup"><span data-stu-id="99d1c-145">The result is that it is quick to pull the image from your registry.</span></span>

<span data-ttu-id="99d1c-146">Al explorar los repositorios de imágenes de .NET en Docker Hub, encontrará varias versiones de imágenes clasificadas o marcadas con etiquetas.</span><span class="sxs-lookup"><span data-stu-id="99d1c-146">When you explore the .NET image repositories at Docker Hub, you will find multiple image versions classified or marked with tags.</span></span> <span data-ttu-id="99d1c-147">Estas etiquetas ayudan a decidir cuál usar, según la versión que necesite, como las de la tabla siguiente:</span><span class="sxs-lookup"><span data-stu-id="99d1c-147">These tags help to decide which one to use, depending on the version you need, like those in the following table:</span></span>

-   <span data-ttu-id="99d1c-148">microsoft/**aspnetcore:2.0**</span><span class="sxs-lookup"><span data-stu-id="99d1c-148">microsoft/**aspnetcore:2.0**</span></span>

        ASP.NET Core, with runtime only and ASP.NET Core optimizations, on Linux and Windows (multi-arch)

-   <span data-ttu-id="99d1c-149">microsoft/**aspnetcore-build:2.0**</span><span class="sxs-lookup"><span data-stu-id="99d1c-149">microsoft/**aspnetcore-build:2.0**</span></span>

        ASP.NET Core, with SDKs included, on Linux and Windows (multi-arch)


>[!div class="step-by-step"]
<span data-ttu-id="99d1c-150">[Previous] (net-container-os-targets.md) [Next] (../architect-microservice-container-applications/index.md)</span><span class="sxs-lookup"><span data-stu-id="99d1c-150">[Previous] (net-container-os-targets.md) [Next] (../architect-microservice-container-applications/index.md)</span></span>
