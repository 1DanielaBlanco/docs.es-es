---
title: "Arquitectura lógica frente a arquitectura física"
description: "Arquitectura de microservicios de .NET para aplicaciones .NET en contenedores | Arquitectura lógica frente a arquitectura física"
keywords: Docker, microservicios, ASP.NET, contenedor
author: CESARDELATORRE
ms.author: wiwagn
ms.date: 05/26/2017
ms.prod: .net-core
ms.technology: dotnet-docker
ms.topic: article
ms.workload:
- dotnet
- dotnetcore
ms.openlocfilehash: b08a5b8fb8f9df8a9a0a821fa85f1f6a94fce2d3
ms.sourcegitcommit: e7f04439d78909229506b56935a1105a4149ff3d
ms.translationtype: HT
ms.contentlocale: es-ES
ms.lasthandoff: 12/23/2017
---
# <a name="logical-architecture-versus-physical-architecture"></a><span data-ttu-id="8268f-104">Arquitectura lógica frente a arquitectura física</span><span class="sxs-lookup"><span data-stu-id="8268f-104">Logical architecture versus physical architecture</span></span>

<span data-ttu-id="8268f-105">Es útil en este momento detenerse y analizar la diferencia entre la arquitectura lógica y la arquitectura física y cómo se aplica al diseño de aplicaciones basadas en microservicios.</span><span class="sxs-lookup"><span data-stu-id="8268f-105">It is useful at this point to stop and discuss the distinction between logical architecture and physical architecture, and how this applies to the design of microservice-based applications.</span></span>

<span data-ttu-id="8268f-106">Para empezar, para generar microservicios no es necesario usar ninguna tecnología específica.</span><span class="sxs-lookup"><span data-stu-id="8268f-106">To begin, building microservices does not require the use of any specific technology.</span></span> <span data-ttu-id="8268f-107">Por ejemplo, los contenedores de Docker no son obligatorios para crear una arquitectura basada en microservicios.</span><span class="sxs-lookup"><span data-stu-id="8268f-107">For instance, Docker containers are not mandatory in order to create a microservice-based architecture.</span></span> <span data-ttu-id="8268f-108">Esos microservicios también se pueden ejecutar como procesos sin formato.</span><span class="sxs-lookup"><span data-stu-id="8268f-108">Those microservices could also be run as plain processes.</span></span> <span data-ttu-id="8268f-109">Los microservicios son una arquitectura lógica.</span><span class="sxs-lookup"><span data-stu-id="8268f-109">Microservices is a logical architecture.</span></span>

<span data-ttu-id="8268f-110">Además, incluso cuando un microservicio podría implementarse físicamente como un servicio, proceso o contenedor único (para simplificar, es el enfoque adoptado en la versión inicial de [eShopOnContainers](http://aka.ms/MicroservicesArchitecture)), esta paridad entre microservicio empresarial y servicio o contenedor físico no es necesaria en todos los casos al compilar una aplicación grande y compleja formada por muchas docenas o incluso cientos de servicios.</span><span class="sxs-lookup"><span data-stu-id="8268f-110">Moreover, even when a microservice could be physically implemented as a single service, process, or container (for simplicity’s sake, that is the approach taken in the initial version of [eShopOnContainers](http://aka.ms/MicroservicesArchitecture)), this parity between business microservice and physical service or container is not necessarily required in all cases when you build a large and complex application composed of many dozens or even hundreds of services.</span></span>

<span data-ttu-id="8268f-111">Aquí es donde hay una diferencia entre la arquitectura lógica y la arquitectura física de una aplicación.</span><span class="sxs-lookup"><span data-stu-id="8268f-111">This is where there is a difference between an application’s logical architecture and physical architecture.</span></span> <span data-ttu-id="8268f-112">La arquitectura lógica y los límites lógicos de un sistema no se asignan necesariamente uno a uno a la arquitectura física o de implementación.</span><span class="sxs-lookup"><span data-stu-id="8268f-112">The logical architecture and logical boundaries of a system do not necessarily map one-to-one to the physical or deployment architecture.</span></span> <span data-ttu-id="8268f-113">Esto puede suceder, pero a menudo no es así.</span><span class="sxs-lookup"><span data-stu-id="8268f-113">It can happen, but it often does not.</span></span>

<span data-ttu-id="8268f-114">Aunque pueda haber identificado determinados microservicios o contextos limitados empresariales, esto no significa que la mejor manera de implementarlos sea siempre mediante la creación de un servicio único (como una ASP.NET Web API) o un contenedor de Docker único para cada microservicio empresarial.</span><span class="sxs-lookup"><span data-stu-id="8268f-114">Although you might have identified certain business microservices or Bounded Contexts, it does not mean that the best way to implement them is always by creating a single service (such as an ASP.NET Web API) or single Docker container for each business microservice.</span></span> <span data-ttu-id="8268f-115">Tener una regla que indique que cada microservicio empresarial debe implementarse mediante un único servicio o contenedor es demasiado rígido.</span><span class="sxs-lookup"><span data-stu-id="8268f-115">Having a rule saying each business microservice has to be implemented using a single service or container is too rigid.</span></span>

<span data-ttu-id="8268f-116">Por tanto, un microservicio o contexto limitado empresarial es una arquitectura lógica que podría coincidir (o no) con la arquitectura física.</span><span class="sxs-lookup"><span data-stu-id="8268f-116">Therefore, a business microservice or Bounded Context is a logical architecture that might coincide (or not) with physical architecture.</span></span> <span data-ttu-id="8268f-117">Lo importante es que un microservicio o contexto limitado empresarial debe ser autónomo y permitir que el código y el estado se versioneen, implementen y escalen de forma independiente.</span><span class="sxs-lookup"><span data-stu-id="8268f-117">The important point is that a business microservice or Bounded Context must be autonomous by allowing code and state to be independently versioned, deployed, and scaled.</span></span>

<span data-ttu-id="8268f-118">Como se muestra en la figura 4-8, el microservicio empresarial de catálogo podría estar compuesto de varios servicios o procesos.</span><span class="sxs-lookup"><span data-stu-id="8268f-118">As Figure 4-8 shows, the catalog business microservice could be composed of several services or processes.</span></span> <span data-ttu-id="8268f-119">Estos podrían ser varios servicios de ASP.NET Web API o cualquier otro tipo de servicio que use HTTP o cualquier otro protocolo.</span><span class="sxs-lookup"><span data-stu-id="8268f-119">These could be multiple ASP.NET Web API services or any other kind of services using HTTP or any other protocol.</span></span> <span data-ttu-id="8268f-120">Lo más importante es que los servicios puedan compartir los mismos datos, siempre y cuando estos servicios sean cohesivos con relación al mismo dominio empresarial.</span><span class="sxs-lookup"><span data-stu-id="8268f-120">More importantly, the services could share the same data, as long as these services are cohesive with respect to the same business domain.</span></span>

![](./media/image8.png)

<span data-ttu-id="8268f-121">**Figura 4-8**.</span><span class="sxs-lookup"><span data-stu-id="8268f-121">**Figure 4-8**.</span></span> <span data-ttu-id="8268f-122">Microservicio empresarial con varios servicios físicos</span><span class="sxs-lookup"><span data-stu-id="8268f-122">Business microservice with several physical services</span></span>

<span data-ttu-id="8268f-123">Los servicios del ejemplo comparten el mismo modelo de datos porque el servicio Web API tiene como destino los mismos datos que el servicio Search.</span><span class="sxs-lookup"><span data-stu-id="8268f-123">The services in the example share the same data model because the Web API service targets the same data as the Search service.</span></span> <span data-ttu-id="8268f-124">Por tanto, en la implementación física del microservicio empresarial, debe dividir esa función de manera que pueda escalar cada uno de esos servicios internos horizontal o verticalmente según sea necesario.</span><span class="sxs-lookup"><span data-stu-id="8268f-124">So, in the physical implementation of the business microservice, you are splitting that functionality so you can scale each of those internal services up or down as needed.</span></span> <span data-ttu-id="8268f-125">Quizá el servicio Web API normalmente necesita más instancias que el servicio Search, o viceversa.</span><span class="sxs-lookup"><span data-stu-id="8268f-125">Maybe the Web API service usually needs more instances than the Search service, or vice versa.)</span></span>

<span data-ttu-id="8268f-126">En resumen, la arquitectura lógica de los microservicios no siempre tiene que coincidir con la arquitectura de implementación física.</span><span class="sxs-lookup"><span data-stu-id="8268f-126">In short, the logical architecture of microservices does not always have to coincide with the physical deployment architecture.</span></span> <span data-ttu-id="8268f-127">En esta guía, siempre que se mencione un microservicio, se entiende que es un microservicio empresarial o lógico que se puede asignar a uno o más servicios.</span><span class="sxs-lookup"><span data-stu-id="8268f-127">In this guide, whenever we mention a microservice, we mean a business or logical microservice that could map to one or more services.</span></span> <span data-ttu-id="8268f-128">En la mayoría de los casos, se trata de un servicio único, pero puede que sean más.</span><span class="sxs-lookup"><span data-stu-id="8268f-128">In most cases, this will be a single service, but it might be more.</span></span>


>[!div class="step-by-step"]
<span data-ttu-id="8268f-129">[Previous] (data-sovereignty-per-microservice.md) [Next] (distributed-data-management.md)</span><span class="sxs-lookup"><span data-stu-id="8268f-129">[Previous] (data-sovereignty-per-microservice.md) [Next] (distributed-data-management.md)</span></span>
