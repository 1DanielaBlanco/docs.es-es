---
title: "Implementación de la comunicación basada en eventos entre microservicios (eventos de integración)"
description: "Arquitectura de Microservicios de .NET para aplicaciones .NET en contenedores | Implementación de la comunicación basada en eventos entre microservicios (eventos de integración)"
keywords: Docker, microservicios, ASP.NET, contenedor
author: CESARDELATORRE
ms.author: wiwagn
ms.date: 05/26/2017
ms.prod: .net-core
ms.technology: dotnet-docker
ms.topic: article
ms.openlocfilehash: e438607ab3549d63b89bef6af64c6723a4cac950
ms.sourcegitcommit: bd1ef61f4bb794b25383d3d72e71041a5ced172e
ms.translationtype: HT
ms.contentlocale: es-ES
ms.lasthandoff: 10/18/2017
---
# <a name="implementing-event-based-communication-between-microservices-integration-events"></a><span data-ttu-id="f33fb-104">Implementación de la comunicación basada en eventos entre microservicios (eventos de integración)</span><span class="sxs-lookup"><span data-stu-id="f33fb-104">Implementing event-based communication between microservices (integration events)</span></span>

<span data-ttu-id="f33fb-105">Como se describió anteriormente, si utiliza comunicación basado en eventos, un microservicio publica un evento cuando ocurra algo importantes, como cuando actualiza una entidad de negocio.</span><span class="sxs-lookup"><span data-stu-id="f33fb-105">As described earlier, when you use event-based communication, a microservice publishes an event when something notable happens, such as when it updates a business entity.</span></span> <span data-ttu-id="f33fb-106">Otros microservicios suscriben a esos eventos.</span><span class="sxs-lookup"><span data-stu-id="f33fb-106">Other microservices subscribe to those events.</span></span> <span data-ttu-id="f33fb-107">Cuando un microservicio recibe un evento, pueden actualizar sus propio entidades de negocio, lo que podrían dar lugar a más eventos que se está publicados.</span><span class="sxs-lookup"><span data-stu-id="f33fb-107">When a microservice receives an event, it can update its own business entities, which might lead to more events being published.</span></span> <span data-ttu-id="f33fb-108">Este sistema de publicación/suscripción normalmente se realiza mediante una implementación de un bus de eventos.</span><span class="sxs-lookup"><span data-stu-id="f33fb-108">This publish/subscribe system is usually performed by using an implementation of an event bus.</span></span> <span data-ttu-id="f33fb-109">El bus de eventos pueden diseñarse como una interfaz con la API de necesario para suscribir y cancelar la suscripción a eventos y para publicar los eventos.</span><span class="sxs-lookup"><span data-stu-id="f33fb-109">The event bus can be designed as an interface with the API needed to subscribe and unsubscribe to events and to publish events.</span></span> <span data-ttu-id="f33fb-110">También puede tener uno o más implementaciones basadas en cualquier comunicación entre procesos o mensajería, como una cola de mensajes o un bus de servicio que admite la comunicación asincrónica y un modelo de publicación/suscripción.</span><span class="sxs-lookup"><span data-stu-id="f33fb-110">It can also have one or more implementations based on any inter-process or messaging communication, such as a messaging queue or a service bus that supports asynchronous communication and a publish/subscribe model.</span></span>

<span data-ttu-id="f33fb-111">Puede usar eventos para implementar las transacciones de negocio que abarcan varios servicios, lo cual proporciona coherencia definitiva entre dichos servicios.</span><span class="sxs-lookup"><span data-stu-id="f33fb-111">You can use events to implement business transactions that span multiple services, which gives you eventual consistency between those services.</span></span> <span data-ttu-id="f33fb-112">Una transacción coherente consta de una serie de acciones distribuidas.</span><span class="sxs-lookup"><span data-stu-id="f33fb-112">An eventually consistent transaction consists of a series of distributed actions.</span></span> <span data-ttu-id="f33fb-113">En cada acción, el microservicio actualiza una entidad de negocio y publica un evento que desencadena la acción siguiente.</span><span class="sxs-lookup"><span data-stu-id="f33fb-113">At each action, the microservice updates a business entity and publishes an event that triggers the next action.</span></span>

![](./media/image19.PNG)

<span data-ttu-id="f33fb-114">**Figura 8-18**.</span><span class="sxs-lookup"><span data-stu-id="f33fb-114">**Figure 8-18**.</span></span> <span data-ttu-id="f33fb-115">Comunicación orientada a eventos en función de un bus de eventos</span><span class="sxs-lookup"><span data-stu-id="f33fb-115">Event-driven communication based on an event bus</span></span>

<span data-ttu-id="f33fb-116">Esta sección describe cómo puede implementar este tipo de comunicación con .NET mediante el uso de una interfaz de bus de eventos genéricos, como se muestra en la figura 8-18.</span><span class="sxs-lookup"><span data-stu-id="f33fb-116">This section describes how you can implement this type of communication with .NET by using a generic event bus interface, as shown in Figure 8-18.</span></span> <span data-ttu-id="f33fb-117">Hay varias implementaciones posibles, cada uno con una tecnología distinta o infraestructura como RabbitMQ, Bus de servicio de Azure, u otros código abierto de terceros o bus de servicio comercial.</span><span class="sxs-lookup"><span data-stu-id="f33fb-117">There are multiple potential implementations, each using a different technology or infrastructure such as RabbitMQ, Azure Service Bus, or any other third-party open source or commercial service bus.</span></span>

## <a name="using-message-brokers-and-services-buses-for-production-systems"></a><span data-ttu-id="f33fb-118">Uso de buses de agentes y servicios de mensaje para sistemas de producción</span><span class="sxs-lookup"><span data-stu-id="f33fb-118">Using message brokers and services buses for production systems</span></span>

<span data-ttu-id="f33fb-119">Como se indicó en la sección de arquitectura, dispone de varias tecnologías de mensajería para implementar el bus de eventos abstractos.</span><span class="sxs-lookup"><span data-stu-id="f33fb-119">As noted in the architecture section, you can choose from multiple messaging technologies for implementing your abstract event bus.</span></span> <span data-ttu-id="f33fb-120">Pero estas tecnologías se encuentran en distintos niveles.</span><span class="sxs-lookup"><span data-stu-id="f33fb-120">But these technologies are at different levels.</span></span> <span data-ttu-id="f33fb-121">Por ejemplo, RabbitMQ, un transporte de broker de mensajería, está en un nivel inferior a productos comerciales como Service Bus de Azure, NServiceBus, MassTransit o Brighter.</span><span class="sxs-lookup"><span data-stu-id="f33fb-121">For instance, RabbitMQ, a messaging broker transport, is at a lower level than commercial products like Azure Service Bus, NServiceBus, MassTransit, or Brighter.</span></span> <span data-ttu-id="f33fb-122">La mayoría de estos productos puede trabajar en la parte superior RabbitMQ o Service Bus de Azure.</span><span class="sxs-lookup"><span data-stu-id="f33fb-122">Most of these products can work on top of either RabbitMQ or Azure Service Bus.</span></span> <span data-ttu-id="f33fb-123">La selección de producto depende de cuántas características y la escalabilidad de cuánto out-of-the-box necesita para la aplicación.</span><span class="sxs-lookup"><span data-stu-id="f33fb-123">Your choice of product depends on how many features and how much out-of-the-box scalability you need for your application.</span></span>

<span data-ttu-id="f33fb-124">Para implementar solo una evento bus prueba de concepto para su entorno de desarrollo, como en el ejemplo eShopOnContainers, una implementación sencilla en la parte superior RabbitMQ que se ejecuta como un contenedor puede ser suficiente.</span><span class="sxs-lookup"><span data-stu-id="f33fb-124">For implementing just an event bus proof-of-concept for your development environment, as in the eShopOnContainers sample, a simple implementation on top of RabbitMQ running as a container might be enough.</span></span> <span data-ttu-id="f33fb-125">Pero para una importancia decisiva y sistemas de producción que necesitan alta escalabilidad, es recomendable evaluar y usar Azure Service Fabric.</span><span class="sxs-lookup"><span data-stu-id="f33fb-125">But for mission-critical and production systems that need high scalability, you might want to evaluate and use Azure Service Fabric.</span></span> <span data-ttu-id="f33fb-126">Si necesita abstracciones de alto nivel y características más enriquecidas como [sagas](https://docs.particular.net/nservicebus/sagas/) para los procesos de larga duración que hacen buses más fácil y otros servicios comerciales y de código abierto como NServiceBus, MassTransit, de desarrollo distribuidos y Son brillantes que vale la pena evaluar.</span><span class="sxs-lookup"><span data-stu-id="f33fb-126">If you require high-level abstractions and richer features like [sagas](https://docs.particular.net/nservicebus/sagas/) for long-running processes that make distributed development easier, other commercial and open-source service buses like NServiceBus, MassTransit, and Brighter are worth evaluating.</span></span> <span data-ttu-id="f33fb-127">Por supuesto, siempre puede crear sus propias características de bus de servicio sobre tecnologías de nivel inferior como RabbitMQ y Docker, pero el trabajo necesario para inventar la rueda podría ser demasiado costoso para una aplicación de empresa personalizados.</span><span class="sxs-lookup"><span data-stu-id="f33fb-127">Of course, you could always build your own service bus features on top of lower-level technologies like RabbitMQ and Docker, but the work needed to reinvent the wheel might be too costly for a custom enterprise application.</span></span>

<span data-ttu-id="f33fb-128">Para reiterar: el abstracciones de bus de eventos de ejemplo y la implementación expuesta en el ejemplo eShopOnContainers están diseñados para usarse solo como una prueba de concepto.</span><span class="sxs-lookup"><span data-stu-id="f33fb-128">To reiterate: the sample event bus abstractions and implementation showcased in the eShopOnContainers sample are intended to be used only as a proof of concept.</span></span> <span data-ttu-id="f33fb-129">Una vez que haya decidido que desea conseguir una comunicación asincrónica y orientada a eventos, como se explica en la sección actual, debe elegir el producto de bus de servicio que mejor se adapte a sus necesidades.</span><span class="sxs-lookup"><span data-stu-id="f33fb-129">Once you have decided that you want to have asynchronous and event-driven communication, as explained in the current section, you should choose the service bus product that best fits your needs.</span></span>

## <a name="integration-events"></a><span data-ttu-id="f33fb-130">Eventos de integración</span><span class="sxs-lookup"><span data-stu-id="f33fb-130">Integration events</span></span>

<span data-ttu-id="f33fb-131">Eventos de integración se utilizan para poner el estado del dominio sincronizada en varios microservicios o sistemas externos.</span><span class="sxs-lookup"><span data-stu-id="f33fb-131">Integration events are used for bringing domain state in sync across multiple microservices or external systems.</span></span> <span data-ttu-id="f33fb-132">Esto se realiza mediante la publicación de eventos de integración de fuera de la microservicio.</span><span class="sxs-lookup"><span data-stu-id="f33fb-132">This is done by publishing integration events outside the microservice.</span></span> <span data-ttu-id="f33fb-133">Cuando se publica un evento en varios microservicios de receptor (para tantos microservicios tal y como está suscrito al evento de integración), el controlador de eventos apropiado en cada receptor microservicio controla el evento.</span><span class="sxs-lookup"><span data-stu-id="f33fb-133">When an event is published to multiple receiver microservices (to as many microservices as are subscribed to the integration event), the appropriate event handler in each receiver microservice handles the event.</span></span>

<span data-ttu-id="f33fb-134">Un evento de integración es básicamente una clase de almacenamiento de datos, como en el ejemplo siguiente:</span><span class="sxs-lookup"><span data-stu-id="f33fb-134">An integration event is basically a data-holding class, as in the following example:</span></span>

```csharp
public class ProductPriceChangedIntegrationEvent : IntegrationEvent
{
    public int ProductId { get; private set; }
    public decimal NewPrice { get; private set; }
    public decimal OldPrice { get; private set; }

    public ProductPriceChangedIntegrationEvent(int productId, decimal newPrice,
        decimal oldPrice)
    {
        ProductId = productId;
        NewPrice = newPrice;
        OldPrice = oldPrice;
    }
}
```

<span data-ttu-id="f33fb-135">La clase de eventos de integración puede ser simple; Por ejemplo, es posible que contengan un GUID para su identificador.</span><span class="sxs-lookup"><span data-stu-id="f33fb-135">The integration event class can be simple; for example, it might contain a GUID for its ID.</span></span>

<span data-ttu-id="f33fb-136">Los eventos de integración pueden definirse en el nivel de aplicación de cada microservicio, por lo que se separan de otras microservicios, de forma comparable a cómo ViewModels se definen en el servidor y el cliente.</span><span class="sxs-lookup"><span data-stu-id="f33fb-136">The integration events can be defined at the application level of each microservice, so they are decoupled from other microservices, in a way comparable to how ViewModels are defined in the server and client.</span></span> <span data-ttu-id="f33fb-137">Lo que se recomienda no comparte una biblioteca de eventos de integración comunes entre varios microservicios; hacer se puede acoplar esos microservicios con una biblioteca de datos de la definición de evento único.</span><span class="sxs-lookup"><span data-stu-id="f33fb-137">What is not recommended is sharing a common integration events library across multiple microservices; doing that would be coupling those microservices with a single event definition data library.</span></span> <span data-ttu-id="f33fb-138">¿Desea hacerlo por la misma razón que no desea compartir un modelo de dominio comunes entre varios microservicios: microservicios deben ser completamente autónomo.</span><span class="sxs-lookup"><span data-stu-id="f33fb-138">You do not want to do that for the same reasons that you do not want to share a common domain model across multiple microservices: microservices must be completely autonomous.</span></span>

<span data-ttu-id="f33fb-139">Hay solo unos tipos de bibliotecas que deben compartir a través de microservicios.</span><span class="sxs-lookup"><span data-stu-id="f33fb-139">There are only a few kinds of libraries you should share across microservices.</span></span> <span data-ttu-id="f33fb-140">Una es que las bibliotecas que son bloques de aplicación final, al igual que el [API de cliente de Bus de eventos](https://github.com/dotnet-architecture/eShopOnContainers/tree/master/src/BuildingBlocks/EventBus), como en eShopOnContainers.</span><span class="sxs-lookup"><span data-stu-id="f33fb-140">One is libraries that are final application blocks, like the [Event Bus client API](https://github.com/dotnet-architecture/eShopOnContainers/tree/master/src/BuildingBlocks/EventBus), as in eShopOnContainers.</span></span> <span data-ttu-id="f33fb-141">Other es bibliotecas que constituyen las herramientas que pudieron compartirse como componentes de NuGet, al igual que los serializadores JSON.</span><span class="sxs-lookup"><span data-stu-id="f33fb-141">Another is libraries that constitute tools that could also be shared as NuGet components, like JSON serializers.</span></span>

## <a name="the-event-bus"></a><span data-ttu-id="f33fb-142">El bus de eventos</span><span class="sxs-lookup"><span data-stu-id="f33fb-142">The event bus</span></span>

<span data-ttu-id="f33fb-143">Un bus de eventos permite publicar/suscribir-estilo de comunicación entre microservicios sin necesidad de los componentes que desea explícitamente tenga entre sí, tal como se muestra en la figura 8-19.</span><span class="sxs-lookup"><span data-stu-id="f33fb-143">An event bus allows publish/subscribe-style communication between microservices without requiring the components to explicitly be aware of each other, as shown in Figure 8-19.</span></span>

![](./media/image20.png)

<span data-ttu-id="f33fb-144">**Figura 8-19**.</span><span class="sxs-lookup"><span data-stu-id="f33fb-144">**Figure 8-19**.</span></span> <span data-ttu-id="f33fb-145">Aspectos básicos con un bus de eventos de publicación/suscripción</span><span class="sxs-lookup"><span data-stu-id="f33fb-145">Publish/subscribe basics with an event bus</span></span>

<span data-ttu-id="f33fb-146">El bus de eventos está relacionado con el patrón de observador y la publicación-suscribirse patrón.</span><span class="sxs-lookup"><span data-stu-id="f33fb-146">The event bus is related to the Observer pattern and the publish-subscribe pattern.</span></span>

### <a name="observer-pattern"></a><span data-ttu-id="f33fb-147">Modelo de observador</span><span class="sxs-lookup"><span data-stu-id="f33fb-147">Observer pattern</span></span>

<span data-ttu-id="f33fb-148">En el [modelo observador](https://en.wikipedia.org/wiki/Observer_pattern), su objeto primario (conocido como el objeto Observable) notifica a otros objetos interesados (conocidos como observadores) con la información pertinente (eventos).</span><span class="sxs-lookup"><span data-stu-id="f33fb-148">In the [Observer pattern](https://en.wikipedia.org/wiki/Observer_pattern), your primary object (known as the Observable) notifies other interested objects (known as Observers) with relevant information (events).</span></span>

### <a name="publish-subscribe-pubsub-pattern"></a><span data-ttu-id="f33fb-149">Patrón de publicación y suscripción (Pub/Sub)</span><span class="sxs-lookup"><span data-stu-id="f33fb-149">Publish-subscribe (Pub/Sub) pattern</span></span> 

<span data-ttu-id="f33fb-150">El propósito de la [patrón Pub/Sub](https://msdn.microsoft.com/en-us/library/ff649664.aspx) es el mismo que el modelo de observador: desea notificar a otros servicios cuando determinados eventos tienen lugar.</span><span class="sxs-lookup"><span data-stu-id="f33fb-150">The purpose of the [Pub/Sub pattern](https://msdn.microsoft.com/en-us/library/ff649664.aspx) is the same as the Observer pattern: you want to notify other services when certain events take place.</span></span> <span data-ttu-id="f33fb-151">Pero hay una diferencia importante semántica entre los patrones de observador y Pub/Sub.</span><span class="sxs-lookup"><span data-stu-id="f33fb-151">But there is an important semantic difference between the Observer and Pub/Sub patterns.</span></span> <span data-ttu-id="f33fb-152">En el patrón de Pub/Sub, el foco está en los mensajes de difusión.</span><span class="sxs-lookup"><span data-stu-id="f33fb-152">In the Pub/Sub pattern, the focus is on broadcasting messages.</span></span> <span data-ttu-id="f33fb-153">En cambio, en el patrón de observador, el Observable no sabe que los eventos se van a, simplemente que hayan out. En otras palabras, el Observable (el publicador) no saber quiénes son los observadores (los suscriptores).</span><span class="sxs-lookup"><span data-stu-id="f33fb-153">In contrast, in the Observer pattern, the Observable does not know who the events are going to, just that they have gone out. In other words, the Observable (the publisher) does not know who the Observers (the subscribers) are.</span></span>

### <a name="the-middleman-or-event-bus"></a><span data-ttu-id="f33fb-154">El bus de intermediario o evento</span><span class="sxs-lookup"><span data-stu-id="f33fb-154">The middleman or event bus</span></span> 

<span data-ttu-id="f33fb-155">¿Cómo se consigue anonimato entre el publicador y suscriptor?</span><span class="sxs-lookup"><span data-stu-id="f33fb-155">How do you achieve anonymity between publisher and subscriber?</span></span> <span data-ttu-id="f33fb-156">Una manera fácil es permitir que un intermediario ocuparse de toda la comunicación.</span><span class="sxs-lookup"><span data-stu-id="f33fb-156">An easy way is let a middleman take care of all the communication.</span></span> <span data-ttu-id="f33fb-157">Un bus de eventos es uno de estos intermediarios.</span><span class="sxs-lookup"><span data-stu-id="f33fb-157">An event bus is one such middleman.</span></span>

<span data-ttu-id="f33fb-158">Un bus de eventos normalmente se compone de dos partes:</span><span class="sxs-lookup"><span data-stu-id="f33fb-158">An event bus is typically composed of two parts:</span></span>

-   <span data-ttu-id="f33fb-159">La abstracción o la interfaz.</span><span class="sxs-lookup"><span data-stu-id="f33fb-159">The abstraction or interface.</span></span>

-   <span data-ttu-id="f33fb-160">Una o varias implementaciones.</span><span class="sxs-lookup"><span data-stu-id="f33fb-160">One or more implementations.</span></span>

<span data-ttu-id="f33fb-161">En la figura 8-19 puede ver cómo hacerlo, desde un punto de vista de aplicación, el bus de eventos es nada más que un canal de Pub/Sub.</span><span class="sxs-lookup"><span data-stu-id="f33fb-161">In Figure 8-19 you can see how, from an application point of view, the event bus is nothing more than a Pub/Sub channel.</span></span> <span data-ttu-id="f33fb-162">Puede modificar la forma de implementar este tipo de comunicación asincrónica.</span><span class="sxs-lookup"><span data-stu-id="f33fb-162">The way you implement this asynchronous communication can vary.</span></span> <span data-ttu-id="f33fb-163">Puede tener varias implementaciones para que se pueden intercambiar entre ellas, dependiendo de los requisitos de entorno (por ejemplo, producción frente a los entornos de desarrollo).</span><span class="sxs-lookup"><span data-stu-id="f33fb-163">It can have multiple implementations so that you can swap between them, depending on the environment requirements (for example, production versus development environments).</span></span>

<span data-ttu-id="f33fb-164">En la figura 8-20 puede ver una abstracción de un bus de eventos con varias implementaciones basadas en la infraestructura de mensajería tecnologías como RabbitMQ, Service Bus de Azure u otros bus de servicio como NServiceBus, MassTransit, etcetera.</span><span class="sxs-lookup"><span data-stu-id="f33fb-164">In Figure 8-20 you can see an abstraction of an event bus with multiple implementations based on infrastructure messaging technologies like RabbitMQ, Azure Service Bus, or other service buses like NServiceBus, MassTransit, etc.</span></span>

![](./media/image21.png)

<span data-ttu-id="f33fb-165">**Figura 8 - 20.**</span><span class="sxs-lookup"><span data-stu-id="f33fb-165">**Figure 8- 20.**</span></span> <span data-ttu-id="f33fb-166">Varias implementaciones de un bus de eventos</span><span class="sxs-lookup"><span data-stu-id="f33fb-166">Multiple implementations of an event bus</span></span>

<span data-ttu-id="f33fb-167">Sin embargo, como se indica anteriormente, con abstracciones (la interfaz de bus de eventos) es posible únicamente si necesita características de bus de eventos básico admitidas por sus abstracciones.</span><span class="sxs-lookup"><span data-stu-id="f33fb-167">However, as highlighted previously, using abstractions (the event bus interface) is possible only if you need basic event bus features supported by your abstractions.</span></span> <span data-ttu-id="f33fb-168">Si necesita características más completos del bus de servicio, probablemente debe usar la API proporcionada por el bus de servicio preferido en lugar de sus propio abstracciones.</span><span class="sxs-lookup"><span data-stu-id="f33fb-168">If you need richer service bus features, you should probably use the API provided by your preferred service bus instead of your own abstractions.</span></span>

### <a name="defining-an-event-bus-interface"></a><span data-ttu-id="f33fb-169">Define una interfaz de bus de eventos</span><span class="sxs-lookup"><span data-stu-id="f33fb-169">Defining an event bus interface</span></span>

<span data-ttu-id="f33fb-170">Comencemos con algún código de implementación para la interfaz de bus de eventos e implementaciones posibles para fines de exploración.</span><span class="sxs-lookup"><span data-stu-id="f33fb-170">Let’s start with some implementation code for the event bus interface and possible implementations for exploration purposes.</span></span> <span data-ttu-id="f33fb-171">La interfaz debe ser sencillo, como se muestra en la siguiente interfaz y no genéricos.</span><span class="sxs-lookup"><span data-stu-id="f33fb-171">The interface should be generic and straightforward, as in the following interface.</span></span>

```csharp
public interface IEventBus
{
    void Publish(IntegrationEvent @event);
    void Subscribe<T>(IIntegrationEventHandler<T> handler)
        where T: IntegrationEvent;

    void Unsubscribe<T>(IIntegrationEventHandler<T> handler)
        where T : IntegrationEvent;
}
```

<span data-ttu-id="f33fb-172">El método de publicación es sencillo.</span><span class="sxs-lookup"><span data-stu-id="f33fb-172">The Publish method is straightforward.</span></span> <span data-ttu-id="f33fb-173">El bus de eventos difunden el evento de integración pasado a cualquier microservicio suscrito a ese evento.</span><span class="sxs-lookup"><span data-stu-id="f33fb-173">The event bus will broadcast the integration event passed to it to any microservice subscribed to that event.</span></span> <span data-ttu-id="f33fb-174">Este método se usa por la microservicio que está publicando el evento.</span><span class="sxs-lookup"><span data-stu-id="f33fb-174">This method is used by the microservice that is publishing the event.</span></span>

<span data-ttu-id="f33fb-175">El método Subscribe se usa por la microservicios que van a recibir eventos.</span><span class="sxs-lookup"><span data-stu-id="f33fb-175">The Subscribe method is used by the microservices that want to receive events.</span></span> <span data-ttu-id="f33fb-176">Este método tiene dos partes.</span><span class="sxs-lookup"><span data-stu-id="f33fb-176">This method has two parts.</span></span> <span data-ttu-id="f33fb-177">El primero es el evento de integración para suscribirse a (IntegrationEvent).</span><span class="sxs-lookup"><span data-stu-id="f33fb-177">The first is the integration event to subscribe to (IntegrationEvent).</span></span> <span data-ttu-id="f33fb-178">La segunda parte es el controlador de eventos de integración (o el método de devolución de llamada) que se llame a (IIntegrationEventHandler&lt;T&gt;) cuando el microservicio recibe ese mensaje de evento de integración.</span><span class="sxs-lookup"><span data-stu-id="f33fb-178">The second part is the integration event handler (or callback method) to be called (IIntegrationEventHandler&lt;T&gt;) when the microservice receives that integration event message.</span></span>


>[!div class="step-by-step"]
<span data-ttu-id="f33fb-179">[Anterior] (base de datos-server-container.md) [siguiente] (rabbitmq-event-bus-development-test-environment.md)</span><span class="sxs-lookup"><span data-stu-id="f33fb-179">[Previous] (database-server-container.md) [Next] (rabbitmq-event-bus-development-test-environment.md)</span></span>
