---
title: "Instrucciones de codificación segura"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-standard
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords:
- managed wrapper to native code implementation
- secure coding
- reusable components
- library code that exposes protected resources
- code, security
- code security
- secure coding, options
- components [.NET Framework], security
- code security, options
- security-neutral code
- security [.NET Framework], coding guidelines
ms.assetid: 4f882d94-262b-4494-b0a6-ba9ba1f5f177
caps.latest.revision: "20"
author: mairaw
ms.author: mairaw
manager: wpickett
ms.workload:
- dotnet
- dotnetcore
ms.openlocfilehash: 3e75f3c74c5966ce5ce22b23f7ba179e903d37aa
ms.sourcegitcommit: e7f04439d78909229506b56935a1105a4149ff3d
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 12/23/2017
---
# <a name="secure-coding-guidelines"></a><span data-ttu-id="70d05-102">Instrucciones de codificación segura</span><span class="sxs-lookup"><span data-stu-id="70d05-102">Secure Coding Guidelines</span></span>
<span data-ttu-id="70d05-103">La seguridad basada en pruebas y la seguridad de acceso por código ofrecen mecanismos explícitos y muy eficaces para implementar la seguridad.</span><span class="sxs-lookup"><span data-stu-id="70d05-103">Evidence-based security and code access security provide very powerful, explicit mechanisms to implement security.</span></span> <span data-ttu-id="70d05-104">La mayoría del código de aplicación puede usar simplemente la infraestructura implementada por .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="70d05-104">Most application code can simply use the infrastructure implemented by the .NET Framework.</span></span> <span data-ttu-id="70d05-105">En algunos casos, se requiere la seguridad específica de aplicación adicional, creada ampliando el sistema de seguridad o mediante nuevos métodos ad hoc.</span><span class="sxs-lookup"><span data-stu-id="70d05-105">In some cases, additional application-specific security is required, built either by extending the security system or by using new ad hoc methods.</span></span>  
  
 <span data-ttu-id="70d05-106">Con los permisos aplicados por .NET Framework y otra aplicación de su código, debe establecer barreras para evitar que código malintencionado obtenga información que no quiera que tenga o que realice otras acciones no deseadas.</span><span class="sxs-lookup"><span data-stu-id="70d05-106">Using the .NET Framework-enforced permissions and other enforcement in your code, you should erect barriers to prevent malicious code from obtaining information that you do not want it to have or performing other undesirable actions.</span></span> <span data-ttu-id="70d05-107">Además, debe lograr un equilibrio entre la seguridad y la facilidad de uso en todos los escenarios esperados mediante código de confianza.</span><span class="sxs-lookup"><span data-stu-id="70d05-107">Additionally, you must strike a balance between security and usability in all the expected scenarios using trusted code.</span></span>  
  
 <span data-ttu-id="70d05-108">Esta información general describe las diferentes formas en que se puede diseñar código para que funcione con el sistema de seguridad.</span><span class="sxs-lookup"><span data-stu-id="70d05-108">This overview describes the different ways code can be designed to work with the security system.</span></span>  
  
## <a name="securing-resource-access"></a><span data-ttu-id="70d05-109">Protección de acceso a los recursos</span><span class="sxs-lookup"><span data-stu-id="70d05-109">Securing Resource Access</span></span>  
 <span data-ttu-id="70d05-110">Al diseñar y escribir el código, debe proteger y limitar el acceso del código a los recursos, especialmente cuando se usa o se invoca código de origen desconocido.</span><span class="sxs-lookup"><span data-stu-id="70d05-110">When designing and writing your code, you need to protect and limit the access that code has to resources, especially when using or invoking code of unknown origin.</span></span> <span data-ttu-id="70d05-111">Por lo tanto, tenga en cuenta las siguientes técnicas para asegurarse de que el código sea seguro:</span><span class="sxs-lookup"><span data-stu-id="70d05-111">So, keep in mind the following techniques to ensure your code is secure:</span></span>  
  
-   <span data-ttu-id="70d05-112">No utilice la seguridad de acceso del código (CAS).</span><span class="sxs-lookup"><span data-stu-id="70d05-112">Do not use Code Access Security (CAS).</span></span>  
  
-   <span data-ttu-id="70d05-113">No utilice el código de confianza parcial.</span><span class="sxs-lookup"><span data-stu-id="70d05-113">Do not use partial trusted code.</span></span>  
  
-   <span data-ttu-id="70d05-114">No utilice .NET Remoting.</span><span class="sxs-lookup"><span data-stu-id="70d05-114">Do not use .NET Remoting.</span></span>  
  
-   <span data-ttu-id="70d05-115">No utilice el modelo de objetos de componente distribuido (DCOM).</span><span class="sxs-lookup"><span data-stu-id="70d05-115">Do not use Distributed Component Object Model (DCOM).</span></span>  
  
-   <span data-ttu-id="70d05-116">No utilice los formateadores binarios.</span><span class="sxs-lookup"><span data-stu-id="70d05-116">Do not use binary formatters.</span></span>  
  
 <span data-ttu-id="70d05-117">La seguridad de acceso de código y el código transparente de seguridad no se admitirán como límites de seguridad con código de confianza parcial.</span><span class="sxs-lookup"><span data-stu-id="70d05-117">Code Access Security and Security-Transparent Code will not be supported as a security boundary with partially trusted code.</span></span> <span data-ttu-id="70d05-118">Le aconsejamos que no cargue ni ejecute código de orígenes desconocidos sin contar con medidas de seguridad alternativas.</span><span class="sxs-lookup"><span data-stu-id="70d05-118">We advise against loading and executing code of unknown origins without putting alternative security measures in place.</span></span> <span data-ttu-id="70d05-119">Las medidas de seguridad alternativas son:</span><span class="sxs-lookup"><span data-stu-id="70d05-119">The alternative security measures are:</span></span>  
  
-   <span data-ttu-id="70d05-120">Virtualización</span><span class="sxs-lookup"><span data-stu-id="70d05-120">Virtualization</span></span>  
  
-   <span data-ttu-id="70d05-121">AppContainers</span><span class="sxs-lookup"><span data-stu-id="70d05-121">AppContainers</span></span>  
  
-   <span data-ttu-id="70d05-122">Usuarios y permisos de sistema operativo (SO)</span><span class="sxs-lookup"><span data-stu-id="70d05-122">Operating system (OS) users and permissions</span></span>  
  
-   <span data-ttu-id="70d05-123">Contenedores de Hyper-V</span><span class="sxs-lookup"><span data-stu-id="70d05-123">Hyper-V containers</span></span>  
  
## <a name="security-neutral-code"></a><span data-ttu-id="70d05-124">Código neutral respecto a la seguridad</span><span class="sxs-lookup"><span data-stu-id="70d05-124">Security-Neutral Code</span></span>  
 <span data-ttu-id="70d05-125">El código neutral respecto a la seguridad no hace nada explícito con el sistema de seguridad.</span><span class="sxs-lookup"><span data-stu-id="70d05-125">Security-neutral code does nothing explicit with the security system.</span></span> <span data-ttu-id="70d05-126">Se ejecuta con los permisos que recibe.</span><span class="sxs-lookup"><span data-stu-id="70d05-126">It runs with whatever permissions it receives.</span></span> <span data-ttu-id="70d05-127">Aunque las aplicaciones que no pudieron detectar las excepciones de seguridad asociadas a operaciones protegidas (como el uso de archivos, las redes etc.) pueden generar una excepción no controlada, el código neutral respecto a la seguridad todavía aprovecha las tecnologías de seguridad de .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="70d05-127">Although applications that fail to catch security exceptions associated with protected operations (such as using files, networking, and so on) can result in an unhandled exception, security-neutral code still takes advantage of the .NET Framework security technologies.</span></span>  
  
 <span data-ttu-id="70d05-128">Una biblioteca neutral respecto a la seguridad tiene características especiales que debe conocer.</span><span class="sxs-lookup"><span data-stu-id="70d05-128">A security-neutral library has special characteristics that you should understand.</span></span> <span data-ttu-id="70d05-129">Supongamos que la biblioteca ofrece elementos de la API que usan archivos o llaman a código no administrado; si el código no tiene el permiso correspondiente, no se ejecutará como se describe.</span><span class="sxs-lookup"><span data-stu-id="70d05-129">Suppose your library provides API elements that use files or call unmanaged code; if your code does not have the corresponding permission, it will not run as described.</span></span> <span data-ttu-id="70d05-130">Sin embargo, incluso si el código tiene el permiso, cualquier código de aplicación que le llame debe tener el mismo permiso para poder funcionar.</span><span class="sxs-lookup"><span data-stu-id="70d05-130">However, even if the code has the permission, any application code that calls it must have the same permission in order to work.</span></span> <span data-ttu-id="70d05-131">Si el código de llamada no tiene el permiso adecuado, un <xref:System.Security.SecurityException> aparece como resultado del recorrido de pila de seguridad de acceso de código.</span><span class="sxs-lookup"><span data-stu-id="70d05-131">If the calling code does not have the right permission, a <xref:System.Security.SecurityException> appears as a result of the code access security stack walk.</span></span>  
  
## <a name="application-code-that-is-not-a-reusable-component"></a><span data-ttu-id="70d05-132">Código de aplicación que no es un componente reutilizable</span><span class="sxs-lookup"><span data-stu-id="70d05-132">Application Code That Is Not a Reusable Component</span></span>  
 <span data-ttu-id="70d05-133">Si el código forma parte de una aplicación a la que no llamará otro código, la seguridad es sencilla y es posible que la codificación especial no sea necesaria.</span><span class="sxs-lookup"><span data-stu-id="70d05-133">If your code is part of an application that will not be called by other code, security is simple and special coding might not be required.</span></span> <span data-ttu-id="70d05-134">Sin embargo, recuerde que el código malintencionado puede llamar a su código.</span><span class="sxs-lookup"><span data-stu-id="70d05-134">However, remember that malicious code can call your code.</span></span> <span data-ttu-id="70d05-135">Aunque la seguridad de acceso a código puede evitar que código malintencionado obtenga acceso a recursos, dicho código todavía podría leer valores de sus campos o propiedades que puedan contener información confidencial.</span><span class="sxs-lookup"><span data-stu-id="70d05-135">While code access security might stop malicious code from accessing resources, such code could still read values of your fields or properties that might contain sensitive information.</span></span>  
  
 <span data-ttu-id="70d05-136">Además, si el código acepta la entrada del usuario desde Internet o de otras fuentes no confiables, debe tener cuidado con la entrada malintencionada.</span><span class="sxs-lookup"><span data-stu-id="70d05-136">Additionally, if your code accepts user input from the Internet or other unreliable sources, you must be careful about malicious input.</span></span>  
  
## <a name="managed-wrapper-to-native-code-implementation"></a><span data-ttu-id="70d05-137">Implementación de contenedor administrado en código nativo</span><span class="sxs-lookup"><span data-stu-id="70d05-137">Managed Wrapper to Native Code Implementation</span></span>  
 <span data-ttu-id="70d05-138">Normalmente en este escenario se implementa alguna funcionalidad de utilidad en código nativo que quiere que esté disponible para código administrado.</span><span class="sxs-lookup"><span data-stu-id="70d05-138">Typically in this scenario, some useful functionality is implemented in native code that you want to make available to managed code.</span></span> <span data-ttu-id="70d05-139">Los contenedores administrados son sencillos de escribir mediante la invocación de plataforma o interoperabilidad COM.</span><span class="sxs-lookup"><span data-stu-id="70d05-139">Managed wrappers are easy to write using either platform invoke or COM interop.</span></span> <span data-ttu-id="70d05-140">Sin embargo, si lo hace, los llamadores de los contenedores deben tener derechos de código no administrado para ser correctos.</span><span class="sxs-lookup"><span data-stu-id="70d05-140">However, if you do this, callers of your wrappers must have unmanaged code rights in order to succeed.</span></span> <span data-ttu-id="70d05-141">Con la directiva predeterminada, esto significa que el código descargado de una intranet o de Internet no funcionará con los contenedores.</span><span class="sxs-lookup"><span data-stu-id="70d05-141">Under default policy, this means that code downloaded from an intranet or the Internet will not work with the wrappers.</span></span>  
  
 <span data-ttu-id="70d05-142">En lugar de darle a todas las aplicaciones que usan estos contenedores derechos de código no administrado , es mejor dar estos derechos únicamente al código del contenedor.</span><span class="sxs-lookup"><span data-stu-id="70d05-142">Instead of giving all applications that use these wrappers unmanaged code rights, it is better to give these rights only to the wrapper code.</span></span> <span data-ttu-id="70d05-143">Si la funcionalidad subyacente no expone ningún recurso y la implementación es igual de segura, el contenedor solo necesita imponer sus derechos, lo que permite a cualquier código llamar a través de él.</span><span class="sxs-lookup"><span data-stu-id="70d05-143">If the underlying functionality exposes no resources and the implementation is likewise safe, the wrapper only needs to assert its rights, which enables any code to call through it.</span></span> <span data-ttu-id="70d05-144">Cuando se trate de recursos, la codificación de seguridad debe ser la mismo que el caso de código de biblioteca descrito en la siguiente sección.</span><span class="sxs-lookup"><span data-stu-id="70d05-144">When resources are involved, security coding should be the same as the library code case described in the next section.</span></span> <span data-ttu-id="70d05-145">Dado que el contenedor puede exponer a los llamadores a esos recursos, se necesita una cuidadosa comprobación de la seguridad del código nativo, lo que es responsabilidad del contenedor.</span><span class="sxs-lookup"><span data-stu-id="70d05-145">Because the wrapper is potentially exposing callers to these resources, careful verification of the safety of the native code is necessary and is the wrapper's responsibility.</span></span>  
  
## <a name="library-code-that-exposes-protected-resources"></a><span data-ttu-id="70d05-146">Código de biblioteca que expone recursos protegidos</span><span class="sxs-lookup"><span data-stu-id="70d05-146">Library Code That Exposes Protected Resources</span></span>  
 <span data-ttu-id="70d05-147">Este es el enfoque más eficaz y, por tanto, potencialmente peligroso (si se realiza incorrectamente) para la codificación de seguridad: la biblioteca actúa como una interfaz para que otro código obtenga acceso a determinados recursos que no están disponibles de otra manera, de la misma forma que las clases de .NET Framework aplican permisos para los recursos que usan.</span><span class="sxs-lookup"><span data-stu-id="70d05-147">This is the most powerful and hence potentially dangerous (if done incorrectly) approach for security coding: Your library serves as an interface for other code to access certain resources that are not otherwise available, just as the classes of the .NET Framework enforce permissions for the resources they use.</span></span> <span data-ttu-id="70d05-148">Siempre que exponga un recurso, su código debe requerir primero el permiso adecuado para el recurso (es decir, debe realizar una comprobación de seguridad) y luego declarar sus derechos para llevar a cabo la operación real.</span><span class="sxs-lookup"><span data-stu-id="70d05-148">Wherever you expose a resource, your code must first demand the permission appropriate to the resource (that is, it must perform a security check) and then typically assert its rights to perform the actual operation.</span></span>  
  
## <a name="related-topics"></a><span data-ttu-id="70d05-149">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="70d05-149">Related Topics</span></span>  
  
|<span data-ttu-id="70d05-150">Título</span><span class="sxs-lookup"><span data-stu-id="70d05-150">Title</span></span>|<span data-ttu-id="70d05-151">Descripción</span><span class="sxs-lookup"><span data-stu-id="70d05-151">Description</span></span>|  
|-----------|-----------------|  
|[<span data-ttu-id="70d05-152">Proteger los datos de estado</span><span class="sxs-lookup"><span data-stu-id="70d05-152">Securing State Data</span></span>](../../../docs/standard/security/securing-state-data.md)|<span data-ttu-id="70d05-153">Se describe cómo proteger los miembros privados.</span><span class="sxs-lookup"><span data-stu-id="70d05-153">Describes how to protect private members.</span></span>|  
|[<span data-ttu-id="70d05-154">Seguridad e introducción de datos por el usuario</span><span class="sxs-lookup"><span data-stu-id="70d05-154">Security and User Input</span></span>](../../../docs/standard/security/security-and-user-input.md)|<span data-ttu-id="70d05-155">Se describen cuestiones de seguridad para las aplicaciones que aceptan la entrada del usuario.</span><span class="sxs-lookup"><span data-stu-id="70d05-155">Describes security concerns for applications that accept user input.</span></span>|  
|[<span data-ttu-id="70d05-156">Seguridad y condiciones de carrera</span><span class="sxs-lookup"><span data-stu-id="70d05-156">Security and Race Conditions</span></span>](../../../docs/standard/security/security-and-race-conditions.md)|<span data-ttu-id="70d05-157">Se describe cómo evitar condiciones de anticipación en el código.</span><span class="sxs-lookup"><span data-stu-id="70d05-157">Describes how to avoid race conditions in your code.</span></span>|  
|[<span data-ttu-id="70d05-158">Seguridad y generación de código inmediata</span><span class="sxs-lookup"><span data-stu-id="70d05-158">Security and On-the-Fly Code Generation</span></span>](../../../docs/standard/security/security-and-on-the-fly-code-generation.md)|<span data-ttu-id="70d05-159">Se describen cuestiones de seguridad para las aplicaciones que generan código dinámico.</span><span class="sxs-lookup"><span data-stu-id="70d05-159">Describes security concerns for applications that generate dynamic code.</span></span>|  
|[<span data-ttu-id="70d05-160">Seguridad basada en roles</span><span class="sxs-lookup"><span data-stu-id="70d05-160">Role-Based Security</span></span>](../../../docs/standard/security/role-based-security.md)|<span data-ttu-id="70d05-161">Se describe detalladamente la seguridad basada en roles de .NET Framework y se ofrecen instrucciones para usarla en el código.</span><span class="sxs-lookup"><span data-stu-id="70d05-161">Describes .NET Framework role-based security in detail and provides instructions for using it in your code.</span></span>|
