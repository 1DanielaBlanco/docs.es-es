---
title: Problemas de migración de .NET Framework 4
ms.date: 05/02/2017
helpviewer_keywords:
- .NET Framework 4, migration
- application compatibility
ms.assetid: df478548-8c05-4de2-8ba7-adcdbe1c2a60
author: rpetrusha
ms.author: ronpet
ms.openlocfilehash: 0e3a7024489078a21a8665bf8e875e3f7393680f
ms.sourcegitcommit: efff8f331fd9467f093f8ab8d23a203d6ecb5b60
ms.translationtype: HT
ms.contentlocale: es-ES
ms.lasthandoff: 09/03/2018
ms.locfileid: "43483994"
---
# <a name="net-framework-4-migration-issues"></a><span data-ttu-id="812d5-102">Problemas de migración de .NET Framework 4</span><span class="sxs-lookup"><span data-stu-id="812d5-102">.NET Framework 4 migration issues</span></span>

<span data-ttu-id="812d5-103">En este tema se describen los problemas de migración entre .NET Framework versión 3.5 Service Pack 1 y .NET Framework versión 4, incluidas las correcciones, los cambios para el cumplimiento de estándares y la seguridad, y los cambios basados en los comentarios de los clientes.</span><span class="sxs-lookup"><span data-stu-id="812d5-103">This topic describes migration issues between the .NET Framework version 3.5 Service Pack 1 and the .NET Framework version 4, including fixes, changes for standards compliance and security, and changes based on customer feedback.</span></span> <span data-ttu-id="812d5-104">La mayoría de estos cambios no exigen que realice ningún tipo de modificación de programación en sus aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="812d5-104">Most of these changes do not require any programming modifications in your applications.</span></span> <span data-ttu-id="812d5-105">Para ver los cambios que podrían implicar modificaciones, consulte la columna Cambios recomendados de la tabla.</span><span class="sxs-lookup"><span data-stu-id="812d5-105">For those that may involve modifications, see the Recommended changes column of the table.</span></span>

<span data-ttu-id="812d5-106">En este tema se describen los cambios notables en las siguientes áreas:</span><span class="sxs-lookup"><span data-stu-id="812d5-106">This topic describes notable changes in the following areas:</span></span>

* [<span data-ttu-id="812d5-107">ASP.NET y web</span><span class="sxs-lookup"><span data-stu-id="812d5-107">ASP.NET and Web</span></span>](#asp-net-and-web)

* [<span data-ttu-id="812d5-108">Principal</span><span class="sxs-lookup"><span data-stu-id="812d5-108">Core</span></span>](#core)

* [<span data-ttu-id="812d5-109">Data</span><span class="sxs-lookup"><span data-stu-id="812d5-109">Data</span></span>](#data)

* [<span data-ttu-id="812d5-110">Windows Communication Foundation (WCF)</span><span class="sxs-lookup"><span data-stu-id="812d5-110">Windows Communication Foundation (WCF)</span></span>](#windows-communication-foundation-wcf)

* [<span data-ttu-id="812d5-111">Windows Presentation Foundation (WPF)</span><span class="sxs-lookup"><span data-stu-id="812d5-111">Windows Presentation Foundation (WPF)</span></span>](#windows-presentation-foundation-wpf)

* [<span data-ttu-id="812d5-112">XML</span><span class="sxs-lookup"><span data-stu-id="812d5-112">XML</span></span>](#xml)

<span data-ttu-id="812d5-113">Para obtener información más específica sobre los problemas incluidos en este tema, vea la [Guía de migración para .NET Framework 4](https://msdn.microsoft.com/library/ff657133(v=vs.100).aspx).</span><span class="sxs-lookup"><span data-stu-id="812d5-113">For an higher-level overview of the issues in this topic, see the [Migration Guide to the .NET Framework 4](https://msdn.microsoft.com/library/ff657133(v=vs.100).aspx).</span></span>

<span data-ttu-id="812d5-114">En el caso de los problemas de migración posteriores a la versión Beta 2, vea [Migration Issues for .NET Framework 4 Applications: Beta 2 to RTM](https://go.microsoft.com/fwlink/?LinkId=191505) (Problemas de migración de aplicaciones de .NET Framework 4: de Beta 2 a RTM).</span><span class="sxs-lookup"><span data-stu-id="812d5-114">For migration issues after Beta 2, see [Migration Issues for .NET Framework 4 Applications: Beta 2 to RTM](https://go.microsoft.com/fwlink/?LinkId=191505).</span></span>

<span data-ttu-id="812d5-115">Para obtener información sobre las nuevas características, vea [Lo nuevo en .NET Framework 4](https://msdn.microsoft.com/library/ms171868(v=vs.100).aspx).</span><span class="sxs-lookup"><span data-stu-id="812d5-115">For information about new features, see [What's New in the .NET Framework 4](https://msdn.microsoft.com/library/ms171868(v=vs.100).aspx).</span></span>

## <a name="aspnet-and-web"></a><span data-ttu-id="812d5-116">ASP.NET y web</span><span class="sxs-lookup"><span data-stu-id="812d5-116">ASP.NET and Web</span></span>

<span data-ttu-id="812d5-117">Espacios de nombres: <xref:System.Web>, <xref:System.Web.Mobile>, <xref:System.Web.Security>, <xref:System.Web.UI.WebControls>; ensamblado: System.Web (en System.Web.dll)</span><span class="sxs-lookup"><span data-stu-id="812d5-117">Namespaces: <xref:System.Web>, <xref:System.Web.Mobile>, <xref:System.Web.Security>, <xref:System.Web.UI.WebControls>; assembly: System.Web (in System.Web.dll)</span></span>

| <span data-ttu-id="812d5-118">Característica</span><span class="sxs-lookup"><span data-stu-id="812d5-118">Feature</span></span> | <span data-ttu-id="812d5-119">Diferencias respecto a 3.5 SP1</span><span class="sxs-lookup"><span data-stu-id="812d5-119">Differences from 3.5 SP1</span></span> | <span data-ttu-id="812d5-120">Cambios recomendados</span><span class="sxs-lookup"><span data-stu-id="812d5-120">Recommended changes</span></span> |
| ------- | ------------------------ | ------------------- |
| <span data-ttu-id="812d5-121">**Archivos de definición de explorador**</span><span class="sxs-lookup"><span data-stu-id="812d5-121">**Browser definition files**</span></span> | <span data-ttu-id="812d5-122">Los archivos de definición de explorador se han actualizado para que incluyan información sobre exploradores y dispositivos nuevos y actualizados.</span><span class="sxs-lookup"><span data-stu-id="812d5-122">The browser definition files have been updated to include information about new and updated browsers and devices.</span></span> <span data-ttu-id="812d5-123">Se han quitado exploradores y dispositivos anteriores, como Netscape Navigator, y se han agregado exploradores y dispositivos más recientes, como Google Chrome y Apple iPhone.</span><span class="sxs-lookup"><span data-stu-id="812d5-123">Older browsers and devices such as Netscape Navigator have been removed, and newer browsers and devices such as Google Chrome and Apple iPhone have been added.</span></span><br><br><span data-ttu-id="812d5-124">Si la aplicación contiene definiciones de explorador personalizadas que heredan de una de las definiciones de explorador que se han quitado, aparecerá un error.</span><span class="sxs-lookup"><span data-stu-id="812d5-124">If your application contains custom browser definitions that inherit from one of the browser definitions that have been removed, you will see an error.</span></span><br><br><span data-ttu-id="812d5-125">El objeto <xref:System.Web.HttpBrowserCapabilities> (que se expone mediante la propiedad `Request.Browse` de la página) está controlado por los archivos de definición del explorador.</span><span class="sxs-lookup"><span data-stu-id="812d5-125">The <xref:System.Web.HttpBrowserCapabilities> object (which is exposed by the page's `Request.Browse` property) is driven by the browser definition files.</span></span> <span data-ttu-id="812d5-126">Por lo tanto, la información que se devuelve mediante el acceso a una propiedad de este objeto en ASP.NET 4 podría ser diferente de la información devuelta en una versión anterior de ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="812d5-126">Therefore, the information that is returned by accessing a property of this object in ASP.NET 4 might be different than the information that was returned in an earlier version of ASP.NET.</span></span> | <span data-ttu-id="812d5-127">Si la aplicación se basa en los archivos de definición del explorador antiguo, puede copiarlos de la siguiente carpeta:</span><span class="sxs-lookup"><span data-stu-id="812d5-127">If your application relies on the old browser definition files, you can copy them from the following folder:</span></span><br><br><span data-ttu-id="812d5-128">*Windows\\Microsoft.NET\\Framework\\v2.0.50727\\CONFIG\\Browsers*</span><span class="sxs-lookup"><span data-stu-id="812d5-128">*Windows\\Microsoft.NET\\Framework\\v2.0.50727\\CONFIG\\Browsers*</span></span><br><br><span data-ttu-id="812d5-129">Copie los archivos en la carpeta *\\CONFIG\\Browsers* correspondiente de ASP.NET 4.</span><span class="sxs-lookup"><span data-stu-id="812d5-129">Copy the files into the corresponding *\\CONFIG\\Browsers* folder for ASP.NET 4.</span></span> <span data-ttu-id="812d5-130">Después de copiar los archivos, ejecute la herramienta de línea de comandos [Aspnet_regbrowsers.exe](https://msdn.microsoft.com/library/ms229858.aspx).</span><span class="sxs-lookup"><span data-stu-id="812d5-130">After you copy the files, run the [Aspnet_regbrowsers.exe](https://msdn.microsoft.com/library/ms229858.aspx) command-line tool.</span></span> <span data-ttu-id="812d5-131">Para obtener más información, vea el sitio web [http://www.asp.net/mobile](https://go.microsoft.com/fwlink/?LinkId=182900).</span><span class="sxs-lookup"><span data-stu-id="812d5-131">For more information, see the [http://www.asp.net/mobile](https://go.microsoft.com/fwlink/?LinkId=182900) Web site.</span></span> |
| <span data-ttu-id="812d5-132">**Aplicaciones secundarias que se ejecutan en versiones mixtas de ASP.NET**</span><span class="sxs-lookup"><span data-stu-id="812d5-132">**Child applications running under mixed versions of ASP.NET**</span></span> | <span data-ttu-id="812d5-133">Las aplicaciones de ASP.NET 4 configuradas como elementos secundarios de aplicaciones que ejecutan versiones anteriores de ASP.NET podrían no iniciarse debido a errores de configuración o de compilación.</span><span class="sxs-lookup"><span data-stu-id="812d5-133">ASP.NET 4 applications that are configured as children of applications that run earlier versions of ASP.NET might fail to start because of configuration or compilation errors.</span></span> <span data-ttu-id="812d5-134">El error que aparezca dependerá de si la aplicación se ejecuta en IIS 6.0, en IIS 7 o en IIS 7.5.</span><span class="sxs-lookup"><span data-stu-id="812d5-134">The specific error that occurs depends on whether the application runs under IIS 6.0, or under IIS 7 or IIS 7.5.</span></span> | <span data-ttu-id="812d5-135">Puede realizar cambios en los archivos de configuración de las aplicaciones afectadas para que el sistema de configuración reconozca correctamente la aplicación de ASP.NET 4.</span><span class="sxs-lookup"><span data-stu-id="812d5-135">You can make changes to the configuration files of the affected applications so that the configuration system correctly recognizes the ASP.NET 4 application.</span></span> <span data-ttu-id="812d5-136">Para obtener información sobre los cambios que debe realizar, vea la sección "ASP.NET 4 Child Applications Fail to Start When Under ASP.NET 2.0 or ASP.NET 3.5 Applications" (Las aplicaciones secundarias de ASP.NET 4 no se inician cuando se ejecutan en aplicaciones de ASP.NET 2.0 o ASP.NET 3.5) en el documento [ASP.NET 4 Breaking Changes](https://go.microsoft.com/fwlink/?LinkId=182908) (Cambios importantes de ASP.NET 4) en el sitio web de ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="812d5-136">For information about the changes you must make, see the section "ASP.NET 4 Child Applications Fail to Start When Under ASP.NET 2.0 or ASP.NET 3.5 Applications" in the document [ASP.NET 4 Breaking Changes](https://go.microsoft.com/fwlink/?LinkId=182908) on the ASP.NET Web site.</span></span> |
| <span data-ttu-id="812d5-137">**Cambios de ClientID**</span><span class="sxs-lookup"><span data-stu-id="812d5-137">**ClientID changes**</span></span> | <span data-ttu-id="812d5-138">La nueva opción `clientIDMode` de ASP.NET 4 permite especificar cómo genera ASP.NET el atributo `id` para los elementos HTML.</span><span class="sxs-lookup"><span data-stu-id="812d5-138">The new `clientIDMode` setting in ASP.NET 4 lets you specify how ASP.NET generates the `id` attribute for HTML elements.</span></span> <span data-ttu-id="812d5-139">En versiones anteriores de ASP.NET, el comportamiento predeterminado era equivalente al valor `AutoID` de `clientIDMode`.</span><span class="sxs-lookup"><span data-stu-id="812d5-139">In previous versions of ASP.NET, the default behavior was equivalent to the `AutoID` setting of `clientIDMode`.</span></span> <span data-ttu-id="812d5-140">Ahora, el valor predeterminado es `Predictable`.</span><span class="sxs-lookup"><span data-stu-id="812d5-140">The default setting is now `Predictable`.</span></span> <span data-ttu-id="812d5-141">Para obtener más información, vea [Identificación de controles de formularios Web Forms](https://msdn.microsoft.com/library/1d04y8ss(v=vs.100).aspx).</span><span class="sxs-lookup"><span data-stu-id="812d5-141">For more information, see [ASP.NET Web Server Control Identification](https://msdn.microsoft.com/library/1d04y8ss(v=vs.100).aspx).</span></span> | <span data-ttu-id="812d5-142">Si usa Visual Studio 2010 para actualizar la aplicación desde ASP.NET 2.0 o ASP.NET 3.5, la herramienta agrega automáticamente una configuración en el archivo Web.config que conserva el comportamiento de versiones anteriores de .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="812d5-142">If you use Visual Studio 2010 to upgrade your application from ASP.NET 2.0 or ASP.NET 3.5, the tool automatically adds a setting to the Web.config file that preserves the behavior of earlier versions of the .NET Framework.</span></span> <span data-ttu-id="812d5-143">Sin embargo, si actualiza una aplicación cambiando el grupo de aplicaciones en IIS para elegir como destino .NET Framework 4, ASP.NET usará el nuevo modo de forma predeterminada.</span><span class="sxs-lookup"><span data-stu-id="812d5-143">However, if you upgrade an application by changing the application pool in IIS to target the .NET Framework 4, ASP.NET uses the new mode by default.</span></span> <span data-ttu-id="812d5-144">Para deshabilitar el nuevo modo de identificador de cliente, agregue el valor siguiente al archivo Web.config:</span><span class="sxs-lookup"><span data-stu-id="812d5-144">To disable the new client ID mode, add the following setting to the Web.config file:</span></span><br><br>`<pages clientIDMode="AutoID" />` |
| <span data-ttu-id="812d5-145">**Seguridad de acceso del código (CAS)**</span><span class="sxs-lookup"><span data-stu-id="812d5-145">**Code access security (CAS)**</span></span> | <span data-ttu-id="812d5-146">Las características de .NET de ASP.NET 2.0 que se han agregado a ASP.NET 3.5 usan el modelo de seguridad de acceso del código (CAS) de .NET Framework 1.1 y .NET Framework 2.0.</span><span class="sxs-lookup"><span data-stu-id="812d5-146">ASP.NET 2.0 NET features that were added in ASP.NET 3.5 use the .NET Framework 1.1 and .NET Framework 2.0 code access security (CAS) model.</span></span> <span data-ttu-id="812d5-147">Aun así, la implementación de CAS en ASP.NET 4 se ha mejorado considerablemente.</span><span class="sxs-lookup"><span data-stu-id="812d5-147">However, the implementation of CAS in ASP.NET 4 has been substantially overhauled.</span></span> <span data-ttu-id="812d5-148">Como resultado, podría producirse un error con varias excepciones de seguridad en las aplicaciones de ASP.NET de confianza parcial que se basan en código de confianza que se ejecuta en la caché global de ensamblados.</span><span class="sxs-lookup"><span data-stu-id="812d5-148">As a result, partial-trust ASP.NET applications that rely on trusted code running in the global assembly cache might fail with various security exceptions.</span></span> <span data-ttu-id="812d5-149">También se podrían producir errores y excepciones de seguridad en las aplicaciones de confianza parcial que se basan en modificaciones extensas de la directiva de CAS del equipo.</span><span class="sxs-lookup"><span data-stu-id="812d5-149">Partial-trust applications that rely on extensive modifications to machine CAS policy might also fail and throw security exceptions.</span></span> | <span data-ttu-id="812d5-150">Puede revertir las aplicaciones de ASP.NET 4 de confianza parcial al comportamiento de ASP.NET 1.1 y 2.0 mediante el uso del nuevo atributo `legacyCasModel` en el elemento de configuración `trust`, como se muestra en el ejemplo siguiente:</span><span class="sxs-lookup"><span data-stu-id="812d5-150">You can revert partial-trust ASP.NET 4 applications to the behavior of ASP.NET 1.1 and 2.0 by using the new `legacyCasModel` attribute in the `trust` configuration element, as shown in the following example:</span></span><br><br>`<trust level= "Medium" legacyCasModel="true" />`<br><br><span data-ttu-id="812d5-151">Importante: El hecho de revertir al modelo anterior de CAS podría reducir la seguridad.</span><span class="sxs-lookup"><span data-stu-id="812d5-151">Important: Reverting to the older CAS model might represent reduced security.</span></span><br><br><span data-ttu-id="812d5-152">Para obtener más información sobre el nuevo modelo de seguridad de acceso del código de ASP.NET 4, vea [Seguridad de acceso del código para aplicaciones ASP.NET 4](https://msdn.microsoft.com/library/dd984947.aspx).</span><span class="sxs-lookup"><span data-stu-id="812d5-152">For more information about the new ASP.NET 4 code access security model, see [Code Access Security in ASP.NET 4 Applications](https://msdn.microsoft.com/library/dd984947.aspx).</span></span> |
| <span data-ttu-id="812d5-153">**Archivos de configuración**</span><span class="sxs-lookup"><span data-stu-id="812d5-153">**Configuration files**</span></span> | <span data-ttu-id="812d5-154">Los archivos de configuración raíz (el archivo machine.config y el archivo raíz Web.config) para .NET Framework y ASP.NET 4 se han actualizado de modo que incluyan la mayor parte de la información de configuración reutilizable que se encontraba en los archivos de aplicación Web.config de ASP.NET 3.5.</span><span class="sxs-lookup"><span data-stu-id="812d5-154">The root configuration files (the machine.config file and the root Web.config file) for the .NET Framework and ASP.NET 4 have been updated to include most of the boilerplate configuration information that was found in the application Web.config files in ASP.NET 3.5.</span></span> <span data-ttu-id="812d5-155">Dada la complejidad de los sistemas de configuración administrados de IIS 7 e IIS 7.5, la ejecución de aplicaciones de ASP.NET 3.5 en ASP.NET 4 y en IIS 7 e IIS 7.5 puede producir errores de ASP.NET o de IIS.</span><span class="sxs-lookup"><span data-stu-id="812d5-155">Because of the complexity of the managed IIS 7 and IIS 7.5 configuration systems, running ASP.NET 3.5 applications under ASP.NET 4 and under IIS 7 and IIS 7.5 can result in either ASP.NET errors or IIS errors.</span></span> | <span data-ttu-id="812d5-156">Actualice las aplicaciones de ASP.NET 3.5 a ASP.NET 4 mediante las herramientas de actualización de proyectos de Visual Studio 2010.</span><span class="sxs-lookup"><span data-stu-id="812d5-156">Upgrade ASP.NET 3.5 applications to ASP.NET 4 by using the project upgrade tools in Visual Studio 2010.</span></span> <span data-ttu-id="812d5-157">Visual Studio 2010 modifica automáticamente el archivo Web.config de la aplicación de ASP.NET 3.5 para que contenga la configuración adecuada para ASP.NET 4.</span><span class="sxs-lookup"><span data-stu-id="812d5-157">Visual Studio 2010 automatically modifies the ASP.NET 3.5 application's Web.config file to contain the appropriate settings for ASP.NET 4.</span></span><br><br><span data-ttu-id="812d5-158">Aun así, puede ejecutar aplicaciones de ASP.NET 3.5 con .NET Framework 4 sin necesidad de volver a compilar.</span><span class="sxs-lookup"><span data-stu-id="812d5-158">However, you can run ASP.NET 3.5 applications using the .NET Framework 4 without recompilation.</span></span> <span data-ttu-id="812d5-159">En ese caso, es posible que deba modificar manualmente el archivo Web.config de la aplicación antes de ejecutar la aplicación en .NET Framework 4 y en IIS 7 o IIS 7.5.</span><span class="sxs-lookup"><span data-stu-id="812d5-159">In that case, you might have to manually modify the application's Web.config file before you run the application under the .NET Framework 4 and under IIS 7 or IIS 7.5.</span></span> <span data-ttu-id="812d5-160">El cambio específico que debe realizar depende de la combinación de software con la que trabaje, incluidas las versiones de Service Pack (SP).</span><span class="sxs-lookup"><span data-stu-id="812d5-160">The specific change you must make depends on the combination of software you are working with, including Service Pack (SP) releases.</span></span> <span data-ttu-id="812d5-161">Para obtener información sobre las combinaciones de software que se pueden ver afectadas por este cambio y saber cómo resolver los problemas de combinaciones específicas, vea la sección "Configuration Errors Related to New ASP.NET 4 Root Configuration" (Errores de configuración relacionados con la nueva configuración raíz de ASP.NET 4) en el documento [ASP.NET 4 Breaking Changes](https://go.microsoft.com/fwlink/?LinkId=182908) (Cambios importantes de ASP.NET 4) en el sitio web de ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="812d5-161">For information about the possible software combinations that are affected by this change and how to resolve problems with specific combinations, see the section "Configuration Errors Related to New ASP.NET 4 Root Configuration" in the document [ASP.NET 4 Breaking Changes](https://go.microsoft.com/fwlink/?LinkId=182908) on the ASP.NET Web site.</span></span> |
| <span data-ttu-id="812d5-162">**Representación de controles**</span><span class="sxs-lookup"><span data-stu-id="812d5-162">**Control rendering**</span></span> | <span data-ttu-id="812d5-163">En versiones anteriores de ASP.NET, algunos controles emitían un marcado que no se podía deshabilitar.</span><span class="sxs-lookup"><span data-stu-id="812d5-163">In previous versions of ASP.NET, some controls emitted markup that you could not disable.</span></span> <span data-ttu-id="812d5-164">De forma predeterminada, este tipo de marcado ya no se genera en ASP.NET 4.</span><span class="sxs-lookup"><span data-stu-id="812d5-164">By default, this type of markup is no longer generated in ASP.NET 4.</span></span> <span data-ttu-id="812d5-165">Los cambios de representación afectan a los siguientes controles:</span><span class="sxs-lookup"><span data-stu-id="812d5-165">The rendering changes affect the following controls:</span></span><br><br><span data-ttu-id="812d5-166">\* Los controles `Image` y `ImageButton` ya no representan un atributo `border="0"`.</span><span class="sxs-lookup"><span data-stu-id="812d5-166">\* The `Image` and `ImageButton` controls no longer render a `border="0"` attribute.</span></span><br><span data-ttu-id="812d5-167">\* La clase `BaseValidator` y los controles de validación que derivan de ella ya no representan texto rojo de forma predeterminada.</span><span class="sxs-lookup"><span data-stu-id="812d5-167">\* The `BaseValidator` class and validation controls that derive from it no longer render red text by default.</span></span><br><span data-ttu-id="812d5-168">\* El control `HtmlForm` no representa un atributo `name`.</span><span class="sxs-lookup"><span data-stu-id="812d5-168">\* The `HtmlForm` control does not render a `name` attribute.</span></span><br><span data-ttu-id="812d5-169">\* El control `Table` ya no representa un atributo `border="0"`.</span><span class="sxs-lookup"><span data-stu-id="812d5-169">\* The `Table` control no longer renders a `border="0"` attribute.</span></span><br><br><span data-ttu-id="812d5-170">Los controles que no están diseñados para la entrada del usuario (por ejemplo, el control `Label`) ya no representan el atributo `disabled="disabled"` si su propiedad `Enabled` está establecida en `false` (o si heredan esta configuración de un control contenedor).</span><span class="sxs-lookup"><span data-stu-id="812d5-170">Controls that are not designed for user input (for example, the `Label` control) no longer render the `disabled="disabled"` attribute if their `Enabled` property is set to `false` (or if they inherit this setting from a container control).</span></span> | <span data-ttu-id="812d5-171">Si usa Visual Studio 2010 para actualizar la aplicación desde ASP.NET 2.0 o ASP.NET 3.5, la herramienta agrega automáticamente una configuración en el archivo Web.config que conserva la representación heredada.</span><span class="sxs-lookup"><span data-stu-id="812d5-171">If you use Visual Studio 2010 to upgrade your application from ASP.NET 2.0 or ASP.NET 3.5, the tool automatically adds a setting to the Web.config file that preserves legacy rendering.</span></span> <span data-ttu-id="812d5-172">Sin embargo, si actualiza una aplicación cambiando el grupo de aplicaciones en IIS para elegir como destino .NET Framework 4, ASP.NET usa el nuevo modo de representación de forma predeterminada.</span><span class="sxs-lookup"><span data-stu-id="812d5-172">However, if you upgrade an application by changing the application pool in IIS to target the .NET Framework 4, ASP.NET uses the new rendering mode by default.</span></span> <span data-ttu-id="812d5-173">Para deshabilitar el nuevo modo de representación, agregue el valor siguiente al archivo Web.config:</span><span class="sxs-lookup"><span data-stu-id="812d5-173">To disable the new rendering mode, add the following setting to the Web.config file:</span></span><br><br>`<pages controlRenderingCompatibilityVersion="3.5" />` |
| <span data-ttu-id="812d5-174">**Controladores de eventos en documentos predeterminados**</span><span class="sxs-lookup"><span data-stu-id="812d5-174">**Event handlers in default documents**</span></span> | <span data-ttu-id="812d5-175">ASP.NET 4 representa el valor de atributo `action` del elemento HTML `form` como una cadena vacía cuando se realiza una solicitud a una dirección URL sin extensión que tiene asignado un documento predeterminado.</span><span class="sxs-lookup"><span data-stu-id="812d5-175">ASP.NET  4 renders the HTML `form` element's `action` attribute value as an empty string when a request is made to an extensionless URL that has a default document mapped to it.</span></span> <span data-ttu-id="812d5-176">En versiones anteriores de ASP.NET, una solicitud a `http://contoso.com` daría como resultado una solicitud a Default.aspx.</span><span class="sxs-lookup"><span data-stu-id="812d5-176">In earlier releases of ASP.NET, a request to `http://contoso.com` would result in a request to Default.aspx.</span></span> <span data-ttu-id="812d5-177">En ese documento, la etiqueta `form` de apertura se representaría como en el ejemplo siguiente:</span><span class="sxs-lookup"><span data-stu-id="812d5-177">In that document, the opening `form` tag would be rendered as in the following example:</span></span><br><br>`<form action="Default.aspx" />`<br><br><span data-ttu-id="812d5-178">En ASP.NET 4, una solicitud a `http://contoso.com` también daría como resultado una solicitud a Default.aspx, pero ASP.NET ahora representa la etiqueta de apertura HTML `form` como en el ejemplo siguiente:</span><span class="sxs-lookup"><span data-stu-id="812d5-178">In ASP.NET 4, a request to `http://contoso.com` also results in a request to Default.aspx, but ASP.NET now renders the HTML opening `form` tag as in the following example:</span></span><br><br>`<form action="" />`<br><br><span data-ttu-id="812d5-179">Cuando el atributo `action` es una cadena vacía, el objeto `DefaultDocumentModule` de IIS crea una solicitud secundaria a Default.aspx.</span><span class="sxs-lookup"><span data-stu-id="812d5-179">When the `action` attribute is an empty string, the IIS `DefaultDocumentModule` object creates a child request to Default.aspx.</span></span> <span data-ttu-id="812d5-180">En la mayoría de las condiciones, esta solicitud secundaria es transparente para el código de la aplicación y la página Default.aspx se ejecuta con normalidad.</span><span class="sxs-lookup"><span data-stu-id="812d5-180">Under most conditions, this child request is transparent to application code, and the Default.aspx page runs normally.</span></span> <span data-ttu-id="812d5-181">A pesar de ello, una interacción potencial entre el código administrado y el modo integrado de IIS 7 o IIS 7.5 puede hacer que las páginas .aspx administradas dejen de funcionar correctamente durante la solicitud secundaria.</span><span class="sxs-lookup"><span data-stu-id="812d5-181">However, a potential interaction between managed code and IIS 7 or IIS 7.5 Integrated mode can cause managed .aspx pages to stop working properly during the child request.</span></span> <span data-ttu-id="812d5-182">Si se producen las condiciones siguientes, la solicitud secundaria a un documento .aspx predeterminado producirá un error o un comportamiento inesperado:</span><span class="sxs-lookup"><span data-stu-id="812d5-182">If the following conditions occur, the child request to a default .aspx document will result in an error or in unexpected behavior:</span></span><br><br><span data-ttu-id="812d5-183">\* Una página .aspx se envía al explorador con el atributo `action` del elemento `form` establecido en "".</span><span class="sxs-lookup"><span data-stu-id="812d5-183">\* An .aspx page is sent to the browser with the `form` element's `action` attribute set to "".</span></span><br><span data-ttu-id="812d5-184">\* El formulario se envía de vuelta a ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="812d5-184">\* The form is posted back to ASP.NET.</span></span><br><span data-ttu-id="812d5-185">\* Un módulo HTTP administrado lee una parte del cuerpo de la entidad, como `Request.Form` o `Request.Params`.</span><span class="sxs-lookup"><span data-stu-id="812d5-185">\* A managed HTTP module reads some part of the entity body, such as `Request.Form` or `Request.Params`.</span></span> <span data-ttu-id="812d5-186">Esto hace que el cuerpo de la entidad de la solicitud POST se lea en la memoria administrada.</span><span class="sxs-lookup"><span data-stu-id="812d5-186">This causes the entity body of the POST request to be read into managed memory.</span></span> <span data-ttu-id="812d5-187">Como resultado, el cuerpo de la entidad ya no está disponible para los módulos de código nativo que se ejecutan en el modo integrado de IIS 7 o IIS 7.5.</span><span class="sxs-lookup"><span data-stu-id="812d5-187">As a result, the entity body is no longer available to any native code modules that are running in IIS 7 or IIS 7.5 Integrated mode.</span></span><br><span data-ttu-id="812d5-188">\* El objeto `DefaultDocumentModule` de IIS finalmente se ejecuta y crea una solicitud secundaria al documento Default.aspx.</span><span class="sxs-lookup"><span data-stu-id="812d5-188">\* The IIS `DefaultDocumentModule` object eventually runs and creates a child request to the Default.aspx document.</span></span> <span data-ttu-id="812d5-189">Sin embargo, dado que un fragmento del código administrado ya ha leído el cuerpo de la entidad, no hay ningún cuerpo de entidad disponible para enviarlo a la solicitud secundaria.</span><span class="sxs-lookup"><span data-stu-id="812d5-189">However, because the entity body has already been read by a piece of managed code, there is no entity body available to send to the child request.</span></span><br><span data-ttu-id="812d5-190">\* Cuando se ejecuta la canalización HTTP para la solicitud secundaria, el controlador de archivos .aspx se ejecuta durante la fase de ejecución de controlador.</span><span class="sxs-lookup"><span data-stu-id="812d5-190">\* When the HTTP pipeline runs for the child request, the handler for .aspx files runs during the handler-execute phase.</span></span><br><br><span data-ttu-id="812d5-191">Dado que no hay ningún cuerpo de entidad, no hay variables de formulario ni estado de vista.</span><span class="sxs-lookup"><span data-stu-id="812d5-191">Because there is no entity body, there are no form variables and no view state.</span></span> <span data-ttu-id="812d5-192">Por lo tanto, no hay información disponible para que el controlador de páginas .aspx determine qué evento se debe generar (en caso de que sea necesario).</span><span class="sxs-lookup"><span data-stu-id="812d5-192">Therefore there is no information available for the .aspx page handler to determine what event (if any) should be raised.</span></span> <span data-ttu-id="812d5-193">Como resultado, no se ejecuta ninguno de los controladores de eventos postback para la página .aspx afectada.</span><span class="sxs-lookup"><span data-stu-id="812d5-193">As a result, none of the postback event handlers for the affected .aspx page run.</span></span> | <span data-ttu-id="812d5-194">Para obtener información sobre las formas de solucionar los problemas que pueden surgir como resultado de este cambio, vea "Event Handlers Might Not Be Not Raised in a Default Document in IIS 7 or IIS 7.5 Integrated Mode" (Podrían no producirse eventos de controladores en un documento predeterminado en el modo integrado de IIS 7 o IIS 7.5) en el documento [ASP.NET 4 Breaking Changes](https://go.microsoft.com/fwlink/?LinkId=182908) (Cambios importantes de ASP.NET 4) en el sitio web de ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="812d5-194">For information about ways to work around problems that might arise as a result of this change, see "Event Handlers Might Not Be Not Raised in a Default Document in IIS 7 or IIS 7.5 Integrated Mode" in the document [ASP.NET 4 Breaking Changes](https://go.microsoft.com/fwlink/?LinkId=182908) on the ASP.NET Web site.</span></span> |
| <span data-ttu-id="812d5-195">**Algoritmo hash**</span><span class="sxs-lookup"><span data-stu-id="812d5-195">**Hashing algorithm**</span></span> | <span data-ttu-id="812d5-196">ASP.NET usa cifrado y algoritmos hash para ayudar a proteger los datos, como las cookies de autenticación de formularios y el estado de vista.</span><span class="sxs-lookup"><span data-stu-id="812d5-196">ASP.NET uses both encryption and hashing algorithms to help secure data such as forms authentication cookies and view state.</span></span> <span data-ttu-id="812d5-197">De forma predeterminada, ASP.NET 4 usa el algoritmo <xref:System.Security.Cryptography.HMACSHA256> para las operaciones de hash en las cookies y el estado de vista.</span><span class="sxs-lookup"><span data-stu-id="812d5-197">By default, ASP.NET 4 uses the <xref:System.Security.Cryptography.HMACSHA256> algorithm for hash operations on cookies and view state.</span></span> <span data-ttu-id="812d5-198">Las versiones anteriores de ASP.NET usaban el algoritmo <xref:System.Security.Cryptography.HMACSHA1>, más antiguo.</span><span class="sxs-lookup"><span data-stu-id="812d5-198">Earlier versions of ASP.NET used the older <xref:System.Security.Cryptography.HMACSHA1> algorithm.</span></span> | <span data-ttu-id="812d5-199">Si ejecuta aplicaciones que combinan ASP.NET 2.0 y ASP.NET 4, en las que los datos como las cookies de autenticación de formularios deben funcionar en diferentes versiones de .NET Framework, configure una aplicación web de ASP.NET 4 de modo que use el algoritmo <xref:System.Security.Cryptography.HMACSHA1> antiguo. Para ello, agregue el valor de configuración siguiente en el archivo Web.config:</span><span class="sxs-lookup"><span data-stu-id="812d5-199">If you run applications that mix ASP.NET 2.0 and ASP.NET 4, where data such as forms authentication cookies must work across .NET Framework versions, configure an ASP.NET 4 Web application to use the older <xref:System.Security.Cryptography.HMACSHA1> algorithm by adding the following setting in the Web.config file:</span></span><br><br>`<machineKey validation="SHA1" />` |
| <span data-ttu-id="812d5-200">**Hospedar controles en Internet Explorer**</span><span class="sxs-lookup"><span data-stu-id="812d5-200">**Hosting controls in Internet Explorer**</span></span> | <span data-ttu-id="812d5-201">Ya no se pueden hospedar controles de formularios Windows Forms en Internet Explorer, dado que existen soluciones mejores para hospedar controles en la Web.</span><span class="sxs-lookup"><span data-stu-id="812d5-201">You can no longer host Windows Forms controls in the Internet Explorer, because there are better solutions for hosting controls on the Web.</span></span> <span data-ttu-id="812d5-202">Por lo tanto, se han quitado de .NET Framework los ensamblados IEHost.dll e IEExec.exe.</span><span class="sxs-lookup"><span data-stu-id="812d5-202">Therefore, the IEHost.dll and IEExec.exe assemblies have been removed from the .NET Framework.</span></span> | <span data-ttu-id="812d5-203">Puede usar las siguientes tecnologías para el desarrollo de controles personalizados en aplicaciones web:</span><span class="sxs-lookup"><span data-stu-id="812d5-203">You can use the following technologies for custom control development in Web applications:</span></span><br><br><span data-ttu-id="812d5-204">\* Puede crear una aplicación de Silverlight y configurarla para que se ejecute fuera del explorador.</span><span class="sxs-lookup"><span data-stu-id="812d5-204">\* You can create a Silverlight application and configure it to run outside the browser.</span></span> <span data-ttu-id="812d5-205">Para obtener más información, vea [Out-of-Browser Support](https://msdn.microsoft.com/library/dd550721(v=vs.100).aspx) (Compatibilidad fuera del explorador).</span><span class="sxs-lookup"><span data-stu-id="812d5-205">For more information, see [Out-of-Browser Support](https://msdn.microsoft.com/library/dd550721(v=vs.100).aspx).</span></span><br><span data-ttu-id="812d5-206">\* Puede compilar una aplicación de explorador XAML (XBAP) aprovechar las ventajas de las funciones WPF (requiere .NET Framework en los equipos cliente).</span><span class="sxs-lookup"><span data-stu-id="812d5-206">\* You can build a XAML browser application (XBAP) to take advantage of WPF capabilities (requires the .NET Framework on client machines).</span></span> <span data-ttu-id="812d5-207">Para obtener más información, vea [Información general sobre las aplicaciones de explorador XAML de WPF](/dotnet/framework/wpf/app-development/wpf-xaml-browser-applications-overview).</span><span class="sxs-lookup"><span data-stu-id="812d5-207">For more information, see [WPF XAML Browser Applications Overview](/dotnet/framework/wpf/app-development/wpf-xaml-browser-applications-overview).</span></span> |
| <span data-ttu-id="812d5-208">**Métodos HtmlEncode y UrlEncode**</span><span class="sxs-lookup"><span data-stu-id="812d5-208">**HtmlEncode and UrlEncode methods**</span></span> | <span data-ttu-id="812d5-209">Los métodos `HtmlEncode` y `UrlEncode` de las clases <xref:System.Web.HttpUtility> y <xref:System.Web.HttpServerUtility> se han actualizado para codificar el carácter de comilla simple (') como se indica a continuación:</span><span class="sxs-lookup"><span data-stu-id="812d5-209">The `HtmlEncode` and `UrlEncode` methods of the <xref:System.Web.HttpUtility> and <xref:System.Web.HttpServerUtility> classes have been updated to encode the single quotation mark character (') as follows:</span></span><br><br><span data-ttu-id="812d5-210">\* El método `HtmlEncode` codifica las instancias de la comilla simple como `&#39;`</span><span class="sxs-lookup"><span data-stu-id="812d5-210">\* The `HtmlEncode` method encodes instances of the single quotation mark as `&#39;`</span></span><br><span data-ttu-id="812d5-211">\* El método `UrlEncode` codifica las instancias de la comilla simple como `%27`</span><span class="sxs-lookup"><span data-stu-id="812d5-211">\* The `UrlEncode` method encodes instances of the single quotation mark as `%27`</span></span> | <span data-ttu-id="812d5-212">Busque en el código los lugares en los que usa los métodos `HtmlEncode` y `UrlEncode` y asegúrese de que el cambio en la codificación no produce un cambio que afecte a la aplicación.</span><span class="sxs-lookup"><span data-stu-id="812d5-212">Examine your code for places where you use the `HtmlEncode` and `UrlEncode` methods, and make sure that the change in encoding does not result in a change that would affect your application.</span></span> |
| <span data-ttu-id="812d5-213">**Errores HttpException en aplicaciones de ASP.NET 2.0**</span><span class="sxs-lookup"><span data-stu-id="812d5-213">**HttpException errors in ASP.NET 2.0 applications**</span></span> | <span data-ttu-id="812d5-214">Una vez que se ha habilitado ASP.NET 4 en IIS 6, las aplicaciones de ASP.NET 2.0 que se ejecutan en IIS 6 (en Windows Server 2003 o Windows Server 2003 R2) podrían generar errores como el siguiente: `System.Web.HttpException: Path '/[yourApplicationRoot]/eurl.axd/[Value]' was not found.`</span><span class="sxs-lookup"><span data-stu-id="812d5-214">After ASP.NET 4 has been enabled on IIS 6, ASP.NET 2.0 applications that run on IIS 6 (in either Windows Server 2003 or Windows Server 2003 R2) might generate errors such as the following: `System.Web.HttpException: Path '/[yourApplicationRoot]/eurl.axd/[Value]' was not found.`</span></span> | <span data-ttu-id="812d5-215">\* Si no se requiere ASP.NET 4 para ejecutar el sitio web, vuelva a asignar el sitio de modo que use ASP.NET 2.0 en su lugar.</span><span class="sxs-lookup"><span data-stu-id="812d5-215">\* If ASP.NET 4 is not required in order to run the Web site, remap the site to use ASP.NET 2.0 instead.</span></span><br><br><span data-ttu-id="812d5-216">O bien</span><span class="sxs-lookup"><span data-stu-id="812d5-216">-or-</span></span><br><br><span data-ttu-id="812d5-217">\* Si se requiere ASP.NET 4 para ejecutar el sitio web, mueva los directorios virtuales secundarios de ASP.NET 2.0 a otro sitio web que esté asignado a ASP.NET 2.0.</span><span class="sxs-lookup"><span data-stu-id="812d5-217">\* If ASP.NET 4 is required in order to run the Web site, move any child ASP.NET 2.0 virtual directories to a different Web site that is mapped to ASP.NET 2.0.</span></span><br><br><span data-ttu-id="812d5-218">O bien</span><span class="sxs-lookup"><span data-stu-id="812d5-218">-or-</span></span><br><br><span data-ttu-id="812d5-219">\* Deshabilite las direcciones URL sin extensión.</span><span class="sxs-lookup"><span data-stu-id="812d5-219">\* Disable extensionless URLs.</span></span> <span data-ttu-id="812d5-220">Para obtener más información, vea "ASP.NET 2.0 Applications Might Generate HttpException Errors That Reference eurl.axd" (Las aplicaciones de ASP.NET 2.0 pueden generar errores HttpException que hacen referencia a eurl.axd) en el documento [ASP.NET 4 Breaking Changes](https://go.microsoft.com/fwlink/?LinkId=182908) (Cambios importantes de ASP.NET 4) en el sitio web de ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="812d5-220">For more information, see "ASP.NET 2.0 Applications Might Generate HttpException Errors That Reference eurl.axd" in the document [ASP.NET 4 Breaking Changes](https://go.microsoft.com/fwlink/?LinkId=182908) on the ASP.NET Web site.</span></span> |
| <span data-ttu-id="812d5-221">**Tipos de pertenencia**</span><span class="sxs-lookup"><span data-stu-id="812d5-221">**Membership types**</span></span> | <span data-ttu-id="812d5-222">Algunos tipos (por ejemplo, <xref:System.Web.Security.MembershipProvider>) que se usan en la pertenencia a ASP.NET se han movido del ensamblado System.Web.dll al ensamblado System.Web.ApplicationServices.dll.</span><span class="sxs-lookup"><span data-stu-id="812d5-222">Some types (for example, <xref:System.Web.Security.MembershipProvider>) that are used in ASP.NET membership have been moved from System.Web.dll to the System.Web.ApplicationServices.dll assembly.</span></span> <span data-ttu-id="812d5-223">Estos tipos se han movido para resolver las dependencias de capas de arquitectura entre los tipos del cliente y de las SKU de .NET Framework extendidas.</span><span class="sxs-lookup"><span data-stu-id="812d5-223">The types were moved in order to resolve architectural layering dependencies between types in the client and in extended .NET Framework SKUs.</span></span> | <span data-ttu-id="812d5-224">Las bibliotecas de clases que se han actualizado desde versiones anteriores de ASP.NET y que usan tipos de pertenencia movidos podrían no compilarse cuando se usan en un proyecto de ASP.NET 4.</span><span class="sxs-lookup"><span data-stu-id="812d5-224">Class libraries that have been upgraded from earlier versions of ASP.NET and that use membership types that have been moved might fail to compile when used in an ASP.NET 4 project.</span></span> <span data-ttu-id="812d5-225">En ese caso, agregue una referencia a System.Web.ApplicationServices.dll en el proyecto de biblioteca de clases.</span><span class="sxs-lookup"><span data-stu-id="812d5-225">If so, add a reference in the class library project to System.Web.ApplicationServices.dll.</span></span> |
| <span data-ttu-id="812d5-226">**Cambios en el control Menu**</span><span class="sxs-lookup"><span data-stu-id="812d5-226">**Menu control changes**</span></span> | <span data-ttu-id="812d5-227">Los cambios en el control <xref:System.Web.UI.WebControls.Menu> provocan el siguiente comportamiento:</span><span class="sxs-lookup"><span data-stu-id="812d5-227">Changes to the <xref:System.Web.UI.WebControls.Menu> control result in the following behavior:</span></span><br><br><span data-ttu-id="812d5-228">\* Si <xref:System.Web.UI.WebControls.MenuRenderingMode> está establecido en `List`, o si <xref:System.Web.UI.WebControls.MenuRenderingMode> está establecido en `Default` y <xref:System.Web.Configuration.PagesSection.ControlRenderingCompatibilityVersion> está establecido en `4.0` o una versión posterior, la propiedad <xref:System.Web.UI.WebControls.MenuItem.PopOutImageUrl> no tiene ningún efecto.</span><span class="sxs-lookup"><span data-stu-id="812d5-228">\* If <xref:System.Web.UI.WebControls.MenuRenderingMode> is set to `List`, or if <xref:System.Web.UI.WebControls.MenuRenderingMode> is set to `Default` and <xref:System.Web.Configuration.PagesSection.ControlRenderingCompatibilityVersion> is set to `4.0` or later, the <xref:System.Web.UI.WebControls.MenuItem.PopOutImageUrl> property has no effect.</span></span><br><span data-ttu-id="812d5-229">\* Si la ruta de acceso que se establece en las propiedades <xref:System.Web.UI.WebControls.Menu.StaticPopOutImageUrl%2A> y <xref:System.Web.UI.WebControls.Menu.DynamicPopOutImageUrl> contiene una barra diagonal inversa (\\), las imágenes no se representan.</span><span class="sxs-lookup"><span data-stu-id="812d5-229">\* If the path that is set in the <xref:System.Web.UI.WebControls.Menu.StaticPopOutImageUrl%2A> and <xref:System.Web.UI.WebControls.Menu.DynamicPopOutImageUrl> properties contains a backslash (\\), the images do not render.</span></span> <span data-ttu-id="812d5-230">(En versiones anteriores de ASP.NET, la ruta de acceso podría incluir una barra diagonal inversa).</span><span class="sxs-lookup"><span data-stu-id="812d5-230">(In earlier versions of ASP.NET, the path could include a backslash.)</span></span> | <span data-ttu-id="812d5-231">\* En lugar de establecer la propiedad <xref:System.Web.UI.WebControls.MenuItem.PopOutImageUrl> para los elementos de menú individuales, establezca las propiedades <xref:System.Web.UI.WebControls.Menu.StaticPopOutImageUrl%2A> o <xref:System.Web.UI.WebControls.Menu.DynamicPopOutImageUrl> del control primario <xref:System.Web.UI.WebControls.Menu>.</span><span class="sxs-lookup"><span data-stu-id="812d5-231">\* Instead of setting the <xref:System.Web.UI.WebControls.MenuItem.PopOutImageUrl> property for individual menu items, set the <xref:System.Web.UI.WebControls.Menu.StaticPopOutImageUrl%2A> or <xref:System.Web.UI.WebControls.Menu.DynamicPopOutImageUrl> of the parent <xref:System.Web.UI.WebControls.Menu> control.</span></span><br><br><span data-ttu-id="812d5-232">O bien</span><span class="sxs-lookup"><span data-stu-id="812d5-232">-or-</span></span><br><br><span data-ttu-id="812d5-233">Establezca <xref:System.Web.UI.WebControls.MenuRenderingMode> en `Table`, o establezca <xref:System.Web.UI.WebControls.MenuRenderingMode> en `Default` y <xref:System.Web.Configuration.PagesSection.ControlRenderingCompatibilityVersion> en `3.5`.</span><span class="sxs-lookup"><span data-stu-id="812d5-233">Set <xref:System.Web.UI.WebControls.MenuRenderingMode> to `Table`, or set <xref:System.Web.UI.WebControls.MenuRenderingMode> to `Default` and set <xref:System.Web.Configuration.PagesSection.ControlRenderingCompatibilityVersion> to `3.5`.</span></span> <span data-ttu-id="812d5-234">Esta configuración hace que el control <xref:System.Web.UI.WebControls.Menu> use el diseño basado en la tablas HTML que se usaba en versiones anteriores de ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="812d5-234">These settings cause the <xref:System.Web.UI.WebControls.Menu> control to use the HTML table-based layout that it used in earlier versions of ASP.NET.</span></span><br><span data-ttu-id="812d5-235">\* Si la ruta de acceso de la propiedad <xref:System.Web.UI.WebControls.Menu.StaticPopOutImageUrl%2A> o <xref:System.Web.UI.WebControls.Menu.DynamicPopOutImageUrl> contiene una barra diagonal inversa (\\), sustitúyalo por un carácter de barra diagonal (/).</span><span class="sxs-lookup"><span data-stu-id="812d5-235">\* If the path in the <xref:System.Web.UI.WebControls.Menu.StaticPopOutImageUrl%2A> or <xref:System.Web.UI.WebControls.Menu.DynamicPopOutImageUrl> property contains a backslash (\\), substitute a slash character (/).</span></span> |
| <span data-ttu-id="812d5-236">**Ensamblado móvil en el archivo Web.config**</span><span class="sxs-lookup"><span data-stu-id="812d5-236">**Mobile assembly in Web.config file**</span></span> | <span data-ttu-id="812d5-237">En versiones anteriores de ASP.NET, se incluía una referencia al ensamblado System.Web.Mobile.dll en el archivo raíz Web.config en la sección `assemblies` de `system.web`/`compilation`.</span><span class="sxs-lookup"><span data-stu-id="812d5-237">In previous versions of ASP.NET, a reference to the System.Web.Mobile.dll assembly was included in the root Web.config file in the `assemblies` section under `system.web`/`compilation`.</span></span> <span data-ttu-id="812d5-238">Para mejorar el rendimiento, se ha quitado la referencia a este ensamblado.</span><span class="sxs-lookup"><span data-stu-id="812d5-238">To improve performance, the reference to this assembly has been removed.</span></span><br><br><span data-ttu-id="812d5-239">Nota: El ensamblado System.Web.Mobile.dll y los controles móviles de ASP.NET están incluidos en ASP.NET 4, pero están en desuso.</span><span class="sxs-lookup"><span data-stu-id="812d5-239">Note: The System.Web.Mobile.dll assembly and the ASP.NET mobile controls are included in ASP.NET 4, but they are deprecated.</span></span> | <span data-ttu-id="812d5-240">Si quiere usar tipos de este ensamblado, agregue una referencia al ensamblado en el archivo raíz Web.config o en un archivo de aplicación Web.config.</span><span class="sxs-lookup"><span data-stu-id="812d5-240">If you want to use types from this assembly, add a reference to the assembly in either the root Web.config file or in an application Web.config file.</span></span> |
| <span data-ttu-id="812d5-241">**Almacenamiento en caché de resultados**</span><span class="sxs-lookup"><span data-stu-id="812d5-241">**Output caching**</span></span> | <span data-ttu-id="812d5-242">En ASP.NET 1.0, un error hacía que las páginas en caché que especificaban `Location="ServerAndClient"` como valor de la caché de resultados emitiesen un encabezado HTTP `Vary:*` en la respuesta.</span><span class="sxs-lookup"><span data-stu-id="812d5-242">In ASP.NET 1.0, a bug caused cached pages that specified `Location="ServerAndClient"` as an output€“cache setting to emit a `Vary:*` HTTP header in the response.</span></span> <span data-ttu-id="812d5-243">Como consecuencia, se indicaba a los exploradores de cliente que nunca almacenasen en caché la página localmente.</span><span class="sxs-lookup"><span data-stu-id="812d5-243">This had the effect of telling client browsers to never cache the page locally.</span></span> <span data-ttu-id="812d5-244">En ASP.NET 1.1 se agregó el método <xref:System.Web.HttpCachePolicy.SetOmitVaryStar%2A>, al que se podía llamar para suprimir el encabezado `Vary:*`.</span><span class="sxs-lookup"><span data-stu-id="812d5-244">In ASP.NET 1.1, the <xref:System.Web.HttpCachePolicy.SetOmitVaryStar%2A> method was added, which could be called in order to suppress the `Vary:*` header.</span></span> <span data-ttu-id="812d5-245">A pesar de ello, los informes de errores sugieren que los desarrolladores no son conscientes del comportamiento de `SetOmitVaryStar`.</span><span class="sxs-lookup"><span data-stu-id="812d5-245">However, bug reports suggest that developers are unaware of the existing `SetOmitVaryStar` behavior.</span></span><br><br><span data-ttu-id="812d5-246">En ASP.NET 4, ya no se emite el encabezado HTTP `Vary:*` desde las respuestas que especifican la directiva siguiente:</span><span class="sxs-lookup"><span data-stu-id="812d5-246">In ASP.NET 4, the `Vary:*` HTTP header is no longer emitted from responses that specify the following directive:</span></span><br><br>`<%@ OutputCache Location="ServerAndClient" %>`<br><br><span data-ttu-id="812d5-247">Como resultado, ya no es necesario el método <xref:System.Web.HttpCachePolicy.SetOmitVaryStar%2A> para suprimir el encabezado `Vary:*`.</span><span class="sxs-lookup"><span data-stu-id="812d5-247">As a result, the <xref:System.Web.HttpCachePolicy.SetOmitVaryStar%2A> method is no longer needed in order to suppress the `Vary:*` header.</span></span> <span data-ttu-id="812d5-248">En las aplicaciones que especifican "ServerAndClient" para el atributo `Location`, las páginas se podrán almacenar en caché en el explorador sin necesidad de llamar a <xref:System.Web.HttpCachePolicy.SetOmitVaryStar%2A>.</span><span class="sxs-lookup"><span data-stu-id="812d5-248">In applications that specify "ServerAndClient" for the `Location` attribute, pages will be cacheable in the browser without requiring that you call <xref:System.Web.HttpCachePolicy.SetOmitVaryStar%2A>.</span></span> | <span data-ttu-id="812d5-249">Si las páginas de la aplicación deben emitir `Vary:*`, llame al método <xref:System.Web.HttpResponse.AppendHeader%2A> como se muestra en el ejemplo siguiente:</span><span class="sxs-lookup"><span data-stu-id="812d5-249">If pages in the application must emit `Vary:*`, call the <xref:System.Web.HttpResponse.AppendHeader%2A> method as shown in the following example:</span></span><br><br>`System.Web.HttpResponse.AppendHeader("Vary","*");`<br><br><span data-ttu-id="812d5-250">Como alternativa, puede cambiar el valor del atributo `Location` de la caché de resultados a "Server".</span><span class="sxs-lookup"><span data-stu-id="812d5-250">Alternatively, you can change the value of the output caching `Location` attribute to "Server".</span></span> |
| <span data-ttu-id="812d5-251">**Análisis de página**</span><span class="sxs-lookup"><span data-stu-id="812d5-251">**Page parsing**</span></span> | <span data-ttu-id="812d5-252">El analizador de páginas de ASP.NET para páginas web (archivos .aspx) y controles de usuario (archivos .ascx) es más estricto en ASP.NET 4 que en versiones anteriores de ASP.NET, y marca como no válido un mayor porcentaje de marcado que en versiones anteriores.</span><span class="sxs-lookup"><span data-stu-id="812d5-252">The page parser for ASP.NET Web pages (.aspx files) and user controls (.ascx files) is stricter in ASP.NET 4 than in earlier versions of ASP.NET, and it flags more markup as invalid than in earlier versions.</span></span> | <span data-ttu-id="812d5-253">Examine los mensajes de error que se producen cuando se ejecuta una página y corrija los errores derivados de un marcado no válido.</span><span class="sxs-lookup"><span data-stu-id="812d5-253">Examine error messages that are produced when a page runs and fix errors that result from invalid markup.</span></span> |
| <span data-ttu-id="812d5-254">**Tipos de Passport**</span><span class="sxs-lookup"><span data-stu-id="812d5-254">**Passport types**</span></span> | <span data-ttu-id="812d5-255">La compatibilidad con Passport integrada en ASP.NET 2.0 está obsoleta y no se admite debido a los cambios que se han producido en Passport (ahora Live ID SDK).</span><span class="sxs-lookup"><span data-stu-id="812d5-255">The Passport support built into ASP.NET 2.0 is obsolete and is unsupported due to changes in Passport (now Live ID SDK).</span></span> <span data-ttu-id="812d5-256">Como resultado, los tipos relacionados con Passport en <xref:System.Web.Security> ahora se marcan con el atributo `ObsoleteAttribute`.</span><span class="sxs-lookup"><span data-stu-id="812d5-256">As a result, the types related to Passport in <xref:System.Web.Security> are now marked with the `ObsoleteAttribute` attribute.</span></span> | <span data-ttu-id="812d5-257">Cambie el código que tenga que use tipos de Passport en el espacio de nombres <xref:System.Web.Security> (por ejemplo, <xref:System.Web.Security.PassportIdentity>) para que use el [SDK](https://go.microsoft.com/fwlink/?LinkId=106346).</span><span class="sxs-lookup"><span data-stu-id="812d5-257">Change any code you have that uses Passport types in the <xref:System.Web.Security> namespace (for example, <xref:System.Web.Security.PassportIdentity>) to use the [SDK](https://go.microsoft.com/fwlink/?LinkId=106346).</span></span> |
| <span data-ttu-id="812d5-258">**Información de PathInfo en la propiedad FilePath**</span><span class="sxs-lookup"><span data-stu-id="812d5-258">**PathInfo information in the FilePath property**</span></span> | <span data-ttu-id="812d5-259">ASP.NET 4 ya no incluye el valor `PathInfo` en los valores devueltos desde propiedades como <xref:System.Web.HttpRequest.FilePath>, <xref:System.Web.HttpRequest.AppRelativeCurrentExecutionFilePath> y <xref:System.Web.HttpRequest.CurrentExecutionFilePath>.</span><span class="sxs-lookup"><span data-stu-id="812d5-259">ASP.NET 4 no longer includes the `PathInfo` value in the return values from properties such as <xref:System.Web.HttpRequest.FilePath>, <xref:System.Web.HttpRequest.AppRelativeCurrentExecutionFilePath>, and <xref:System.Web.HttpRequest.CurrentExecutionFilePath>.</span></span> <span data-ttu-id="812d5-260">Ahora, la información de `PathInfo` está disponible en <xref:System.Web.HttpRequest.PathInfo>.</span><span class="sxs-lookup"><span data-stu-id="812d5-260">Instead, the `PathInfo` information is available in <xref:System.Web.HttpRequest.PathInfo>.</span></span> <span data-ttu-id="812d5-261">Por ejemplo, veamos el siguiente fragmento de dirección URL:</span><span class="sxs-lookup"><span data-stu-id="812d5-261">For example, imagine the following URL fragment:</span></span><br><br>`/testapp/Action.mvc/SomeAction`<br><br><span data-ttu-id="812d5-262">En versiones anteriores de ASP.NET, las propiedades <xref:System.Web.HttpRequest> tienen los valores siguientes:</span><span class="sxs-lookup"><span data-stu-id="812d5-262">In earlier versions of ASP.NET, <xref:System.Web.HttpRequest> properties have the following values:</span></span><br><br><span data-ttu-id="812d5-263">\* <xref:System.Web.HttpRequest.FilePath>: `/testapp/Action.mvc/SomeAction`</span><span class="sxs-lookup"><span data-stu-id="812d5-263">\* <xref:System.Web.HttpRequest.FilePath>: `/testapp/Action.mvc/SomeAction`</span></span><br><span data-ttu-id="812d5-264">\* <xref:System.Web.HttpRequest.PathInfo>: (vacío)</span><span class="sxs-lookup"><span data-stu-id="812d5-264">\* <xref:System.Web.HttpRequest.PathInfo>: (empty)</span></span><br><br><span data-ttu-id="812d5-265">En cambio, en ASP.NET 4, las propiedades <xref:System.Web.HttpRequest> tienen los siguientes valores:</span><span class="sxs-lookup"><span data-stu-id="812d5-265">In ASP.NET 4, <xref:System.Web.HttpRequest> properties instead have the following values:</span></span><br><br><span data-ttu-id="812d5-266">\* <xref:System.Web.HttpRequest.FilePath>: `/testapp/Action.mvc`</span><span class="sxs-lookup"><span data-stu-id="812d5-266">\* <xref:System.Web.HttpRequest.FilePath>: `/testapp/Action.mvc`</span></span><br><span data-ttu-id="812d5-267">\* <xref:System.Web.HttpRequest.PathInfo>: `SomeAction`</span><span class="sxs-lookup"><span data-stu-id="812d5-267">\* <xref:System.Web.HttpRequest.PathInfo>: `SomeAction`</span></span> | <span data-ttu-id="812d5-268">Busque en el código los lugares en los que las propiedades de la clase <xref:System.Web.HttpRequest> deben devolver información de la ruta de acceso y cambie el código de modo que refleje los cambios en la manera en que se devuelve la información de la ruta de acceso.</span><span class="sxs-lookup"><span data-stu-id="812d5-268">Examine your code for places where you rely on properties of the <xref:System.Web.HttpRequest> class to return path information; change the code to reflect the changes in how path information is returned.</span></span> |
| <span data-ttu-id="812d5-269">**Validación de solicitudes**</span><span class="sxs-lookup"><span data-stu-id="812d5-269">**Request validation**</span></span> | <span data-ttu-id="812d5-270">Para mejorar la validación de solicitudes, la validación de solicitudes de ASP.NET se invoca antes en el ciclo de vida de la solicitud.</span><span class="sxs-lookup"><span data-stu-id="812d5-270">To improve request validation, the ASP.NET request validation is invoked earlier in the request life cycle.</span></span> <span data-ttu-id="812d5-271">Como resultado, la validación de solicitudes se ejecuta para las solicitudes que no son de archivos .aspx, como las llamadas al servicio web y los controladores personalizados.</span><span class="sxs-lookup"><span data-stu-id="812d5-271">As a result, request validation runs for requests that are not for .aspx files, such as for Web service calls and for custom handlers.</span></span> <span data-ttu-id="812d5-272">La validación de solicitudes también estará activa cuando se ejecuten módulos HTTP personalizados en la canalización de procesamiento de solicitudes.</span><span class="sxs-lookup"><span data-stu-id="812d5-272">Request validation will also be active when custom HTTP modules are running in the request processing pipeline.</span></span><br><br><span data-ttu-id="812d5-273">Como resultado de este cambio, las solicitudes de recursos que no sean archivos .aspx podrían producir errores de validación de solicitudes.</span><span class="sxs-lookup"><span data-stu-id="812d5-273">As a result of this change, requests for resources other than .aspx files might throw request validation errors.</span></span> <span data-ttu-id="812d5-274">El código personalizado que se ejecuta en la canalización de solicitud (por ejemplo, los módulos HTTP personalizados) también podría producir errores de validación de solicitudes.</span><span class="sxs-lookup"><span data-stu-id="812d5-274">Custom code that runs in the request pipeline (for example, custom HTTP modules) might also throw request validation errors.</span></span> | <span data-ttu-id="812d5-275">Si es necesario, puede revertir al comportamiento anterior, en el que solo las páginas .aspx desencadenan la validación de solicitudes. Para ello, use el valor siguiente en el archivo de configuración web:</span><span class="sxs-lookup"><span data-stu-id="812d5-275">If necessary, you can revert to the old behavior of having only .aspx pages triggering request validation by using the following setting in the Web configuration file:</span></span><br><br>`<httpRuntime requestValidationMode="2.0" />`<br><br><span data-ttu-id="812d5-276">Advertencia: Si revierte al comportamiento anterior, asegúrese de que todo el código de los controladores, los módulos y el resto de código personalizado realice comprobaciones en busca de las entradas HTTP potencialmente no seguras que podrían ser vectores de ataque XSS.</span><span class="sxs-lookup"><span data-stu-id="812d5-276">Warning: If you revert to the old behavior, make sure that all code in existing handlers, modules, and other custom code performs checks for potentially unsafe HTTP inputs that could be XSS attack vectors.\`</span></span> |
| <span data-ttu-id="812d5-277">**Enrutamiento**</span><span class="sxs-lookup"><span data-stu-id="812d5-277">**Routing**</span></span> | <span data-ttu-id="812d5-278">Si crea un sitio web del sistema de archivos en Visual Studio 2010 y dicho sitio web se encuentra en una carpeta que contiene un punto (.) en el nombre de carpeta, el enrutamiento de direcciones URL no funcionará de forma confiable.</span><span class="sxs-lookup"><span data-stu-id="812d5-278">If you create a file system Web site in Visual Studio 2010 and the Web site is in a folder that contains a dot (.) in the folder name, URL routing will not work reliably.</span></span> <span data-ttu-id="812d5-279">Se devolverá un error HTTP 404 desde algunas rutas de acceso virtuales.</span><span class="sxs-lookup"><span data-stu-id="812d5-279">An HTTP 404 error is returned from some virtual paths.</span></span> <span data-ttu-id="812d5-280">Esto se debe a que Visual Studio 2010 inicia el Servidor de desarrollo de Visual Studio (Cassini) mediante una ruta de acceso incorrecta para el directorio virtual raíz.</span><span class="sxs-lookup"><span data-stu-id="812d5-280">This occurs because Visual Studio 2010 launches the Visual Studio Development Server (Cassini) using an incorrect path for the root virtual directory.</span></span> | <span data-ttu-id="812d5-281">\* En la página **Propiedades** del sitio web basado en archivos, cambie el atributo **Virtual Path** a "/".</span><span class="sxs-lookup"><span data-stu-id="812d5-281">\* In the **Properties** page for the file-based Web site, change the **Virtual Path** attribute to "/".</span></span><br><br><span data-ttu-id="812d5-282">O bien</span><span class="sxs-lookup"><span data-stu-id="812d5-282">-or-</span></span><br><br><span data-ttu-id="812d5-283">\* Cree un proyecto de aplicación web en lugar de un proyecto de sitio web.</span><span class="sxs-lookup"><span data-stu-id="812d5-283">\* Create a Web application project instead of a Web site project.</span></span> <span data-ttu-id="812d5-284">Los proyectos de aplicación web no tienen este problema, y el enrutamiento de direcciones URL funciona incluso si el nombre de la carpeta del proyecto tiene un punto.</span><span class="sxs-lookup"><span data-stu-id="812d5-284">Web application projects do not have this issue, and URL routing works even if the project folder has a dot in its name.</span></span><br><br><span data-ttu-id="812d5-285">O bien</span><span class="sxs-lookup"><span data-stu-id="812d5-285">-or-</span></span><br><br><span data-ttu-id="812d5-286">\* Cree un sitio web basado en HTTP que se hospede en IIS.</span><span class="sxs-lookup"><span data-stu-id="812d5-286">\* Create an HTTP-based Web site that is hosted in IIS.</span></span> <span data-ttu-id="812d5-287">Los sitios web hospedados en IIS pueden tener puntos en la ruta de acceso virtual, así como en la carpeta de archivos de proyecto.</span><span class="sxs-lookup"><span data-stu-id="812d5-287">IIS-hosted Web sites can have dots in the virtual path as well as in the project file folder.</span></span> |
| <span data-ttu-id="812d5-288">**Sitios de SharePoint**</span><span class="sxs-lookup"><span data-stu-id="812d5-288">**SharePoint sites**</span></span> | <span data-ttu-id="812d5-289">Si intenta ejecutar un sitio web de ASP.NET 4 que se implementa como un elemento secundario de un sitio web de SharePoint que contiene un nivel de confianza parcial personalizado denominado `WSS_Minimal`, verá el siguiente error:</span><span class="sxs-lookup"><span data-stu-id="812d5-289">If you try to run an ASP.NET 4 Web site that is deployed as a child of a SharePoint Web site that contains a custom partial-trust level named `WSS_Minimal`, you will see the following error:</span></span><br><br>`Could not find permission set named 'ASP.Net'.` | <span data-ttu-id="812d5-290">Actualmente, ninguna versión de SharePoint es compatible con ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="812d5-290">Currently, no versions of SharePoint are compatible with ASP.NET.</span></span> <span data-ttu-id="812d5-291">Como resultado, no debe intentar ejecutar un sitio web de ASP.NET 4 como un elemento secundario de un sitio web de SharePoint.</span><span class="sxs-lookup"><span data-stu-id="812d5-291">As a result, you should not attempt to run an ASP.NET 4 Web site as a child of a SharePoint Web site.</span></span> |
| <span data-ttu-id="812d5-292">**Estándares de XHTML 1.1**</span><span class="sxs-lookup"><span data-stu-id="812d5-292">**XHTML 1.1 standards**</span></span> | <span data-ttu-id="812d5-293">Para habilitar el cumplimiento de XHTML 1.1 en los nuevos sitios web, los controles de ASP.NET en .NET Framework 4 generarán código HTML compatible con XHTML 1.1.</span><span class="sxs-lookup"><span data-stu-id="812d5-293">To enable XHTML 1.1 compliance for new Web sites, the ASP.NET controls in the .NET Framework 4 will generate XHTML 1.1 compliant HTML.</span></span> <span data-ttu-id="812d5-294">Esta representación se habilita mediante la opción siguiente en el archivo Web.config dentro del elemento `<system.Web>`:</span><span class="sxs-lookup"><span data-stu-id="812d5-294">This rendering is enabled using the following option in the Web.config file inside the `<system.Web>` element:</span></span><br><br>`<pages controlRenderingCompatibilityVersion="4.0"/>`<br><br><span data-ttu-id="812d5-295">Esta opción está establecida de forma predeterminada en 4.0.</span><span class="sxs-lookup"><span data-stu-id="812d5-295">This option is set by default to 4.0.</span></span> <span data-ttu-id="812d5-296">Los proyectos web que se actualizan a Visual Studio desde Visual Studio 2008 tendrán habilitado el valor 3.5 para la compatibilidad.</span><span class="sxs-lookup"><span data-stu-id="812d5-296">Web projects that are upgraded to Visual Studio from Visual Studio 2008 will have the 3.5 setting enabled for compatibility.</span></span> | <span data-ttu-id="812d5-297">Ninguno.</span><span class="sxs-lookup"><span data-stu-id="812d5-297">None.</span></span> |

## <a name="core"></a><span data-ttu-id="812d5-298">Principal</span><span class="sxs-lookup"><span data-stu-id="812d5-298">Core</span></span>

### <a name="general-features"></a><span data-ttu-id="812d5-299">Características generales</span><span class="sxs-lookup"><span data-stu-id="812d5-299">General features</span></span>

| <span data-ttu-id="812d5-300">Característica</span><span class="sxs-lookup"><span data-stu-id="812d5-300">Feature</span></span> | <span data-ttu-id="812d5-301">Diferencias respecto a 3.5 SP1</span><span class="sxs-lookup"><span data-stu-id="812d5-301">Differences from 3.5 SP1</span></span> | <span data-ttu-id="812d5-302">Cambios recomendados</span><span class="sxs-lookup"><span data-stu-id="812d5-302">Recommended changes</span></span> |
| ------- | ------------------------ | ------------------- |
| <span data-ttu-id="812d5-303">**CardSpace**</span><span class="sxs-lookup"><span data-stu-id="812d5-303">**CardSpace**</span></span> | <span data-ttu-id="812d5-304">Ya no se incluye Windows CardSpace en .NET Framework, sino que se proporciona por separado.</span><span class="sxs-lookup"><span data-stu-id="812d5-304">Windows CardSpace is no longer included in the .NET Framework; it is provided separately.</span></span> | <span data-ttu-id="812d5-305">Descargue Windows CardSpace desde el [Centro de descarga de Microsoft](https://go.microsoft.com/fwlink/?LinkId=199868).</span><span class="sxs-lookup"><span data-stu-id="812d5-305">Download Windows CardSpace from the [Microsoft Download Center](https://go.microsoft.com/fwlink/?LinkId=199868).</span></span> |
| <span data-ttu-id="812d5-306">**Archivos de configuración**</span><span class="sxs-lookup"><span data-stu-id="812d5-306">**Configuration files**</span></span> | <span data-ttu-id="812d5-307">Se han efectuado correcciones en el modo en que .NET Framework obtiene acceso a los archivos de configuración de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="812d5-307">Corrections have been made in how the .NET Framework accesses application configuration files.</span></span> | <span data-ttu-id="812d5-308">Si su archivo de configuración de la aplicación se denomina *application-name.config*, cambie el nombre a *application-name.exe.config*. Por ejemplo, cambie el nombre de *MyApp.config* a *MyApp.exe.config*.</span><span class="sxs-lookup"><span data-stu-id="812d5-308">If your application configuration file is named *application-name.config*, rename it to *application-name.exe.config*. For example, rename *MyApp.config* to *MyApp.exe.config*.</span></span> |
| <span data-ttu-id="812d5-309">**Compilador de código de C#**</span><span class="sxs-lookup"><span data-stu-id="812d5-309">**C# code compiler**</span></span> | <span data-ttu-id="812d5-310">Las clases `Compiler`, `CompilerError` y `ErrorLevel` que se encontraban en el espacio de nombres <xref:Microsoft.CSharp> ya no están disponibles y su ensamblado (cscompmgd.dll) ya no se incluye en .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="812d5-310">The `Compiler`, `CompilerError`, and `ErrorLevel` classes that were in the <xref:Microsoft.CSharp> namespace are no longer available, and their assembly (cscompmgd.dll) is no longer included in the .NET Framework.</span></span> | <span data-ttu-id="812d5-311">Use la clase <xref:System.CodeDom.Compiler.CodeDomProvider> y otras clases en el espacio de nombres <xref:System.CodeDom.Compiler>.</span><span class="sxs-lookup"><span data-stu-id="812d5-311">Use the <xref:System.CodeDom.Compiler.CodeDomProvider> class and other classes in the <xref:System.CodeDom.Compiler> namespace.</span></span> <span data-ttu-id="812d5-312">Para obtener más información, vea [Usar CodeDOM](https://msdn.microsoft.com/library/y2k85ax6(v=vs.100).aspx).</span><span class="sxs-lookup"><span data-stu-id="812d5-312">For more information, see [Using the CodeDOM](https://msdn.microsoft.com/library/y2k85ax6(v=vs.100).aspx).</span></span> |
| <span data-ttu-id="812d5-313">**Hospedaje** (API no administrada)</span><span class="sxs-lookup"><span data-stu-id="812d5-313">**Hosting** (unmanaged API)</span></span> | <span data-ttu-id="812d5-314">Para mejorar las capacidades de hospedaje, algunas de las API de activación de hospedaje han quedado en desuso.</span><span class="sxs-lookup"><span data-stu-id="812d5-314">To improve hosting capabilities, some of the hosting activation APIs have been deprecated.</span></span> <span data-ttu-id="812d5-315">Las características de ejecución en paralelo en proceso permiten que una aplicación cargue e inicie varias versiones de .NET Framework en el mismo proceso.</span><span class="sxs-lookup"><span data-stu-id="812d5-315">In-process side-by-side execution features enable an application to load and start multiple versions of the .NET Framework in the same process.</span></span> <span data-ttu-id="812d5-316">Por ejemplo, puede ejecutar aplicaciones que carguen complementos (o componentes) basados en .NET Framework 2.0 SP1 y complementos basados en .NET Framework 4 en el mismo proceso.</span><span class="sxs-lookup"><span data-stu-id="812d5-316">For example, you can run applications that load add-ins (or components) that are based on the .NET Framework 2.0 SP1 and add-ins that are based on the .NET Framework 4 in the same process.</span></span> <span data-ttu-id="812d5-317">Los componentes anteriores seguirán usando la versión anterior de .NET Framework y los componentes nuevos usarán la versión nueva de .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="812d5-317">Older components continue to use the older .NET Framework version, and new components use the new .NET Framework version.</span></span> | <span data-ttu-id="812d5-318">Use las configuraciones descritas en [Ejecución en paralelo y en proceso](/dotnet/framework/deployment/in-process-side-by-side-execution).</span><span class="sxs-lookup"><span data-stu-id="812d5-318">Use the configurations described in [In-Process Side-by-Side Execution](/dotnet/framework/deployment/in-process-side-by-side-execution).</span></span> |
| <span data-ttu-id="812d5-319">**Nuevo modelo de seguridad**</span><span class="sxs-lookup"><span data-stu-id="812d5-319">**New security model**</span></span> | <span data-ttu-id="812d5-320">La directiva de seguridad de acceso del código (CAS) se ha desactivado y se ha reemplazado por un modelo simplificado, como se describe en [Cambios de seguridad en .NET Framework 4](https://msdn.microsoft.com/library/dd233103(v=vs.100).aspx).</span><span class="sxs-lookup"><span data-stu-id="812d5-320">The code access security (CAS) policy has been turned off and replaced with a simplified model, as described in [Security Changes in the .NET Framework 4](https://msdn.microsoft.com/library/dd233103(v=vs.100).aspx).</span></span> | <span data-ttu-id="812d5-321">Puede que deba realizar modificaciones si depende de CAS en sus aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="812d5-321">Modifications may be required if you depend on CAS in your applications.</span></span> <span data-ttu-id="812d5-322">Para obtener más información, vea [Compatibilidad con la directiva de seguridad de acceso del código y migración](/dotnet/framework/misc/code-access-security-policy-compatibility-and-migration).</span><span class="sxs-lookup"><span data-stu-id="812d5-322">For more information, see [Code Access Security Policy Compatibility and Migration](/dotnet/framework/misc/code-access-security-policy-compatibility-and-migration).</span></span> |

### <a name="date-and-time"></a><span data-ttu-id="812d5-323">Fecha y hora</span><span class="sxs-lookup"><span data-stu-id="812d5-323">Date and time</span></span>

<span data-ttu-id="812d5-324">Espacio de nombres: <xref:System>; ensamblado: mscorlib (en mscorlib.dll)</span><span class="sxs-lookup"><span data-stu-id="812d5-324">Namespace: <xref:System>; assembly: mscorlib (in mscorlib.dll)</span></span>

| <span data-ttu-id="812d5-325">Característica</span><span class="sxs-lookup"><span data-stu-id="812d5-325">Feature</span></span> | <span data-ttu-id="812d5-326">Diferencias respecto a 3.5 SP1</span><span class="sxs-lookup"><span data-stu-id="812d5-326">Differences from 3.5 SP1</span></span> | <span data-ttu-id="812d5-327">Cambios recomendados</span><span class="sxs-lookup"><span data-stu-id="812d5-327">Recommended changes</span></span> |
| ------- | ------------------------ | ------------------- |
| <span data-ttu-id="812d5-328">**Horario de verano**</span><span class="sxs-lookup"><span data-stu-id="812d5-328">**Daylight savings**</span></span> | <span data-ttu-id="812d5-329">Para ser coherentes con el reloj del sistema, las propiedades de tiempo (como <xref:System.TimeZoneInfo.Local> y <xref:System.DateTime.Now>) ahora usan las reglas del sistema operativo, en lugar de otros datos de .NET Framework, para las operaciones de horario de verano.</span><span class="sxs-lookup"><span data-stu-id="812d5-329">To be consistent with the system clock, time properties (such as <xref:System.TimeZoneInfo.Local> and <xref:System.DateTime.Now>) now use operating system rules instead of other .NET Framework data for daylight saving time operations.</span></span> | <span data-ttu-id="812d5-330">Ninguno.</span><span class="sxs-lookup"><span data-stu-id="812d5-330">None.</span></span> |
| <span data-ttu-id="812d5-331">**Aplicar formato a cadenas**</span><span class="sxs-lookup"><span data-stu-id="812d5-331">**Formatting strings**</span></span> | <span data-ttu-id="812d5-332">Para admitir el formato que tiene en cuenta la referencia cultural, la estructura <xref:System.TimeSpan> incluye nuevas sobrecargas de los métodos `ToString`, `Parse` y `TryParse`, además de los nuevos métodos `ParseExact` y `TryParseExact`.</span><span class="sxs-lookup"><span data-stu-id="812d5-332">To support culture-sensitive formatting, the <xref:System.TimeSpan> structure includes new overloads of the `ToString`, `Parse`, and `TryParse` methods in addition to new `ParseExact` and `TryParseExact` methods.</span></span> | <span data-ttu-id="812d5-333">Ninguno.</span><span class="sxs-lookup"><span data-stu-id="812d5-333">None.</span></span> |


### <a name="globalization"></a><span data-ttu-id="812d5-334">Globalización</span><span class="sxs-lookup"><span data-stu-id="812d5-334">Globalization</span></span>

<span data-ttu-id="812d5-335">Para obtener una lista de las nuevas referencias culturales neutras y específicas, vea [Novedades de la globalización y localización](https://msdn.microsoft.com/library/dd997383(v=vs.100).aspx).</span><span class="sxs-lookup"><span data-stu-id="812d5-335">For a list of new neutral and specific cultures, see [What's New in Globalization and Localization](https://msdn.microsoft.com/library/dd997383(v=vs.100).aspx).</span></span>

<span data-ttu-id="812d5-336">Espacio de nombres: <xref:System.Globalization>; ensamblado: mscorlib (en mscorlib.dll)</span><span class="sxs-lookup"><span data-stu-id="812d5-336">Namespace: <xref:System.Globalization>; assembly: mscorlib (in mscorlib.dll)</span></span>

| <span data-ttu-id="812d5-337">Característica</span><span class="sxs-lookup"><span data-stu-id="812d5-337">Feature</span></span> | <span data-ttu-id="812d5-338">Diferencias respecto a 3.5 SP1</span><span class="sxs-lookup"><span data-stu-id="812d5-338">Differences from 3.5 SP1</span></span> | <span data-ttu-id="812d5-339">Cambios recomendados</span><span class="sxs-lookup"><span data-stu-id="812d5-339">Recommended changes</span></span> |
| ------- | ------------------------ | ------------------- |
| <span data-ttu-id="812d5-340">**Nombres de referencias culturales**</span><span class="sxs-lookup"><span data-stu-id="812d5-340">**Culture names**</span></span> | <span data-ttu-id="812d5-341">Los cambios de nombre siguientes afectan a las referencias culturales de alemán, divehi y afrikáans:</span><span class="sxs-lookup"><span data-stu-id="812d5-341">The following name changes affect the German, Divehi, and African cultures:</span></span><br><br><span data-ttu-id="812d5-342">\* <xref:System.Globalization.CultureAndRegionInfoBuilder.CurrencyEnglishName>: el nombre de la moneda de la referencia cultural de alemán (Suiza) (de-CH) ha cambiado de "SFr."</span><span class="sxs-lookup"><span data-stu-id="812d5-342">\* <xref:System.Globalization.CultureAndRegionInfoBuilder.CurrencyEnglishName>: The currency name for the German (Switizerland) (de-CH) culture has changed from "sFr."</span></span> <span data-ttu-id="812d5-343">a "Fr.".</span><span class="sxs-lookup"><span data-stu-id="812d5-343">to "Fr.".</span></span><br><span data-ttu-id="812d5-344">\* <xref:System.Globalization.DateTimeFormatInfo.LongDatePattern>: el patrón de fecha larga de la referencia cultural de divehi (Maldivas) (dv-MV) ha cambiado de "dd/MMMM/aaaa" a "dd/MM/aaaa".</span><span class="sxs-lookup"><span data-stu-id="812d5-344">\* <xref:System.Globalization.DateTimeFormatInfo.LongDatePattern>: The long date pattern for the Divehi (Maldives) (dv-MV) culture has changed from "dd/MMMM/yyyy" to "dd/MM/yyyy".</span></span><br><span data-ttu-id="812d5-345">\* <xref:System.Globalization.DateTimeFormatInfo.PMDesignator>: el designador PM</span><span class="sxs-lookup"><span data-stu-id="812d5-345">\* <xref:System.Globalization.DateTimeFormatInfo.PMDesignator>: The P.M.</span></span> <span data-ttu-id="812d5-346">de la referencia cultural de afrikáans (Sudáfrica) (af-ZA) ha cambiado de "nm" a "PM".</span><span class="sxs-lookup"><span data-stu-id="812d5-346">designator of the Afrikaans (South Africa) (af-ZA) culture has changed from "nm" to "PM".</span></span> | <span data-ttu-id="812d5-347">Tenga en cuenta los cambios en los nombres de las referencias culturales.</span><span class="sxs-lookup"><span data-stu-id="812d5-347">Note culture name changes.</span></span> |
| <span data-ttu-id="812d5-348">**Parámetro LCID**</span><span class="sxs-lookup"><span data-stu-id="812d5-348">**LCID parameter**</span></span> | <span data-ttu-id="812d5-349">Para ser coherente con el comportamiento esperado en la configuración del servidor de automatización, CLR ya no pasa la referencia cultural actual para el parámetro `LCID` a las aplicaciones basadas en COM no administradas.</span><span class="sxs-lookup"><span data-stu-id="812d5-349">To be consistent with expected behavior in automation server settings, the CLR no longer passes the current culture for the `LCID` parameter to unmanaged COM-based applications.</span></span> <span data-ttu-id="812d5-350">En su lugar, pasa 1033 (en-us) para la referencia cultural.</span><span class="sxs-lookup"><span data-stu-id="812d5-350">Instead, it passes 1033 (en-us) for the culture.</span></span> | <span data-ttu-id="812d5-351">No es necesaria ninguna modificación, excepto para las aplicaciones nativas que requieren una referencia cultural específica.</span><span class="sxs-lookup"><span data-stu-id="812d5-351">No modifications necessary except for native applications that require a specified culture.</span></span> |
| <span data-ttu-id="812d5-352">**Tipos de referencia cultural obsoletos**</span><span class="sxs-lookup"><span data-stu-id="812d5-352">**Obsolete culture types**</span></span> | <span data-ttu-id="812d5-353">Los tipos de referencia cultural <xref:System.Globalization.CultureTypes> y <xref:System.Globalization.CultureTypes> están obsoletos.</span><span class="sxs-lookup"><span data-stu-id="812d5-353">The <xref:System.Globalization.CultureTypes> and <xref:System.Globalization.CultureTypes> culture types are now obsolete.</span></span><br><br><span data-ttu-id="812d5-354">Para garantizar la compatibilidad con versiones anteriores, <xref:System.Globalization.CultureTypes> ahora devuelve las referencias culturales neutras y específicas incluidas en la versión anterior de .NET Framework, y <xref:System.Globalization.CultureTypes> ahora devuelve una lista vacía.</span><span class="sxs-lookup"><span data-stu-id="812d5-354">For backward compatibility, <xref:System.Globalization.CultureTypes> now returns neutral and specific cultures that were included with the previous .NET Framework, and <xref:System.Globalization.CultureTypes> now returns an empty list.</span></span> | <span data-ttu-id="812d5-355">Use otros valores de la enumeración <xref:System.Globalization.CultureTypes>.</span><span class="sxs-lookup"><span data-stu-id="812d5-355">Use other values of the <xref:System.Globalization.CultureTypes> enumeration.</span></span> |
| <span data-ttu-id="812d5-356">**Recuperar la referencia cultural**</span><span class="sxs-lookup"><span data-stu-id="812d5-356">**Retrieving culture**</span></span> | <span data-ttu-id="812d5-357">A partir de Windows 7, .NET Framework 4 recupera la información de referencia cultural del sistema operativo, en lugar de almacenar los datos.</span><span class="sxs-lookup"><span data-stu-id="812d5-357">Beginning with Windows 7, the .NET Framework 4 retrieves culture information from the operating system instead of storing the data itself.</span></span> <span data-ttu-id="812d5-358">Además, .NET Framework se sincroniza con Windows para ordenar los datos y aplicarles mayúsculas y minúsculas.</span><span class="sxs-lookup"><span data-stu-id="812d5-358">In addition, the .NET Framework synchronizes with Windows for sorting and casing data.</span></span> | <span data-ttu-id="812d5-359">Ninguno.</span><span class="sxs-lookup"><span data-stu-id="812d5-359">None.</span></span> |
| <span data-ttu-id="812d5-360">**Estándares de Unicode 5.1**</span><span class="sxs-lookup"><span data-stu-id="812d5-360">**Unicode 5.1 standards**</span></span> | <span data-ttu-id="812d5-361">Ahora, .NET Framework admite todos los caracteres de Unicode 5.1, lo que supone aproximadamente 1400 caracteres más.</span><span class="sxs-lookup"><span data-stu-id="812d5-361">The .NET Framework now supports all Unicode 5.1 characters -- an addition of approximately 1400 characters.</span></span> <span data-ttu-id="812d5-362">Entre los caracteres adicionales se incluyen nuevos símbolos, flechas, marcas diacríticas, puntuación, símbolos matemáticos, ideogramas y trazos de CJK, caracteres numéricos adicionales de malayalam y telugu, y varios caracteres de birmano, latino, árabe, griego, mongol y cirílico.</span><span class="sxs-lookup"><span data-stu-id="812d5-362">The additional characters include new symbols, arrows, diacritics, punctuation, mathematical symbols, CJK strokes and ideographs, additional Malayalam and Telugu numeric characters, and various Myanmar, Latin, Arabic, Greek, Mongolian, and Cyrillic characters.</span></span> <span data-ttu-id="812d5-363">Los siguientes nuevos scripts son compatibles con Unicode 5.1: caracteres de sundanés, lepcha, ol chiki, vai, saurashtra, kayah li, rejang, gurmukhi, odia, tamil, telugu, malayalam y cham.</span><span class="sxs-lookup"><span data-stu-id="812d5-363">The following new scripts are supported with Unicode 5.1: Sundanese, Lepcha, Ol Chiki, Vai, Saurashtra, Kayah Li, Rejang, Gurmukhi, Odia, Tamil, Telugu, and Malayalam characters and Cham.</span></span> | <span data-ttu-id="812d5-364">Ninguno.</span><span class="sxs-lookup"><span data-stu-id="812d5-364">None.</span></span> |

### <a name="exceptions"></a><span data-ttu-id="812d5-365">Excepciones</span><span class="sxs-lookup"><span data-stu-id="812d5-365">Exceptions</span></span>

<span data-ttu-id="812d5-366">Espacios de nombres: <xref:System>, <xref:System.Runtime.ExceptionServices>; ensamblado: mscorlib (en mscorlib.dll)</span><span class="sxs-lookup"><span data-stu-id="812d5-366">Namespaces: <xref:System>, <xref:System.Runtime.ExceptionServices>; assembly: mscorlib (in mscorlib.dll)</span></span>

| <span data-ttu-id="812d5-367">Característica</span><span class="sxs-lookup"><span data-stu-id="812d5-367">Feature</span></span> | <span data-ttu-id="812d5-368">Diferencias respecto a 3.5 SP1</span><span class="sxs-lookup"><span data-stu-id="812d5-368">Differences from 3.5 SP1</span></span> | <span data-ttu-id="812d5-369">Cambios recomendados</span><span class="sxs-lookup"><span data-stu-id="812d5-369">Recommended changes</span></span> |
| ------- | ------------------------ | ------------------- |
| <span data-ttu-id="812d5-370">**Excepciones para el estado de proceso dañado**</span><span class="sxs-lookup"><span data-stu-id="812d5-370">**Exceptions for corrupted process state**</span></span> | <span data-ttu-id="812d5-371">CLR ya no entrega excepciones para el estado de proceso dañado a controladores de excepciones en código administrado.</span><span class="sxs-lookup"><span data-stu-id="812d5-371">The CLR no longer delivers exceptions for corrupted process state to exception handlers in managed code.</span></span> | <span data-ttu-id="812d5-372">Estas excepciones indican que el estado de un proceso está dañado.</span><span class="sxs-lookup"><span data-stu-id="812d5-372">These exceptions indicate that the state of a process has been corrupted.</span></span> <span data-ttu-id="812d5-373">No se recomienda ejecutar la aplicación en este estado.</span><span class="sxs-lookup"><span data-stu-id="812d5-373">We do not recommend that you run your application in this state.</span></span><br><br><span data-ttu-id="812d5-374">Para obtener más información, vea <xref:System.Runtime.ExceptionServices.HandleProcessCorruptedStateExceptionsAttribute> y la entrada [Handling Corrupted State Exceptions](https://go.microsoft.com/fwlink/?LinkID=179681) (Controlar excepciones de estado dañado) en el blog Todo sobre CLR.</span><span class="sxs-lookup"><span data-stu-id="812d5-374">For more information, see the <xref:System.Runtime.ExceptionServices.HandleProcessCorruptedStateExceptionsAttribute> and the entry [Handling Corrupted State Exceptions](https://go.microsoft.com/fwlink/?LinkID=179681) in the CLR Inside Out blog.</span></span> |
| <span data-ttu-id="812d5-375">**Excepciones del motor de ejecución**</span><span class="sxs-lookup"><span data-stu-id="812d5-375">**Execution engine exceptions**</span></span> | <span data-ttu-id="812d5-376"><xref:System.ExecutionEngineException> está ahora obsoleto, ya que una excepción detectable permitirá que un proceso inestable siga ejecutándose.</span><span class="sxs-lookup"><span data-stu-id="812d5-376"><xref:System.ExecutionEngineException> is now obsolete, because a catchable exception will allow an unstable process to continue to run.</span></span> <span data-ttu-id="812d5-377">Este cambio mejora la previsibilidad y la confiabilidad en el tiempo de ejecución.</span><span class="sxs-lookup"><span data-stu-id="812d5-377">This change improves predictability and reliability in the runtime.</span></span> | <span data-ttu-id="812d5-378">Use <xref:System.InvalidOperationException> para indicar la condición.</span><span class="sxs-lookup"><span data-stu-id="812d5-378">Use an <xref:System.InvalidOperationException> to signal the condition.</span></span> |

### <a name="reflection"></a><span data-ttu-id="812d5-379">Reflexión</span><span class="sxs-lookup"><span data-stu-id="812d5-379">Reflection</span></span>

<span data-ttu-id="812d5-380">Espacio de nombres: <xref:System.Reflection>; ensamblado: mscorlib (en mscorlib.dll)</span><span class="sxs-lookup"><span data-stu-id="812d5-380">Namespace: <xref:System.Reflection>; assembly: mscorlib (in mscorlib.dll)</span></span>

| <span data-ttu-id="812d5-381">Característica</span><span class="sxs-lookup"><span data-stu-id="812d5-381">Feature</span></span> | <span data-ttu-id="812d5-382">Diferencias respecto a 3.5 SP1</span><span class="sxs-lookup"><span data-stu-id="812d5-382">Differences from 3.5 SP1</span></span> | <span data-ttu-id="812d5-383">Cambios recomendados</span><span class="sxs-lookup"><span data-stu-id="812d5-383">Recommended changes</span></span> |
| ------- | ------------------------ | ------------------- |
| <span data-ttu-id="812d5-384">**Algoritmos hash de ensamblado**</span><span class="sxs-lookup"><span data-stu-id="812d5-384">**Assembly hash algorithms**</span></span> | <span data-ttu-id="812d5-385">La propiedad <xref:System.Reflection.AssemblyName.HashAlgorithm> ahora devuelve <xref:System.Configuration.Assemblies.AssemblyHashAlgorithm>, ya que el tiempo de ejecución no conoce el algoritmo hash del ensamblado al que se hace referencia cuando no carga el ensamblado.</span><span class="sxs-lookup"><span data-stu-id="812d5-385">The <xref:System.Reflection.AssemblyName.HashAlgorithm> property now returns <xref:System.Configuration.Assemblies.AssemblyHashAlgorithm>, because the runtime does not know the hash algorithm of the referenced assembly when the assembly is not loaded.</span></span> <span data-ttu-id="812d5-386">(Esto se refiere al uso de la propiedad en un ensamblado de referencia como el devuelto por el método <xref:System.Reflection.Assembly.GetReferencedAssemblies%2A>).</span><span class="sxs-lookup"><span data-stu-id="812d5-386">(This refers to using the property on a referenced assembly such as that returned by the <xref:System.Reflection.Assembly.GetReferencedAssemblies%2A> method.)</span></span> | <span data-ttu-id="812d5-387">Ninguno.</span><span class="sxs-lookup"><span data-stu-id="812d5-387">None.</span></span> |
| <span data-ttu-id="812d5-388">**Carga de ensamblados**</span><span class="sxs-lookup"><span data-stu-id="812d5-388">**Assembly loading**</span></span> | <span data-ttu-id="812d5-389">Para evitar la carga redundante de ensamblados y ahorrar espacio de direcciones virtuales, CLR ahora carga los ensamblados únicamente mediante la función `MapViewOfFile` de Win32.</span><span class="sxs-lookup"><span data-stu-id="812d5-389">To prevent redundant loading of assemblies and to save virtual address space, the CLR now loads assemblies by using only the Win32 `MapViewOfFile` function.</span></span> <span data-ttu-id="812d5-390">Ya no llama también a la función `LoadLibrary`.</span><span class="sxs-lookup"><span data-stu-id="812d5-390">It no longer also calls the `LoadLibrary` function.</span></span><br><br><span data-ttu-id="812d5-391">Este cambio afecta a las aplicaciones de diagnóstico de las maneras siguientes:</span><span class="sxs-lookup"><span data-stu-id="812d5-391">This change affects diagnostic applications in the following ways:</span></span><br><br><span data-ttu-id="812d5-392">\* <xref:System.Diagnostics.ProcessModuleCollection> ya no contendrá módulos de una biblioteca de clases (archivo .dll), que se obtienen de una llamada a `Process.GetCurrentProcess().Modules`.</span><span class="sxs-lookup"><span data-stu-id="812d5-392">\* A <xref:System.Diagnostics.ProcessModuleCollection> will no longer contain any modules from a class library (.dll file), as obtained from a call to `Process.GetCurrentProcess().Modules`.</span></span><br><span data-ttu-id="812d5-393">\* Las aplicaciones de Win32 que usan la función `EnumProcessModules` no podrán visualizar una enumeración de todos los módulos administrados.</span><span class="sxs-lookup"><span data-stu-id="812d5-393">\* Win32 applications that use the `EnumProcessModules` function will not see all managed modules listed.</span></span> | <span data-ttu-id="812d5-394">Ninguno.</span><span class="sxs-lookup"><span data-stu-id="812d5-394">None.</span></span> |
| <span data-ttu-id="812d5-395">**Tipo declarativo**</span><span class="sxs-lookup"><span data-stu-id="812d5-395">**Declaring type**</span></span> | <span data-ttu-id="812d5-396">La propiedad <xref:System.Type.DeclaringType> ahora devuelve null correctamente cuando el tipo no tiene un tipo declarativo.</span><span class="sxs-lookup"><span data-stu-id="812d5-396">The <xref:System.Type.DeclaringType> property now correctly returns null when the type does not have a declaring type.</span></span> | <span data-ttu-id="812d5-397">Ninguno.</span><span class="sxs-lookup"><span data-stu-id="812d5-397">None.</span></span> |
| <span data-ttu-id="812d5-398">**Delegados**</span><span class="sxs-lookup"><span data-stu-id="812d5-398">**Delegates**</span></span> | <span data-ttu-id="812d5-399">Un delegado ahora produce una <xref:System.ArgumentNullException> en lugar de una <xref:System.NullReferenceException> cuando se pasa un valor null al constructor del delegado.</span><span class="sxs-lookup"><span data-stu-id="812d5-399">A delegate now throws an <xref:System.ArgumentNullException> instead of a <xref:System.NullReferenceException> when a null value is passed to the delegate's constructor.</span></span> | <span data-ttu-id="812d5-400">Asegúrese de que el control de excepciones capture <xref:System.ArgumentNullException>.</span><span class="sxs-lookup"><span data-stu-id="812d5-400">Ensure that any exception handling catches <xref:System.ArgumentNullException>.</span></span> |
| <span data-ttu-id="812d5-401">**Cambio en la ubicación de la caché global de ensamblados**</span><span class="sxs-lookup"><span data-stu-id="812d5-401">**Global assembly cache location change**</span></span> | <span data-ttu-id="812d5-402">En el caso de los ensamblados de .NET Framework 4, la caché global de ensamblados se ha movido del directorio de Windows (%WINDIR%) al subdirectorio de Microsoft.Net (*%WINDIR%\\Microsoft.Net*).</span><span class="sxs-lookup"><span data-stu-id="812d5-402">For .NET Framework 4 assemblies, the global assembly cache has been moved from the Windows directory (%WINDIR%) to the Microsoft.Net subdirectory (*%WINDIR%\\Microsoft.Net*).</span></span> <span data-ttu-id="812d5-403">Los ensamblados de las versiones anteriores permanecen en el directorio anterior.</span><span class="sxs-lookup"><span data-stu-id="812d5-403">Assemblies from earlier versions remain in the older directory.</span></span><br><br><span data-ttu-id="812d5-404">La enumeración [ASM_CACHE_FLAGS](../unmanaged-api/fusion/asm-cache-flags-enumeration.md) no administrada contiene la nueva marca `ASM_CACHE_ROOT_EX`.</span><span class="sxs-lookup"><span data-stu-id="812d5-404">The unmanaged [ASM_CACHE_FLAGS](../unmanaged-api/fusion/asm-cache-flags-enumeration.md) enumeration contains the new `ASM_CACHE_ROOT_EX` flag.</span></span> <span data-ttu-id="812d5-405">Esta marca obtiene la ubicación de la caché de los ensamblados de .NET Framework 4, que puede obtenerse mediante la función [GetCachePath](../unmanaged-api/fusion/getcachepath-function.md).</span><span class="sxs-lookup"><span data-stu-id="812d5-405">This flag gets the cache location for .NET Framework 4 assemblies, which can be obtained by the [GetCachePath](../unmanaged-api/fusion/getcachepath-function.md) function.</span></span> | <span data-ttu-id="812d5-406">Ninguno, siempre y cuando las aplicaciones no usen rutas de acceso explícitas a los ensamblados, lo que no se recomienda.</span><span class="sxs-lookup"><span data-stu-id="812d5-406">None, assuming that applications do not use explicit paths to assemblies, which is not a recommended practice.</span></span> |
| <span data-ttu-id="812d5-407">**Herramienta Caché global de ensamblados**</span><span class="sxs-lookup"><span data-stu-id="812d5-407">**Global assembly cache tool**</span></span> | <span data-ttu-id="812d5-408">La [herramienta Caché global de ensamblados (Gacutil.exe)](https://msdn.microsoft.com/library/ex0ss12c(v=vs.100).aspx) ya no es compatible con el visor de complementos de shell.</span><span class="sxs-lookup"><span data-stu-id="812d5-408">The [Gacutil.exe (Global Assembly Cache Tool)](https://msdn.microsoft.com/library/ex0ss12c(v=vs.100).aspx) no longer supports the shell plugin viewer.</span></span> | <span data-ttu-id="812d5-409">Ninguno.</span><span class="sxs-lookup"><span data-stu-id="812d5-409">None.</span></span> |

### <a name="interoperability"></a><span data-ttu-id="812d5-410">Interoperabilidad</span><span class="sxs-lookup"><span data-stu-id="812d5-410">Interoperability</span></span>

<span data-ttu-id="812d5-411">Espacio de nombres: <xref:System.Runtime.InteropServices>; ensamblado: mscorlib (en mscorlib.dll)</span><span class="sxs-lookup"><span data-stu-id="812d5-411">Namespace: <xref:System.Runtime.InteropServices>; assembly: mscorlib (in mscorlib.dll)</span></span>

| <span data-ttu-id="812d5-412">Característica</span><span class="sxs-lookup"><span data-stu-id="812d5-412">Feature</span></span> | <span data-ttu-id="812d5-413">Diferencias respecto a 3.5 SP1</span><span class="sxs-lookup"><span data-stu-id="812d5-413">Differences from 3.5 SP1</span></span> | <span data-ttu-id="812d5-414">Cambios recomendados</span><span class="sxs-lookup"><span data-stu-id="812d5-414">Recommended changes</span></span> |
| ------- | ------------------------ | ------------------- |
| <span data-ttu-id="812d5-415">**Longitud del búfer** (API no administrada)</span><span class="sxs-lookup"><span data-stu-id="812d5-415">**Buffer length** (unmanaged API)</span></span> | <span data-ttu-id="812d5-416">Para ahorrar memoria, la funcionalidad del parámetro `pBufferLengthOffset` para el método [ICorProfilerInfo2::GetStringLayout](../unmanaged-api/profiling/icorprofilerinfo2-getstringlayout-method.md) ha cambiado para que coincida con el parámetro `pStringLengthOffset`.</span><span class="sxs-lookup"><span data-stu-id="812d5-416">To save memory, the functionality for the `pBufferLengthOffset` parameter for the [ICorProfilerInfo2::GetStringLayout](../unmanaged-api/profiling/icorprofilerinfo2-getstringlayout-method.md) method has been changed to match the `pStringLengthOffset` parameter.</span></span> <span data-ttu-id="812d5-417">Ambos parámetros ahora apuntan a la ubicación de desplazamiento de la longitud de la cadena.</span><span class="sxs-lookup"><span data-stu-id="812d5-417">Both parameters now point to the offset location of the string's length.</span></span> <span data-ttu-id="812d5-418">La longitud del búfer se ha quitado de la representación de la clase String.</span><span class="sxs-lookup"><span data-stu-id="812d5-418">Buffer length has been removed from the representation of the string class.</span></span> | <span data-ttu-id="812d5-419">Quite todas las dependencias de la longitud del búfer.</span><span class="sxs-lookup"><span data-stu-id="812d5-419">Remove any dependency on the buffer length.</span></span> |
| <span data-ttu-id="812d5-420">**Depuración JIT**</span><span class="sxs-lookup"><span data-stu-id="812d5-420">**JIT debugging**</span></span> | <span data-ttu-id="812d5-421">Para simplificar el registro de la depuración Just-In-Time (JIT), el depurador de .NET Framework ahora solo usa la clave del Registro AeDebug, que controla el comportamiento de la depuración JIT para el código nativo.</span><span class="sxs-lookup"><span data-stu-id="812d5-421">To simplify registration for just-in-time (JIT) debugging, the .NET Framework debugger now uses only the AeDebug registry key, which controls the JIT debugging behavior for native code.</span></span> <span data-ttu-id="812d5-422">Este cambio tiene como resultado lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="812d5-422">This change results in the following:</span></span><br><br><span data-ttu-id="812d5-423">\* Ya no se pueden registrar dos depuradores diferentes para el código administrado y nativo.</span><span class="sxs-lookup"><span data-stu-id="812d5-423">\* You can no longer register two different debuggers for managed and native code.</span></span><br><span data-ttu-id="812d5-424">\* Ya no se puede iniciar el depurador automáticamente para un proceso no interactivo, pero se le puede preguntar al usuario en caso de un proceso interactivo.</span><span class="sxs-lookup"><span data-stu-id="812d5-424">\* You can no longer start the debugger automatically for a non-interactive process, but you can prompt the user for an interactive process.</span></span><br><span data-ttu-id="812d5-425">\* Ya no se notificará cuando el depurador no se inicie o cuando no haya un depurador registrado que se debe iniciar.</span><span class="sxs-lookup"><span data-stu-id="812d5-425">\* You are no longer notified when the debugger fails to start, or when there is no registered debugger that should be started.</span></span><br><span data-ttu-id="812d5-426">\* Las directivas de inicio automático que dependen de la interactividad de la aplicación ya no se admiten.</span><span class="sxs-lookup"><span data-stu-id="812d5-426">\* Auto-launch policies that depend on the interactivity of the application are no longer supported.</span></span> | <span data-ttu-id="812d5-427">Ajuste las operaciones de depuración según sea necesario.</span><span class="sxs-lookup"><span data-stu-id="812d5-427">Adjust debugging operations as required.</span></span> |
| <span data-ttu-id="812d5-428">**Invocación de plataforma**</span><span class="sxs-lookup"><span data-stu-id="812d5-428">**Platform invoke**</span></span> | <span data-ttu-id="812d5-429">Ahora, para mejorar el rendimiento de la interoperabilidad con código no administrado, las convenciones de llamada incorrectas en una invocación de plataforma hacen que la aplicación no funcione correctamente.</span><span class="sxs-lookup"><span data-stu-id="812d5-429">To improve performance in interoperability with unmanaged code, incorrect calling conventions in a platform invoke now cause the application to fail.</span></span> <span data-ttu-id="812d5-430">En versiones anteriores, la capa de serialización resolvía estos errores hacia arriba en la pila.</span><span class="sxs-lookup"><span data-stu-id="812d5-430">In previous versions, the marshaling layer resolved these errors up the stack.</span></span> | <span data-ttu-id="812d5-431">Cuando depure las aplicaciones en Microsoft Visual Studio 2010, se le avisará de estos errores para que pueda corregirlos.</span><span class="sxs-lookup"><span data-stu-id="812d5-431">Debugging your applications in Microsoft Visual Studio 2010 will alert you to these errors so you can correct them.</span></span><br><br><span data-ttu-id="812d5-432">Si tiene archivos binarios que no se pueden actualizar, puede incluir el elemento [\<NetFx40_PInvokeStackResilience>](../configure-apps/file-schema/runtime/netfx40-pinvokestackresilience-element.md) en el archivo de configuración de la aplicación para permitir que los errores de llamada se resuelvan hacia arriba en la pila, como en las versiones anteriores.</span><span class="sxs-lookup"><span data-stu-id="812d5-432">If you have binaries that cannot be updated, you can include the [\<NetFx40_PInvokeStackResilience>](../configure-apps/file-schema/runtime/netfx40-pinvokestackresilience-element.md) element in your application's configuration file to enable calling errors to be resolved up the stack as in earlier versions.</span></span> <span data-ttu-id="812d5-433">Aun así, esto puede afectar al rendimiento de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="812d5-433">However, this may affect the performance of your application.</span></span> |
| <span data-ttu-id="812d5-434">**Interfaces eliminadas** (API no administrada)</span><span class="sxs-lookup"><span data-stu-id="812d5-434">**Removed interfaces** (unmanaged API)</span></span> | <span data-ttu-id="812d5-435">Para evitar confusiones a los desarrolladores, se han quitado las interfaces siguientes porque no proporcionaban escenarios útiles en tiempo de ejecución y CLR no proporcionaba o no aceptaba implementaciones:</span><span class="sxs-lookup"><span data-stu-id="812d5-435">To avoid developer confusion, the following interfaces were removed, because they did not provide any useful run-time scenarios, and the CLR did not provide or accept any implementations:</span></span><br><br><span data-ttu-id="812d5-436">\* **INativeImageINativeImageDependency**</span><span class="sxs-lookup"><span data-stu-id="812d5-436">\* **INativeImageINativeImageDependency**</span></span><br><span data-ttu-id="812d5-437">\* **INativeImageInstallInfo**</span><span class="sxs-lookup"><span data-stu-id="812d5-437">\* **INativeImageInstallInfo**</span></span><br><span data-ttu-id="812d5-438">\* **INativeImageEvaluate**</span><span class="sxs-lookup"><span data-stu-id="812d5-438">\* **INativeImageEvaluate**</span></span><br><span data-ttu-id="812d5-439">\* **INativeImageConverter**</span><span class="sxs-lookup"><span data-stu-id="812d5-439">\* **INativeImageConverter**</span></span><br><span data-ttu-id="812d5-440">\* **ICorModule**</span><span class="sxs-lookup"><span data-stu-id="812d5-440">\* **ICorModule**</span></span><br><span data-ttu-id="812d5-441">\* **IMetaDataConverter**</span><span class="sxs-lookup"><span data-stu-id="812d5-441">\* **IMetaDataConverter**</span></span> | <span data-ttu-id="812d5-442">Ninguno.</span><span class="sxs-lookup"><span data-stu-id="812d5-442">None.</span></span> |

## <a name="data"></a><span data-ttu-id="812d5-443">Datos</span><span class="sxs-lookup"><span data-stu-id="812d5-443">Data</span></span>

<span data-ttu-id="812d5-444">En esta sección se describen los problemas de migración al usar conjuntos de datos y los clientes SQL, Entity Framework, LINQ to SQL y Servicios de datos de WCF (antes conocido como ADO.NET Data Services).</span><span class="sxs-lookup"><span data-stu-id="812d5-444">This section describes migration issues for using data sets and SQL clients, the Entity Framework, LINQ to SQL, and WCF Data Servers (formerly known as ADO.NET Data Services).</span></span>

### <a name="dataset-and-sql-client"></a><span data-ttu-id="812d5-445">DataSet y el cliente SQL</span><span class="sxs-lookup"><span data-stu-id="812d5-445">DataSet and SQL Client</span></span>

<span data-ttu-id="812d5-446">En la tabla siguiente se describen las mejoras en las características que antes tenían limitaciones u otros problemas.</span><span class="sxs-lookup"><span data-stu-id="812d5-446">The following table describes improvements to features that previously had limitations or other issues.</span></span>

<span data-ttu-id="812d5-447">Espacios de nombres: <xref:System.Data>, <xref:System.Data.Objects.DataClasses>, <xref:System.Data.SqlClient>; ensamblados: System.Data (en System.Data.dll), System.Data.Entity (en System.Data.Entity.dll)</span><span class="sxs-lookup"><span data-stu-id="812d5-447">Namespaces: <xref:System.Data>, <xref:System.Data.Objects.DataClasses>, <xref:System.Data.SqlClient>; assemblies: System.Data (in System.Data.dll), System.Data.Entity (in System.Data.Entity.dll)</span></span>

| <span data-ttu-id="812d5-448">Característica</span><span class="sxs-lookup"><span data-stu-id="812d5-448">Feature</span></span> | <span data-ttu-id="812d5-449">Diferencias respecto a 3.5 SP1</span><span class="sxs-lookup"><span data-stu-id="812d5-449">Differences from 3.5 SP1</span></span> |
| ------- | ------------------------ |
| <span data-ttu-id="812d5-450">**Escenarios POCO**</span><span class="sxs-lookup"><span data-stu-id="812d5-450">**POCO Scenarios**</span></span> | <span data-ttu-id="812d5-451">La interfaz <xref:System.Data.Objects.DataClasses.IRelatedEnd> tiene nuevos métodos para mejorar su uso en escenarios POCO (objeto CLR estándar).</span><span class="sxs-lookup"><span data-stu-id="812d5-451">The <xref:System.Data.Objects.DataClasses.IRelatedEnd> interface has new methods to improve its usability in Plain Old CLR Object (POCO) scenarios.</span></span> <span data-ttu-id="812d5-452">Estos nuevos métodos toman como parámetro una entidad <xref:System.Object> en lugar de una entidad <xref:System.Data.Objects.DataClasses.IEntityWithRelationships>.</span><span class="sxs-lookup"><span data-stu-id="812d5-452">These new methods take an <xref:System.Object> instead of an <xref:System.Data.Objects.DataClasses.IEntityWithRelationships> entity as a parameter.</span></span> |
| <span data-ttu-id="812d5-453">**Edición de filas**</span><span class="sxs-lookup"><span data-stu-id="812d5-453">**Editing Rows**</span></span> | <span data-ttu-id="812d5-454">El método <xref:System.Collections.IList.IndexOf%2A>, tal como lo implementa la clase <xref:System.Data.DataView>, ahora devuelve correctamente el valor de una fila que se está editando, en lugar de devolver -1.</span><span class="sxs-lookup"><span data-stu-id="812d5-454">The <xref:System.Collections.IList.IndexOf%2A> method, as implemented by the <xref:System.Data.DataView> class, now correctly returns the value of a row that is being edited, instead of returning -1.</span></span> |
| <span data-ttu-id="812d5-455">**Eventos**</span><span class="sxs-lookup"><span data-stu-id="812d5-455">**Events**</span></span> | <span data-ttu-id="812d5-456">Ahora se genera el evento <xref:System.Data.DataRowView.PropertyChanged> cuando una fila se encuentra en un estado modificado y se llama al método <xref:System.Data.DataRow.RejectChanges%2A>.</span><span class="sxs-lookup"><span data-stu-id="812d5-456">The <xref:System.Data.DataRowView.PropertyChanged> event is now raised when a row is in a modified state and the <xref:System.Data.DataRow.RejectChanges%2A> method is called.</span></span> <span data-ttu-id="812d5-457">Este cambio hace más fácil crear controles de interfaz de usuario que exponen el contenido de un objeto <xref:System.Data.DataSet>.</span><span class="sxs-lookup"><span data-stu-id="812d5-457">This change makes it easier to create UI controls that expose the contents of a <xref:System.Data.DataSet> object.</span></span> |
| <span data-ttu-id="812d5-458">**Excepciones**</span><span class="sxs-lookup"><span data-stu-id="812d5-458">**Exceptions**</span></span> | <span data-ttu-id="812d5-459">El método <xref:System.Data.SqlClient.SqlCommand.Prepare%2A> ahora produce una <xref:System.InvalidOperationException> cuando una conexión no se establece o no se abre, en lugar de una <xref:System.NullReferenceException>.</span><span class="sxs-lookup"><span data-stu-id="812d5-459">The <xref:System.Data.SqlClient.SqlCommand.Prepare%2A> method now throws an <xref:System.InvalidOperationException> when a connection is not set or open instead of a <xref:System.NullReferenceException>.</span></span> |
| <span data-ttu-id="812d5-460">**Vistas de asignación**</span><span class="sxs-lookup"><span data-stu-id="812d5-460">**Mapping Views**</span></span> | <span data-ttu-id="812d5-461">Los errores de asignación de vistas de consulta ahora se detectan en tiempo de diseño, en lugar de producir una <xref:System.NullReferenceException> en tiempo de ejecución.</span><span class="sxs-lookup"><span data-stu-id="812d5-461">Query view mapping errors are now caught at design time instead of throwing a <xref:System.NullReferenceException> at run time.</span></span><br><br><span data-ttu-id="812d5-462">La validación de asignación ahora detecta el error que hace que se asignen dos conjuntos de asociaciones del esquema conceptual (CSDL) a la misma columna.</span><span class="sxs-lookup"><span data-stu-id="812d5-462">Mapping validation now catches the error in which two association sets in Conceptual Schema (CSDL) are mapped to the same column.</span></span> |
| <span data-ttu-id="812d5-463">**Transacciones**</span><span class="sxs-lookup"><span data-stu-id="812d5-463">**Transactions**</span></span> | <span data-ttu-id="812d5-464">Si una aplicación intenta ejecutar una instrucción en una conexión después de que se haya completado una transacción (incluido si se ha anulado o revertido), ahora se produce una <xref:System.InvalidOperationException>.</span><span class="sxs-lookup"><span data-stu-id="812d5-464">If an application tries to execute a statement on a connection after a transaction has been completed (including aborted or rolled back), an <xref:System.InvalidOperationException> is now thrown.</span></span> <span data-ttu-id="812d5-465">En las versiones anteriores no se producía una excepción y se podían ejecutar comandos adicionales, incluso en caso de que se anulase una transacción.</span><span class="sxs-lookup"><span data-stu-id="812d5-465">Previous versions did not throw an exception and let you execute additional commands even if a transaction was aborted.</span></span> |

### <a name="entity-framework"></a><span data-ttu-id="812d5-466">Entity Framework</span><span class="sxs-lookup"><span data-stu-id="812d5-466">Entity Framework</span></span>

<span data-ttu-id="812d5-467">En la tabla siguiente se describen las mejoras en las características que antes tenían limitaciones u otros problemas.</span><span class="sxs-lookup"><span data-stu-id="812d5-467">The following table describes improvements to features that previously had limitations or other issues.</span></span>

<span data-ttu-id="812d5-468">Espacios de nombres: <xref:System.Data>, <xref:System.Data.Objects>, <xref:System.Data.Objects.DataClasses>; ensamblado: System.Data.Entity (en System.Data.Entity.dll)</span><span class="sxs-lookup"><span data-stu-id="812d5-468">Namespaces: <xref:System.Data>, <xref:System.Data.Objects>, <xref:System.Data.Objects.DataClasses>; assembly: System.Data.Entity (in System.Data.Entity.dll)</span></span>

| <span data-ttu-id="812d5-469">Característica</span><span class="sxs-lookup"><span data-stu-id="812d5-469">Feature</span></span> | <span data-ttu-id="812d5-470">Diferencias respecto a 3.5 SP1</span><span class="sxs-lookup"><span data-stu-id="812d5-470">Differences from 3.5 SP1</span></span> |
| ------- | ------------------------ |
| <span data-ttu-id="812d5-471">**Objetos de entidad**</span><span class="sxs-lookup"><span data-stu-id="812d5-471">**Entity objects**</span></span> | <span data-ttu-id="812d5-472">Ahora hay paridad entre el método <xref:System.Data.Objects.ObjectContext.Detach%2A> y el estado del objeto de entidad cuando se llama al método <xref:System.Data.Objects.ObjectContext.SaveChanges%2A>.</span><span class="sxs-lookup"><span data-stu-id="812d5-472">There is now parity between the <xref:System.Data.Objects.ObjectContext.Detach%2A> method and the state of the entity object when the <xref:System.Data.Objects.ObjectContext.SaveChanges%2A> method is called.</span></span> <span data-ttu-id="812d5-473">Esta coherencia mejorada evita que se produzcan excepciones inesperadas.</span><span class="sxs-lookup"><span data-stu-id="812d5-473">This improved consistency prevents unexpected exceptions from being thrown.</span></span> |
| <span data-ttu-id="812d5-474">**Entity SQL**</span><span class="sxs-lookup"><span data-stu-id="812d5-474">**Entity SQL**</span></span> | <span data-ttu-id="812d5-475">Se han mejorado las reglas para las resoluciones de identificadores de Entity SQL.</span><span class="sxs-lookup"><span data-stu-id="812d5-475">Rules have been improved for identifier resolutions in Entity SQL.</span></span><br><br><span data-ttu-id="812d5-476">El analizador de Entity SQL ha mejorado la lógica para resolver identificadores con varias partes.</span><span class="sxs-lookup"><span data-stu-id="812d5-476">The Entity SQL parser has improved logic for resolving multipart identifiers.</span></span> |
| <span data-ttu-id="812d5-477">**Anotaciones estructurales**</span><span class="sxs-lookup"><span data-stu-id="812d5-477">**Structural annotations**</span></span> | <span data-ttu-id="812d5-478">Entity Framework ahora reconoce las anotaciones estructurales.</span><span class="sxs-lookup"><span data-stu-id="812d5-478">The Entity Framework now recognizes structural annotations.</span></span> |
| <span data-ttu-id="812d5-479">**Consultas**</span><span class="sxs-lookup"><span data-stu-id="812d5-479">**Queries**</span></span> | <span data-ttu-id="812d5-480">Se han realizado las siguientes mejoras en las consultas:</span><span class="sxs-lookup"><span data-stu-id="812d5-480">The following improvements were made in queries:</span></span><br><br><span data-ttu-id="812d5-481">\* Las consultas `GroupBy` que usan una clave NULL en una colección vacía no devolverán ninguna fila, independientemente de si hay selecciones adicionales en la consulta.</span><span class="sxs-lookup"><span data-stu-id="812d5-481">\* A `GroupBy` query using a null key over an empty collection will not return any rows, regardless if there are any additional selects in the query.</span></span><br><span data-ttu-id="812d5-482">\* El código SQL generado en consultas LINQ y Entity SQL ahora tratan los parámetros de cadena como valores no Unicode de forma predeterminada.</span><span class="sxs-lookup"><span data-stu-id="812d5-482">\* Generated SQL in LINQ and Entity-SQL queries now treat string parameters as non-Unicode values by default.</span></span> |

### <a name="linq-to-sql"></a><span data-ttu-id="812d5-483">LINQ to SQL</span><span class="sxs-lookup"><span data-stu-id="812d5-483">LINQ to SQL</span></span>

<span data-ttu-id="812d5-484">En la tabla siguiente se describen las mejoras en las características que antes tenían limitaciones u otros problemas.</span><span class="sxs-lookup"><span data-stu-id="812d5-484">The following table describes improvements to features that previously had limitations or other issues.</span></span>

<span data-ttu-id="812d5-485">Espacio de nombres: <xref:System.Data.Linq>; ensamblado: System.Data.Linq (en System.Data.Linq.dll)</span><span class="sxs-lookup"><span data-stu-id="812d5-485">Namespace: <xref:System.Data.Linq>; assembly: System.Data.Linq (in System.Data.Linq.dll)</span></span>

| <span data-ttu-id="812d5-486">Característica</span><span class="sxs-lookup"><span data-stu-id="812d5-486">Feature</span></span> | <span data-ttu-id="812d5-487">Diferencias respecto a 3.5 SP1</span><span class="sxs-lookup"><span data-stu-id="812d5-487">Differences from 3.5 SP1</span></span> |
| ------- | ------------------------ |
| <span data-ttu-id="812d5-488">**Eventos**</span><span class="sxs-lookup"><span data-stu-id="812d5-488">**Events**</span></span> | <span data-ttu-id="812d5-489">Una colección <xref:System.Data.Linq.EntitySet%601> ahora genera el evento <xref:System.Data.Linq.EntitySet%601.ListChanged> para agregar y suprimir operaciones si <xref:System.Data.Linq.EntitySet%601> no se ha cargado. También genera este evento cuando la colección está cargada.</span><span class="sxs-lookup"><span data-stu-id="812d5-489">A <xref:System.Data.Linq.EntitySet%601> collection now raises the <xref:System.Data.Linq.EntitySet%601.ListChanged> event for add and remove operations if the <xref:System.Data.Linq.EntitySet%601> is unloaded, in addition to raising the event when the collection is loaded.</span></span> |
| <span data-ttu-id="812d5-490">**Consultas**</span><span class="sxs-lookup"><span data-stu-id="812d5-490">**Queries**</span></span> | <span data-ttu-id="812d5-491">`Skip(0)` ya no se omite en las consultas de LINQ to SQL.</span><span class="sxs-lookup"><span data-stu-id="812d5-491">`Skip(0)` is no longer ignored in LINQ to SQL queries.</span></span> <span data-ttu-id="812d5-492">Como resultado, las consultas que tienen este método pueden comportarse de manera diferente.</span><span class="sxs-lookup"><span data-stu-id="812d5-492">As a result, queries that have this method might behave differently.</span></span> <span data-ttu-id="812d5-493">Por ejemplo, en algunos casos, se requiere una cláusula `OrderBy` con `Skip(0)`, y ahora la consulta producirá una excepción <xref:System.NotSupportedException> si la cláusula `OrderBy` no se ha incluido.</span><span class="sxs-lookup"><span data-stu-id="812d5-493">For example in some cases, an `OrderBy` clause is required with `Skip(0)`, and the query will now throw a <xref:System.NotSupportedException> exception if the `OrderBy` clause was not included.</span></span> |

### <a name="wcf-data-services"></a><span data-ttu-id="812d5-494">Servicios de datos de WCF</span><span class="sxs-lookup"><span data-stu-id="812d5-494">WCF Data Services</span></span>

<span data-ttu-id="812d5-495">En la tabla siguiente se describen las mejoras en las características que antes tenían limitaciones u otros problemas.</span><span class="sxs-lookup"><span data-stu-id="812d5-495">The following table describes improvements to features that previously had limitations or other issues.</span></span>

<span data-ttu-id="812d5-496">Espacios de nombres: <xref:System.Data.Services>, <xref:System.Data.Services.Client>, <xref:System.Data.Services.Common>, <xref:System.Data.Services.Providers>; ensamblados: System.Data.Services (en System.Data.Services.dll), System.Data.Services.Client (en System.Data.Services.Client.dll)</span><span class="sxs-lookup"><span data-stu-id="812d5-496">Namespaces: <xref:System.Data.Services>, <xref:System.Data.Services.Client>, <xref:System.Data.Services.Common>, <xref:System.Data.Services.Providers>; assemblies: System.Data.Services (in System.Data.Services.dll), System.Data.Services.Client (in System.Data.Services.Client.dll)</span></span>

| <span data-ttu-id="812d5-497">Característica</span><span class="sxs-lookup"><span data-stu-id="812d5-497">Feature</span></span> | <span data-ttu-id="812d5-498">Diferencias respecto a 3.5 SP1</span><span class="sxs-lookup"><span data-stu-id="812d5-498">Differences from 3.5 SP1</span></span> |
| ------- | ------------------------ |
| <span data-ttu-id="812d5-499">**Contenido binario por lotes**</span><span class="sxs-lookup"><span data-stu-id="812d5-499">**Batched Binary Content**</span></span> | <span data-ttu-id="812d5-500">Servicios de datos de WCF admite ahora contenido binario por lotes en las solicitudes y las respuestas.</span><span class="sxs-lookup"><span data-stu-id="812d5-500">WCF Data Services now supports batched binary content in requests and responses.</span></span> |
| <span data-ttu-id="812d5-501">**Interceptores de cambios**</span><span class="sxs-lookup"><span data-stu-id="812d5-501">**Change interceptors**</span></span> | <span data-ttu-id="812d5-502">Ahora se ejecutan interceptores de cambios para una solicitud de eliminación.</span><span class="sxs-lookup"><span data-stu-id="812d5-502">Change interceptors are now executed for a delete request.</span></span><br><br><span data-ttu-id="812d5-503">Un interceptor de cambios es un método que se ejecuta cada vez que el servidor recibe una solicitud para modificar una entidad del conjunto de entidades.</span><span class="sxs-lookup"><span data-stu-id="812d5-503">A change interceptor is a method that runs every time a request is received by the server to modify an entity in the entity set.</span></span> <span data-ttu-id="812d5-504">Se ejecuta antes de que se ejecute la solicitud entrante.</span><span class="sxs-lookup"><span data-stu-id="812d5-504">It runs before the incoming request is executed.</span></span> <span data-ttu-id="812d5-505">El interceptor de cambios proporciona acceso a la entidad que se va a cambiar y a la operación que se realiza en él.</span><span class="sxs-lookup"><span data-stu-id="812d5-505">The change interceptor provides access to the entity that is being changed and the operation that is being performed on it.</span></span> |
| <span data-ttu-id="812d5-506">**Excepciones**</span><span class="sxs-lookup"><span data-stu-id="812d5-506">**Exceptions**</span></span> | <span data-ttu-id="812d5-507">Las condiciones siguientes ahora producen excepciones más útiles, en lugar de una <xref:System.NullReferenceException>:</span><span class="sxs-lookup"><span data-stu-id="812d5-507">The following conditions now throw more useful exceptions instead of a <xref:System.NullReferenceException>:</span></span><br><br><span data-ttu-id="812d5-508">\* Una <xref:System.ServiceProcess.TimeoutException> cuando se agota el tiempo de espera de una llamada a un servicio de datos.</span><span class="sxs-lookup"><span data-stu-id="812d5-508">\* A <xref:System.ServiceProcess.TimeoutException> when a call to a data service times out.</span></span><br><span data-ttu-id="812d5-509">\* Una <xref:System.Data.Services.Client.DataServiceRequestException> cuando se realiza una solicitud incorrecta a un servicio de datos.</span><span class="sxs-lookup"><span data-stu-id="812d5-509">\* A <xref:System.Data.Services.Client.DataServiceRequestException> when a bad request is made to a data service.</span></span><br><br><span data-ttu-id="812d5-510">En las aplicaciones, debe cambiar el control de excepciones para que detecte las nuevas excepciones.</span><span class="sxs-lookup"><span data-stu-id="812d5-510">In your applications, you should change exception handling to catch the new exceptions.</span></span> |
| <span data-ttu-id="812d5-511">**Encabezados**</span><span class="sxs-lookup"><span data-stu-id="812d5-511">**Headers**</span></span> | <span data-ttu-id="812d5-512">Se han realizado las siguientes mejoras en los encabezados:</span><span class="sxs-lookup"><span data-stu-id="812d5-512">The following improvements were made to headers:</span></span><br><br><span data-ttu-id="812d5-513">\* Servicios de datos de WCF ahora rechaza correctamente los encabezados `eTag` que tengan un valor no especificado.</span><span class="sxs-lookup"><span data-stu-id="812d5-513">\* WCF Data Services now correctly rejects an `eTag` header that has an unspecified value.</span></span><br><span data-ttu-id="812d5-514">* Servicios de datos de WCF ahora devuelve un error y no ejecuta una solicitud de eliminación a un vínculo cuando hay un encabezado `if-*` en la solicitud.</span><span class="sxs-lookup"><span data-stu-id="812d5-514">* WCF Data Services now returns an error and does not execute the request for a delete request to a link when an `if-*` header is in the request.</span></span><br><span data-ttu-id="812d5-515">\* Servicios de datos de WCF ahora devuelve un error al cliente en el formato (Atom, JSON) que el cliente haya especificado en el encabezado Accept.</span><span class="sxs-lookup"><span data-stu-id="812d5-515">\* WCF Data Services now returns an error to the client in the format (Atom, JSON) that the client specified in the Accept header.</span></span> |
| <span data-ttu-id="812d5-516">**Lector JSON**</span><span class="sxs-lookup"><span data-stu-id="812d5-516">**JSON Reader**</span></span> | <span data-ttu-id="812d5-517">El lector de Notación de objetos JavaScript (JSON) ahora devuelve correctamente un error cuando lee el carácter de escape de barra diagonal inversa única ("\\") al procesar cargas de JSON enviadas a Servicios de datos de WCF.</span><span class="sxs-lookup"><span data-stu-id="812d5-517">The JavaScript Object Notation (JSON) reader now correctly returns an error when it reads the single backslash ("\\") escape character, when it processes JSON payloads sent to a WCF Data Service.</span></span> |
| <span data-ttu-id="812d5-518">**Combinaciones**</span><span class="sxs-lookup"><span data-stu-id="812d5-518">**Merges**</span></span> | <span data-ttu-id="812d5-519">Se han realizado las siguientes mejoras en la enumeración <xref:System.Data.Services.Client.MergeOption>:</span><span class="sxs-lookup"><span data-stu-id="812d5-519">The following improvements were made to the <xref:System.Data.Services.Client.MergeOption> enumeration:</span></span><br><br><span data-ttu-id="812d5-520">\* La opción de combinación <xref:System.Data.Services.Client.MergeOption> ya no modifica la entidad en el cliente como resultado de una respuesta subsiguiente de un servicio de datos.</span><span class="sxs-lookup"><span data-stu-id="812d5-520">\* The <xref:System.Data.Services.Client.MergeOption> merge option no longer modifies the entity on the client as a result of any subsequent response from a data service.</span></span><br><span data-ttu-id="812d5-521">\* La opción <xref:System.Data.Services.Client.MergeOption> ahora es coherente entre SQL dinámico y las actualizaciones basadas en procedimientos almacenados.</span><span class="sxs-lookup"><span data-stu-id="812d5-521">\* The <xref:System.Data.Services.Client.MergeOption> option is now consistent between dynamic SQL and stored procedure-based updates.</span></span> |
| <span data-ttu-id="812d5-522">**Solicitudes**</span><span class="sxs-lookup"><span data-stu-id="812d5-522">**Requests**</span></span> | <span data-ttu-id="812d5-523">La llamada al método <xref:System.Data.Services.DataService%601.OnStartProcessingRequest%2A> ahora se realiza antes de procesar una solicitud a los servicios de datos.</span><span class="sxs-lookup"><span data-stu-id="812d5-523">The <xref:System.Data.Services.DataService%601.OnStartProcessingRequest%2A> method is now called before a request to data services is processed.</span></span> <span data-ttu-id="812d5-524">Esto permite que la solicitud funcione correctamente para los servicios <xref:System.Data.Services.Providers.ServiceOperation>.</span><span class="sxs-lookup"><span data-stu-id="812d5-524">This enables the request to work correctly for <xref:System.Data.Services.Providers.ServiceOperation> services.</span></span> |
| <span data-ttu-id="812d5-525">**Secuencias**</span><span class="sxs-lookup"><span data-stu-id="812d5-525">**Streams**</span></span> | <span data-ttu-id="812d5-526">Servicios de datos de WCF ya no cierra la secuencia subyacente para las operaciones de lectura y escritura.</span><span class="sxs-lookup"><span data-stu-id="812d5-526">WCF Data Services no longer closes the underlying stream for read and write operations.</span></span> |
| <span data-ttu-id="812d5-527">**URI**</span><span class="sxs-lookup"><span data-stu-id="812d5-527">**URIs**</span></span> | <span data-ttu-id="812d5-528">Se han corregido las secuencias de escape de los URI del cliente de Servicios de datos de WCF.</span><span class="sxs-lookup"><span data-stu-id="812d5-528">The escaping of URIs by WCF Data Services client has been corrected.</span></span> |

## <a name="windows-communication-foundation-wcf"></a><span data-ttu-id="812d5-529">Windows Communication Foundation (WCF)</span><span class="sxs-lookup"><span data-stu-id="812d5-529">Windows Communication Foundation (WCF)</span></span>

<span data-ttu-id="812d5-530">En la tabla siguiente se describen las mejoras en las características que antes tenían limitaciones u otros problemas.</span><span class="sxs-lookup"><span data-stu-id="812d5-530">The following table describes improvements to features that previously had limitations or other issues.</span></span>

| <span data-ttu-id="812d5-531">Característica</span><span class="sxs-lookup"><span data-stu-id="812d5-531">Feature</span></span> | <span data-ttu-id="812d5-532">Diferencias respecto a 3.5 SP1</span><span class="sxs-lookup"><span data-stu-id="812d5-532">Differences from 3.5 SP1</span></span> |
| ------- | ------------------------ |
| <span data-ttu-id="812d5-533">**Archivos de configuración**</span><span class="sxs-lookup"><span data-stu-id="812d5-533">**Configuration files**</span></span> | <span data-ttu-id="812d5-534">Para habilitar la herencia de comportamientos mediante la jerarquía de archivos de configuración, WCF ahora permite combinar archivos de configuración.</span><span class="sxs-lookup"><span data-stu-id="812d5-534">To enable inheritance of behaviors through the configuration file hierarchy, WCF now supports merging across configuration files.</span></span><br><br><span data-ttu-id="812d5-535">El modelo de herencia de configuración se ha ampliado para permitir que los usuarios definan los comportamientos que se aplicarán a todos los servicios que se ejecutan en el equipo.</span><span class="sxs-lookup"><span data-stu-id="812d5-535">The configuration inheritance model is now expanded to let users define behaviors that will be applied to all the services that are running on the computer.</span></span><br><br><span data-ttu-id="812d5-536">Puede encontrar cambios de comportamiento si hay comportamientos con el mismo nombre en distintos niveles de la jerarquía.</span><span class="sxs-lookup"><span data-stu-id="812d5-536">You may encounter behavioral changes if there are behaviors with the same name at different levels of the hierarchy.</span></span> |
| <span data-ttu-id="812d5-537">**Hospedaje de servicios**</span><span class="sxs-lookup"><span data-stu-id="812d5-537">**Service hosting**</span></span> | <span data-ttu-id="812d5-538">Ya no se puede especificar el elemento de configuración `<serviceHostingEnvironment>` en el nivel de servicio mediante la adición del atributo `allowDefinition="MachineToApplication"` a la definición de elemento.</span><span class="sxs-lookup"><span data-stu-id="812d5-538">You can no longer specify the `<serviceHostingEnvironment>` configuration element at the service level by adding the attribute `allowDefinition="MachineToApplication"` to the element definition.</span></span><br><br><span data-ttu-id="812d5-539">La acción de especificar el elemento `<serviceHostingEnvironment>` en el nivel de servicio es técnicamente incorrecta y provoca un comportamiento incoherente.</span><span class="sxs-lookup"><span data-stu-id="812d5-539">Specifying the `<serviceHostingEnvironment>` element at the service level is technically incorrect and causes inconsistent behavior.</span></span> |

## <a name="windows-presentation-foundation-wpf"></a><span data-ttu-id="812d5-540">Windows Presentation Foundation (WPF)</span><span class="sxs-lookup"><span data-stu-id="812d5-540">Windows Presentation Foundation (WPF)</span></span>

### <a name="applications"></a><span data-ttu-id="812d5-541">Aplicaciones</span><span class="sxs-lookup"><span data-stu-id="812d5-541">Applications</span></span>

<span data-ttu-id="812d5-542">Espacios de nombres: <xref:System.Windows>, <xref:System.Windows.Controls>; ensamblado: PresentationFramework (en PresentationFramework.dll)</span><span class="sxs-lookup"><span data-stu-id="812d5-542">Namespaces: <xref:System.Windows>, <xref:System.Windows.Controls>; assembly: PresentationFramework (in PresentationFramework.dll)</span></span>

| <span data-ttu-id="812d5-543">Característica</span><span class="sxs-lookup"><span data-stu-id="812d5-543">Feature</span></span> | <span data-ttu-id="812d5-544">Diferencias respecto a 3.5 SP1</span><span class="sxs-lookup"><span data-stu-id="812d5-544">Differences from 3.5 SP1</span></span> | <span data-ttu-id="812d5-545">Cambios recomendados</span><span class="sxs-lookup"><span data-stu-id="812d5-545">Recommended changes</span></span> |
| ------- | ------------------------ | ------------------- |
| <span data-ttu-id="812d5-546">**Control de excepciones**</span><span class="sxs-lookup"><span data-stu-id="812d5-546">**Exception handling**</span></span> | <span data-ttu-id="812d5-547">Para que los errores se detecten antes, WPF produce una <xref:System.Reflection.TargetInvocationException> y establece la propiedad <xref:System.Exception.InnerException> en las excepciones críticas, como <xref:System.NullReferenceException>, <xref:System.OutOfMemoryException>, <xref:System.StackOverflowException> y <xref:System.Security.SecurityException>, en lugar de capturar la excepción original.</span><span class="sxs-lookup"><span data-stu-id="812d5-547">To enable errors to be detected earlier, WPF throws a <xref:System.Reflection.TargetInvocationException> and sets the <xref:System.Exception.InnerException> property to critical exceptions, such as <xref:System.NullReferenceException>, <xref:System.OutOfMemoryException>, <xref:System.StackOverflowException>, and <xref:System.Security.SecurityException>, instead of catching the original exception.</span></span> | <span data-ttu-id="812d5-548">Ninguno.</span><span class="sxs-lookup"><span data-stu-id="812d5-548">None.</span></span> |
| <span data-ttu-id="812d5-549">**Recursos vinculados**</span><span class="sxs-lookup"><span data-stu-id="812d5-549">**Linked resources**</span></span> | <span data-ttu-id="812d5-550">Para facilitar la vinculación, los archivos de recursos (como las imágenes) que se encuentran en una ubicación distinta de la estructura de carpetas del proyecto usan la ruta de acceso completa del archivo de recursos en lugar de simplemente su nombre de archivo como identificador de recurso cuando se compila la aplicación.</span><span class="sxs-lookup"><span data-stu-id="812d5-550">To make linking easier, resource files (such as images) that are located in a location other than the project's folder structure use the resource file's full path instead of just its file name as the resource ID when the application is built.</span></span> <span data-ttu-id="812d5-551">La aplicación podrá encontrar los archivos en tiempo de ejecución.</span><span class="sxs-lookup"><span data-stu-id="812d5-551">The application will be able to locate the files at run time.</span></span> | <span data-ttu-id="812d5-552">Ninguno.</span><span class="sxs-lookup"><span data-stu-id="812d5-552">None.</span></span> |
| <span data-ttu-id="812d5-553">**Aplicaciones de confianza parcial**</span><span class="sxs-lookup"><span data-stu-id="812d5-553">**Partial-trust applications**</span></span> | <span data-ttu-id="812d5-554">Por motivos de seguridad, las aplicaciones basadas en Windows que se ejecutan en confianza parcial y contienen un control <xref:System.Windows.Controls.WebBrowser> o un control <xref:System.Windows.Controls.Frame> que contiene código HTML producirán una <xref:System.Security.SecurityException> cuando se cree el control.</span><span class="sxs-lookup"><span data-stu-id="812d5-554">For security considerations, Windows-based applications that run in partial trust and contain a <xref:System.Windows.Controls.WebBrowser> control or a <xref:System.Windows.Controls.Frame> control that contains HTML will throw a <xref:System.Security.SecurityException> when the control is created.</span></span><br><br><span data-ttu-id="812d5-555">Las aplicaciones de explorador producirán una excepción y mostrarán un mensaje si se cumplen todas las condiciones siguientes:</span><span class="sxs-lookup"><span data-stu-id="812d5-555">Browser applications will throw an exception and display a message if all of the following conditions are met:</span></span><br><br><span data-ttu-id="812d5-556">\* La aplicación se ejecuta en Firefox.</span><span class="sxs-lookup"><span data-stu-id="812d5-556">\* The application is running in Firefox.</span></span><br><span data-ttu-id="812d5-557">\* La aplicación se ejecuta en confianza parcial en la zona de Internet desde sitios que no son de confianza.</span><span class="sxs-lookup"><span data-stu-id="812d5-557">\* The application is running in partial trust in the Internet zone from non-trusted sites.</span></span><br><span data-ttu-id="812d5-558">\* La aplicación contiene un control <xref:System.Windows.Controls.WebBrowser> o un control <xref:System.Windows.Controls.Frame> que contiene código HTML.</span><span class="sxs-lookup"><span data-stu-id="812d5-558">\* The application contains a <xref:System.Windows.Controls.WebBrowser> control or a <xref:System.Windows.Controls.Frame> control that contains HTML.</span></span><br><br><span data-ttu-id="812d5-559">Tenga en cuenta que las aplicaciones que se ejecutan desde sitios de confianza o desde la zona de intranet no se verán afectadas.</span><span class="sxs-lookup"><span data-stu-id="812d5-559">Note that applications that run from trusted sites or from the intranet zone will not be affected.</span></span> | <span data-ttu-id="812d5-560">En las aplicaciones de explorador, puede mitigar este cambio. Para ello, lleve a cabo una de las acciones siguientes:</span><span class="sxs-lookup"><span data-stu-id="812d5-560">In your browser applications, you can ease this change by doing one of the following:</span></span><br><br><span data-ttu-id="812d5-561">\* Ejecute la aplicación de explorador en plena confianza.</span><span class="sxs-lookup"><span data-stu-id="812d5-561">\* Run the browser application in full trust.</span></span><br><span data-ttu-id="812d5-562">\* Haga que los clientes agreguen el sitio de la aplicación a la zona de sitios de confianza.</span><span class="sxs-lookup"><span data-stu-id="812d5-562">\* Have customers add the application's site to the trusted sites zone.</span></span><br><span data-ttu-id="812d5-563">\* Haga que los clientes ejecuten la aplicación en Internet Explorer.</span><span class="sxs-lookup"><span data-stu-id="812d5-563">\* Have customers run the application in Internet Explorer.</span></span> |
| <span data-ttu-id="812d5-564">**Diccionarios de recursos**</span><span class="sxs-lookup"><span data-stu-id="812d5-564">**Resource dictionaries**</span></span> | <span data-ttu-id="812d5-565">Para mejorar los diccionarios de recursos de nivel de tema e impedir que cambien, los recursos inmovilizables que se definen en un diccionario de recursos y se combinan en un diccionario de nivel de tema ahora siempre están marcados como inmovilizados y son inmutables.</span><span class="sxs-lookup"><span data-stu-id="812d5-565">To improve theme-level resource dictionaries and prevent them from changing, freezable resources that are defined in a resource dictionary and merged into a theme-level dictionary are now always marked as frozen and are immutable.</span></span> <span data-ttu-id="812d5-566">Este es el comportamiento esperado para los recursos inmovilizables.</span><span class="sxs-lookup"><span data-stu-id="812d5-566">This is the expected behavior for freezable resources.</span></span> | <span data-ttu-id="812d5-567">Las aplicaciones que modifican un recurso definido en un diccionario combinado de nivel de tema deben clonar el recurso y modificar la copia clonada.</span><span class="sxs-lookup"><span data-stu-id="812d5-567">Applications that modify a resource that is defined in a theme-level merged dictionary should clone the resource and modify the cloned copy.</span></span> <span data-ttu-id="812d5-568">Como alternativa, se puede marcar el recurso como `x:Shared="false"` para que <xref:System.Windows.ResourceDictionary> cree una copia cada vez que se consulte el recurso.</span><span class="sxs-lookup"><span data-stu-id="812d5-568">Alternatively, the resource can be marked `x:Shared="false"` so that the <xref:System.Windows.ResourceDictionary> creates a new copy every time the resource is queried.</span></span> |
| <span data-ttu-id="812d5-569">**Windows 7**</span><span class="sxs-lookup"><span data-stu-id="812d5-569">**Windows 7**</span></span> | <span data-ttu-id="812d5-570">Para que las aplicaciones de WPF funcionen mejor en Windows 7, se han realizado las siguientes mejoras para corregir el comportamiento de una ventana:</span><span class="sxs-lookup"><span data-stu-id="812d5-570">To make WPF applications work better on Windows 7, the following improvements were made to correct the behavior of a window:</span></span><br><br><span data-ttu-id="812d5-571">\* Los estados de acoplar y gestos ahora funcionan según lo esperado en función de las interacciones del usuario.</span><span class="sxs-lookup"><span data-stu-id="812d5-571">\* Dock and gesture states now work as expected based on user interactions.</span></span><br><span data-ttu-id="812d5-572">\* Los comandos de la barra de tareas **Ventanas en cascada, Mostrar ventanas apiladas** y **Mostrar ventanas en paralelo** ahora tienen el comportamiento correcto y actualizan las propiedades adecuadas.</span><span class="sxs-lookup"><span data-stu-id="812d5-572">\* The taskbar commands **Cascade windows, Show windows stacked**, and **Show windows side-by-side** now have the correct behavior and update the appropriate properties.</span></span><br><span data-ttu-id="812d5-573">\* Las propiedades `Top`, `Left`, `Width` y `Height` de una ventana maximizada o minimizada contienen ahora la ubicación de restauración correcta de la ventana en lugar de otros valores, según el monitor.</span><span class="sxs-lookup"><span data-stu-id="812d5-573">\* The `Top`, `Left`, `Width`, and `Height` properties for a maximized or minimized window now contain the correct restore location of the window instead of other values, depending on the monitor.</span></span> | <span data-ttu-id="812d5-574">Ninguno.</span><span class="sxs-lookup"><span data-stu-id="812d5-574">None.</span></span> |
| <span data-ttu-id="812d5-575">**Estilo de Windows y transparencia**</span><span class="sxs-lookup"><span data-stu-id="812d5-575">**Windows style and transparency**</span></span> | <span data-ttu-id="812d5-576">Se produce una <xref:System.InvalidOperationException> si se intenta establecer <xref:System.Windows.Window.WindowStyle> en un valor distinto de <xref:System.Windows.WindowStyle> cuando <xref:System.Windows.Window.AllowsTransparency> es `true` y <xref:System.Windows.WindowState> es <xref:System.Windows.WindowState>.</span><span class="sxs-lookup"><span data-stu-id="812d5-576">An <xref:System.InvalidOperationException> is thrown if you try to set <xref:System.Windows.Window.WindowStyle> to a value other than <xref:System.Windows.WindowStyle> when <xref:System.Windows.Window.AllowsTransparency> is `true` and <xref:System.Windows.WindowState> is <xref:System.Windows.WindowState>.</span></span> | <span data-ttu-id="812d5-577">Si necesita cambiar <xref:System.Windows.Window.WindowStyle> cuando <xref:System.Windows.Window.AllowsTransparency> es `true`, puede llamar a la función `SetWindowLongPtr` de Win32.</span><span class="sxs-lookup"><span data-stu-id="812d5-577">If you must change the <xref:System.Windows.Window.WindowStyle> when <xref:System.Windows.Window.AllowsTransparency> is `true`, you can call the Win32 `SetWindowLongPtr` function.</span></span> |
| <span data-ttu-id="812d5-578">**Visor de XPS**</span><span class="sxs-lookup"><span data-stu-id="812d5-578">**XPS Viewer**</span></span> | <span data-ttu-id="812d5-579">WPF no incluye Microsoft XML Paper Specification Essentials Pack (XPSEP).</span><span class="sxs-lookup"><span data-stu-id="812d5-579">WPF does not include the Microsoft XML Paper Specification Essentials Pack (XPSEP).</span></span> <span data-ttu-id="812d5-580">XPSEP se incluye con Windows 7 y Windows Vista.</span><span class="sxs-lookup"><span data-stu-id="812d5-580">XPSEP is included with Windows 7 and Windows Vista.</span></span><br><br><span data-ttu-id="812d5-581">En un equipo que ejecuta Windows XP sin .NET Framework 3.5 SP1 instalado, la acción de imprimir mediante una API de WPF distinta de <xref:System.Windows.Controls.PrintDialog> se basará en WINSPOOL.</span><span class="sxs-lookup"><span data-stu-id="812d5-581">On a computer that is running Windows XP without the .NET Framework 3.5 SP1 installed, printing by using a WPF API other than those in <xref:System.Windows.Controls.PrintDialog> will rely on the WINSPOOL.</span></span> <span data-ttu-id="812d5-582">No se notificarán algunas funciones de la impresora y no se aplicarán algunos valores de configuración de la impresora durante la impresión.</span><span class="sxs-lookup"><span data-stu-id="812d5-582">Some printer capabilities will not be reported and some printer settings will not be applied during printing.</span></span> | <span data-ttu-id="812d5-583">Si es necesario, instale [Microsoft XML Paper Specification Essentials Pack](https://go.microsoft.com/fwlink/?LinkId=178895).</span><span class="sxs-lookup"><span data-stu-id="812d5-583">If needed, install the [Microsoft XML Paper Specification Essentials Pack](https://go.microsoft.com/fwlink/?LinkId=178895).</span></span> |

### <a name="controls"></a><span data-ttu-id="812d5-584">Controles</span><span class="sxs-lookup"><span data-stu-id="812d5-584">Controls</span></span>

<span data-ttu-id="812d5-585">Espacios de nombres: <xref:System.Windows>, <xref:System.Windows.Controls>, <xref:System.Windows.Data>, <xref:System.Windows.Input>; ensamblados: PresentationFramework (en PresentationFramework.dll), PresentationCore (en PresentationCore.dll), WindowsBase (en WindowsBase.dll)</span><span class="sxs-lookup"><span data-stu-id="812d5-585">Namespaces: <xref:System.Windows>, <xref:System.Windows.Controls>, <xref:System.Windows.Data>, <xref:System.Windows.Input>; assemblies: PresentationFramework (in PresentationFramework.dll), PresentationCore (in PresentationCore.dll), WindowsBase (in WindowsBase.dll)</span></span>

| <span data-ttu-id="812d5-586">Característica</span><span class="sxs-lookup"><span data-stu-id="812d5-586">Feature</span></span> | <span data-ttu-id="812d5-587">Diferencias respecto a 3.5 SP1</span><span class="sxs-lookup"><span data-stu-id="812d5-587">Differences from 3.5 SP1</span></span> | <span data-ttu-id="812d5-588">Cambios recomendados</span><span class="sxs-lookup"><span data-stu-id="812d5-588">Recommended changes</span></span> |
| ------- | ------------------------ | ------------------- |
| <span data-ttu-id="812d5-589">**Cuadros de diálogo**</span><span class="sxs-lookup"><span data-stu-id="812d5-589">**Dialog boxes**</span></span> | <span data-ttu-id="812d5-590">Para mejorar la confiabilidad, se llama al método <xref:Microsoft.Win32.CommonDialog.ShowDialog%2A> en el mismo subproceso que ha creado el control <xref:Microsoft.Win32.FileDialog>.</span><span class="sxs-lookup"><span data-stu-id="812d5-590">To improve reliability, the <xref:Microsoft.Win32.CommonDialog.ShowDialog%2A> method is called on the same thread that created the <xref:Microsoft.Win32.FileDialog> control.</span></span> | <span data-ttu-id="812d5-591">Asegúrese de crear un control <xref:Microsoft.Win32.FileDialog> y llamar al método <xref:Microsoft.Win32.CommonDialog.ShowDialog%2A> en el mismo subproceso.</span><span class="sxs-lookup"><span data-stu-id="812d5-591">Be sure to create a <xref:Microsoft.Win32.FileDialog> control and call the <xref:Microsoft.Win32.CommonDialog.ShowDialog%2A> method on the same thread.</span></span> |
| <span data-ttu-id="812d5-592">**Ventanas flotantes**</span><span class="sxs-lookup"><span data-stu-id="812d5-592">**Floating windows**</span></span> | <span data-ttu-id="812d5-593">Para corregir la lógica de restauración del foco que reactiva incorrectamente una ventana flotante (lo que hace que parezca un cuadro de diálogo modal), ahora se impide la restauración del foco si el candidato no es un elemento secundario de la ventana.</span><span class="sxs-lookup"><span data-stu-id="812d5-593">To fix focus restoration logic that incorrectly keeps reactivating a floating window (making it appear like a modal dialog box), focus restoration is now prevented if the candidate is not a child of the window.</span></span> | <span data-ttu-id="812d5-594">Ninguno.</span><span class="sxs-lookup"><span data-stu-id="812d5-594">None.</span></span> |
| <span data-ttu-id="812d5-595">**Elementos de colecciones**</span><span class="sxs-lookup"><span data-stu-id="812d5-595">**Items in collections**</span></span> | <span data-ttu-id="812d5-596">Cuando un elemento se mueve o se agrega a una colección subyacente, aparece en <xref:System.Windows.Data.CollectionView> en la misma ubicación relativa si <xref:System.Windows.Data.CollectionView> no está ordenada.</span><span class="sxs-lookup"><span data-stu-id="812d5-596">When an item is moved or added to an underlying collection, it appears in the <xref:System.Windows.Data.CollectionView> in the same relative location if the <xref:System.Windows.Data.CollectionView> is not sorted.</span></span> <span data-ttu-id="812d5-597">Esto proporciona coherencia entre la posición del elemento en la colección y la <xref:System.Windows.Data.CollectionView> asociada.</span><span class="sxs-lookup"><span data-stu-id="812d5-597">This provides consistency between the item's position in the collection and in the associated <xref:System.Windows.Data.CollectionView>.</span></span> | <span data-ttu-id="812d5-598">Use el método <xref:System.Windows.Controls.ItemContainerGenerator.ContainerFromItem%2A> o <xref:System.Windows.Data.CollectionView.IndexOf%2A> para buscar la ubicación de un elemento en <xref:System.Windows.Data.CollectionView>, en lugar de depender de una ubicación fija de un elemento.</span><span class="sxs-lookup"><span data-stu-id="812d5-598">Use the <xref:System.Windows.Controls.ItemContainerGenerator.ContainerFromItem%2A> or <xref:System.Windows.Data.CollectionView.IndexOf%2A> method to find the location of an item in a <xref:System.Windows.Data.CollectionView> instead of relying on a fixed location of an item.</span></span> |
| <span data-ttu-id="812d5-599">**Diseños**</span><span class="sxs-lookup"><span data-stu-id="812d5-599">**Layouts**</span></span> | <span data-ttu-id="812d5-600">Para eliminar la realización innecesaria de nuevos diseños, la acción de cambiar <xref:System.Windows.Controls.Page.ShowsNavigationUI> ya no invalida el diseño ni provoca otro cálculo de diseño.</span><span class="sxs-lookup"><span data-stu-id="812d5-600">To eliminate unnecessary re-layouts, changing the <xref:System.Windows.Controls.Page.ShowsNavigationUI> no longer invalidates layout or causes another layout pass.</span></span> | <span data-ttu-id="812d5-601">Si espera que se provoque otro cálculo de diseño al cambiar <xref:System.Windows.Controls.Page.ShowsNavigationUI>, llame a <xref:System.Windows.UIElement.InvalidateVisual%2A> después de establecer la propiedad.</span><span class="sxs-lookup"><span data-stu-id="812d5-601">If you expect that changing <xref:System.Windows.Controls.Page.ShowsNavigationUI> will cause another layout pass, call <xref:System.Windows.UIElement.InvalidateVisual%2A> after you set the property.</span></span> |
| <span data-ttu-id="812d5-602">**Menús**</span><span class="sxs-lookup"><span data-stu-id="812d5-602">**Menus**</span></span> | <span data-ttu-id="812d5-603">Para habilitar texto ClearType en menús emergentes, se han realizado modificaciones en la clase <xref:System.Windows.Controls.ControlTemplate> y en el control <xref:System.Windows.Controls.MenuItem> y en otros controles.</span><span class="sxs-lookup"><span data-stu-id="812d5-603">To enable ClearType text in menu pop-ups, modifications were made to the <xref:System.Windows.Controls.ControlTemplate> class and to the <xref:System.Windows.Controls.MenuItem> control and other controls.</span></span> | <span data-ttu-id="812d5-604">Las aplicaciones no deben depender de la estructura visual de las plantillas de control.</span><span class="sxs-lookup"><span data-stu-id="812d5-604">Applications should not rely on the visual structure of control templates.</span></span> <span data-ttu-id="812d5-605">Solo los elementos con nombre de <xref:System.Windows.Controls.ControlTemplate> forman parte del contrato público.</span><span class="sxs-lookup"><span data-stu-id="812d5-605">Only named parts of a <xref:System.Windows.Controls.ControlTemplate> are part of the public contract.</span></span> <span data-ttu-id="812d5-606">Si una aplicación debe encontrar un objeto determinado en <xref:System.Windows.Controls.ControlTemplate>, busque en el árbol visual un tipo específico, en lugar de depender de una ubicación fija de un objeto en el árbol.</span><span class="sxs-lookup"><span data-stu-id="812d5-606">If an application must find a certain object in a <xref:System.Windows.Controls.ControlTemplate>, search the visual tree for a specific type instead of relying on a fixed location of an object in the tree.</span></span> |
| <span data-ttu-id="812d5-607">**Navegación**</span><span class="sxs-lookup"><span data-stu-id="812d5-607">**Navigating**</span></span> | <span data-ttu-id="812d5-608">Si <xref:System.Windows.Controls.Frame> navega directamente a una ubicación, la propiedad <xref:System.Windows.Navigation.NavigatingCancelEventArgs.IsNavigationInitiator> es `true` después de la navegación inicial.</span><span class="sxs-lookup"><span data-stu-id="812d5-608">If a <xref:System.Windows.Controls.Frame> directly navigates to a location, the <xref:System.Windows.Navigation.NavigatingCancelEventArgs.IsNavigationInitiator> property is `true` after the initial navigation.</span></span> <span data-ttu-id="812d5-609">Este cambio impide que se produzcan eventos adicionales durante los escenarios de arranque.</span><span class="sxs-lookup"><span data-stu-id="812d5-609">This change prevents additional events from being raised during startup scenarios.</span></span> | <span data-ttu-id="812d5-610">Ninguno.</span><span class="sxs-lookup"><span data-stu-id="812d5-610">None.</span></span> |
| <span data-ttu-id="812d5-611">**Elementos emergentes**</span><span class="sxs-lookup"><span data-stu-id="812d5-611">**Pop-ups**</span></span> | <span data-ttu-id="812d5-612">Ahora se puede llamar al delegado <xref:System.Windows.Controls.Primitives.CustomPopupPlacementCallback> varias veces durante un cálculo de diseño, en lugar de una sola vez.</span><span class="sxs-lookup"><span data-stu-id="812d5-612">The <xref:System.Windows.Controls.Primitives.CustomPopupPlacementCallback> delegate can now be called multiple times during a layout pass instead of only once.</span></span> | <span data-ttu-id="812d5-613">Si su delegado <xref:System.Windows.Controls.Primitives.CustomPopupPlacementCallback> calcula la posición de un elemento <xref:System.Windows.Controls.Primitives.Popup> en función de su posición anterior, vuelva a calcular la posición únicamente si los valores de los parámetros `popupSize`, `targetSize` o `offset` cambian.</span><span class="sxs-lookup"><span data-stu-id="812d5-613">If your <xref:System.Windows.Controls.Primitives.CustomPopupPlacementCallback> delegate calculates the position of a <xref:System.Windows.Controls.Primitives.Popup> based on its previous position, recalculate the position only if the values of the `popupSize`, `targetSize`, or `offset` parameters change.</span></span> |
| <span data-ttu-id="812d5-614">**Valores de propiedades**</span><span class="sxs-lookup"><span data-stu-id="812d5-614">**Property values**</span></span> | <span data-ttu-id="812d5-615">El método <xref:System.Windows.DependencyObject.SetCurrentValue%2A> ahora le permite establecer una propiedad en un valor efectivo, aunque sigue respetando todos los enlaces, estilos o desencadenadores que afecten a la propiedad.</span><span class="sxs-lookup"><span data-stu-id="812d5-615">The <xref:System.Windows.DependencyObject.SetCurrentValue%2A> method now lets you set a property to an effective value, although it continues to respects any binding, style, or trigger that affects the property.</span></span> | <span data-ttu-id="812d5-616">Los autores de controles deben usar <xref:System.Windows.DependencyObject.SetCurrentValue%2A> siempre que el valor de propiedad cambie como efecto secundario de otra acción, incluida la manipulación por parte del usuario.</span><span class="sxs-lookup"><span data-stu-id="812d5-616">Control authors should use <xref:System.Windows.DependencyObject.SetCurrentValue%2A> whenever the property value changes as a side-effect of some other action, including user manipulation.</span></span> |
| <span data-ttu-id="812d5-617">**Cuadros de texto**</span><span class="sxs-lookup"><span data-stu-id="812d5-617">**Text boxes**</span></span> | <span data-ttu-id="812d5-618">Por motivos de seguridad, se produce un error de manera silenciosa en los métodos <xref:System.Windows.Forms.TextBoxBase.Copy%2A> y <xref:System.Windows.Forms.TextBoxBase.Cut%2A> cuando se les llama en confianza parcial.</span><span class="sxs-lookup"><span data-stu-id="812d5-618">For security considerations, the <xref:System.Windows.Forms.TextBoxBase.Copy%2A> and <xref:System.Windows.Forms.TextBoxBase.Cut%2A> methods silently fail when they are called in partial trust.</span></span><br><br><span data-ttu-id="812d5-619">Además, la ejecución mediante programación de la propiedad <xref:System.Windows.Input.ApplicationCommands.Copy> o <xref:System.Windows.Input.ApplicationCommands.Cut> en un control que herede de <xref:System.Windows.Controls.Primitives.TextBoxBase> se bloqueará en confianza parcial.</span><span class="sxs-lookup"><span data-stu-id="812d5-619">In addition, programmatic execution of the <xref:System.Windows.Input.ApplicationCommands.Copy> or <xref:System.Windows.Input.ApplicationCommands.Cut> property on a control that inherits from <xref:System.Windows.Controls.Primitives.TextBoxBase> will be blocked in partial trust.</span></span> <span data-ttu-id="812d5-620">Esto no impedirá que funcionen los comandos de copiar y cortar iniciados por el usuario, como hacer clic en un botón cuya propiedad <xref:System.Windows.Controls.Primitives.ButtonBase.Command> está enlazada a uno de estos comandos.</span><span class="sxs-lookup"><span data-stu-id="812d5-620">However, user-initiated copy and cut commands, such as clicking a button whose <xref:System.Windows.Controls.Primitives.ButtonBase.Command> property is bound to one of these commands, will work.</span></span> <span data-ttu-id="812d5-621">La acción estándar de copiar y cortar mediante métodos abreviados de teclado y el menú contextual seguirá funcionando como antes en confianza parcial.</span><span class="sxs-lookup"><span data-stu-id="812d5-621">Standard copy and cut through keyboard shortcuts and the context menu will still work as before in partial trust.</span></span> | <span data-ttu-id="812d5-622">Enlace el comando <xref:System.Windows.Input.ApplicationCommands.Copy> o <xref:System.Windows.Input.ApplicationCommands.Cut> a una acción iniciada por el usuario, como hacer clic en un botón.</span><span class="sxs-lookup"><span data-stu-id="812d5-622">Bind the <xref:System.Windows.Input.ApplicationCommands.Copy> or <xref:System.Windows.Input.ApplicationCommands.Cut> command to a user-initiated action, such as clicking a button.</span></span> |

### <a name="graphics"></a><span data-ttu-id="812d5-623">Gráficos</span><span class="sxs-lookup"><span data-stu-id="812d5-623">Graphics</span></span>

<span data-ttu-id="812d5-624">Espacios de nombres: <xref:System.Windows>, <xref:System.Windows.Controls>, <xref:System.Windows.Data>, <xref:System.Windows.Input>, <xref:System.Windows.Media.Effects>; ensamblados: PresentationFramework (en PresentationFramework.dll), PresentationCore (en PresentationCore.dll), WindowsBase (en WindowsBase.dll)</span><span class="sxs-lookup"><span data-stu-id="812d5-624">Namespaces: <xref:System.Windows>, <xref:System.Windows.Controls>, <xref:System.Windows.Data>, <xref:System.Windows.Input>, <xref:System.Windows.Media.Effects>; assemblies: PresentationFramework (in PresentationFramework.dll), PresentationCore (in PresentationCore.dll), WindowsBase (in WindowsBase.dll)</span></span>

| <span data-ttu-id="812d5-625">Característica</span><span class="sxs-lookup"><span data-stu-id="812d5-625">Feature</span></span> | <span data-ttu-id="812d5-626">Diferencias respecto a 3.5 SP1</span><span class="sxs-lookup"><span data-stu-id="812d5-626">Differences from 3.5 SP1</span></span> | <span data-ttu-id="812d5-627">Cambios recomendados</span><span class="sxs-lookup"><span data-stu-id="812d5-627">Recommended changes</span></span> |
| ------- | ------------------------ | ------------------- |
| <span data-ttu-id="812d5-628">**Efectos de imagen**</span><span class="sxs-lookup"><span data-stu-id="812d5-628">**Bitmap effects**</span></span> | <span data-ttu-id="812d5-629">Para mejorar el rendimiento, la clase <xref:System.Windows.Media.Effects.BitmapEffect> y las clases que heredan de la clase <xref:System.Windows.Media.Effects.BitmapEffect>, aunque siguen presentes, están deshabilitadas.</span><span class="sxs-lookup"><span data-stu-id="812d5-629">To improve performance, the <xref:System.Windows.Media.Effects.BitmapEffect> class and the classes that inherit from the <xref:System.Windows.Media.Effects.BitmapEffect> class, although still present, are disabled.</span></span> <span data-ttu-id="812d5-630">El efecto se representará mediante el uso de la canalización de representación acelerada por hardware si se cumplen las condiciones siguientes:</span><span class="sxs-lookup"><span data-stu-id="812d5-630">The effect will render by using the hardware-accelerated rendering pipeline if the following conditions are true:</span></span><br><br><span data-ttu-id="812d5-631">\* La aplicación usa una clase <xref:System.Windows.Media.Effects.DropShadowBitmapEffect> o <xref:System.Windows.Media.Effects.BlurBitmapEffect> que tenga una propiedad de radio establecida en menos de 100 DIU.</span><span class="sxs-lookup"><span data-stu-id="812d5-631">\* The application uses a <xref:System.Windows.Media.Effects.DropShadowBitmapEffect> or a <xref:System.Windows.Media.Effects.BlurBitmapEffect> that has a radius property set less than 100 DIU.</span></span><br><span data-ttu-id="812d5-632">\* La tarjeta de vídeo del equipo que ejecuta la aplicación es compatible con el sombreador de píxeles 2.0.</span><span class="sxs-lookup"><span data-stu-id="812d5-632">\* The video card on the computer that runs the application supports pixel shader 2.0.</span></span><br><br><span data-ttu-id="812d5-633">Si no se cumplen estas condiciones, los objetos <xref:System.Windows.Media.Effects.BitmapEffect> no tendrán ningún efecto.</span><span class="sxs-lookup"><span data-stu-id="812d5-633">If these conditions are not met, a <xref:System.Windows.Media.Effects.BitmapEffect> object will have no effect.</span></span><br><br><span data-ttu-id="812d5-634">Además, Visual Studio 2010 generará una advertencia del compilador cuando encuentre el objeto <xref:System.Windows.Media.Effects.BitmapEffect> o una subclase.</span><span class="sxs-lookup"><span data-stu-id="812d5-634">Also, Visual Studio 2010 will produce a compiler warning when it encounters the <xref:System.Windows.Media.Effects.BitmapEffect> object or a subclass.</span></span><br><br><span data-ttu-id="812d5-635">El método <xref:System.Windows.Media.DrawingContext.PushEffect%2A> está marcado como obsoleto.</span><span class="sxs-lookup"><span data-stu-id="812d5-635">The <xref:System.Windows.Media.DrawingContext.PushEffect%2A> method is marked obsolete.</span></span> | <span data-ttu-id="812d5-636">Deje de usar el objeto <xref:System.Windows.Media.Effects.BitmapEffect> heredado y las clases derivadas y use en su lugar las nuevas clases derivadas de <xref:System.Windows.Media.Effects.Effect>: <xref:System.Windows.Media.Effects.BlurEffect>, <xref:System.Windows.Media.Effects.DropShadowEffect> y <xref:System.Windows.Media.Effects.ShaderEffect>.</span><span class="sxs-lookup"><span data-stu-id="812d5-636">Discontinue using the legacy <xref:System.Windows.Media.Effects.BitmapEffect> and derived classes and instead use the new classes derived from <xref:System.Windows.Media.Effects.Effect>: <xref:System.Windows.Media.Effects.BlurEffect>, <xref:System.Windows.Media.Effects.DropShadowEffect>, and <xref:System.Windows.Media.Effects.ShaderEffect>.</span></span><br><br><span data-ttu-id="812d5-637">También puede crear sus propios efectos. Para ello, herede de la clase <xref:System.Windows.Media.Effects.ShaderEffect>.</span><span class="sxs-lookup"><span data-stu-id="812d5-637">You can also create your own effects by inheriting from the <xref:System.Windows.Media.Effects.ShaderEffect> class.</span></span> |
| <span data-ttu-id="812d5-638">**Marcos de mapa de bits**</span><span class="sxs-lookup"><span data-stu-id="812d5-638">**Bitmap frames**</span></span> | <span data-ttu-id="812d5-639">Los objetos <xref:System.Windows.Media.Imaging.BitmapFrame> clonados ahora reciben los eventos <xref:System.Windows.Media.Imaging.BitmapSource.DownloadProgress>, <xref:System.Windows.Media.Imaging.BitmapSource.DownloadCompleted> y <xref:System.Windows.Media.Imaging.BitmapSource.DownloadFailed>.</span><span class="sxs-lookup"><span data-stu-id="812d5-639">The cloned <xref:System.Windows.Media.Imaging.BitmapFrame> objects now receive the <xref:System.Windows.Media.Imaging.BitmapSource.DownloadProgress>, <xref:System.Windows.Media.Imaging.BitmapSource.DownloadCompleted>, and <xref:System.Windows.Media.Imaging.BitmapSource.DownloadFailed> events.</span></span> <span data-ttu-id="812d5-640">Esto permite que las imágenes que se descargan de Internet y se aplican al control <xref:System.Windows.Controls.Image> mediante <xref:System.Windows.Style> funcionen correctamente.</span><span class="sxs-lookup"><span data-stu-id="812d5-640">This enables images that are downloaded from the Web and applied to the <xref:System.Windows.Controls.Image> control through a <xref:System.Windows.Style> to work correctly.</span></span><br><br><span data-ttu-id="812d5-641">Verá un cambio de comportamiento únicamente si se cumplen todas las instrucciones siguientes:</span><span class="sxs-lookup"><span data-stu-id="812d5-641">You will see a change in behavior only if all of the following statements are true:</span></span><br><br><span data-ttu-id="812d5-642">\* Se suscribe al evento <xref:System.Windows.Media.Imaging.BitmapSource.DownloadProgress>, <xref:System.Windows.Media.Imaging.BitmapSource.DownloadCompleted> o <xref:System.Windows.Media.Imaging.BitmapSource.DownloadFailed>.</span><span class="sxs-lookup"><span data-stu-id="812d5-642">\* You subscribe to the <xref:System.Windows.Media.Imaging.BitmapSource.DownloadProgress>, <xref:System.Windows.Media.Imaging.BitmapSource.DownloadCompleted>, or <xref:System.Windows.Media.Imaging.BitmapSource.DownloadFailed> event.</span></span><br><span data-ttu-id="812d5-643">\* El origen de <xref:System.Windows.Media.Imaging.BitmapFrame> está en Internet.</span><span class="sxs-lookup"><span data-stu-id="812d5-643">\* The source of the <xref:System.Windows.Media.Imaging.BitmapFrame> is from the Web.</span></span><br><span data-ttu-id="812d5-644">\* <xref:System.Windows.Media.Imaging.BitmapFrame> se clona mientras la descarga aún está en curso.</span><span class="sxs-lookup"><span data-stu-id="812d5-644">\* The <xref:System.Windows.Media.Imaging.BitmapFrame> is cloned while the download is still in progress.</span></span> | <span data-ttu-id="812d5-645">Compruebe el remitente en el controlador de eventos y tome medidas solo si el remitente es el <xref:System.Windows.Media.Imaging.BitmapFrame> original.</span><span class="sxs-lookup"><span data-stu-id="812d5-645">Check the sender in the event handler and take action only if the sender is the original <xref:System.Windows.Media.Imaging.BitmapFrame>.</span></span> |
| <span data-ttu-id="812d5-646">**Descodificación de imágenes**</span><span class="sxs-lookup"><span data-stu-id="812d5-646">**Decoding images**</span></span> | <span data-ttu-id="812d5-647">Para impedir que no se controle una <xref:System.IO.IOException> cuando las imágenes no se pueden descodificar, la clase <xref:System.Windows.Media.Imaging.BitmapSource> producirá el evento <xref:System.Windows.Media.Imaging.BitmapSource.DecodeFailed> cuando no descodifique una imagen.</span><span class="sxs-lookup"><span data-stu-id="812d5-647">To prevent an <xref:System.IO.IOException> from not being handled when images may not decode, the <xref:System.Windows.Media.Imaging.BitmapSource> class will raise the <xref:System.Windows.Media.Imaging.BitmapSource.DecodeFailed> event when it does not decode an image.</span></span> | <span data-ttu-id="812d5-648">Quite el control de excepciones de <xref:System.IO.IOException> y use el evento <xref:System.Windows.Media.Imaging.BitmapSource.DecodeFailed> para comprobar si se ha producido un error en la descodificación.</span><span class="sxs-lookup"><span data-stu-id="812d5-648">Remove any exception handling for <xref:System.IO.IOException>, and use the <xref:System.Windows.Media.Imaging.BitmapSource.DecodeFailed> event to check for decode failure.</span></span> |

### <a name="input"></a><span data-ttu-id="812d5-649">Entrada</span><span class="sxs-lookup"><span data-stu-id="812d5-649">Input</span></span>

<span data-ttu-id="812d5-650">Espacios de nombres: <xref:System.Windows>, <xref:System.Windows.Controls>, <xref:System.Windows.Data>, <xref:System.Windows.Input>; ensamblados: PresentationFramework (en PresentationFramework.dll), PresentationCore (en PresentationCore.dll), WindowsBase (en WindowsBase.dll)</span><span class="sxs-lookup"><span data-stu-id="812d5-650">Namespaces: <xref:System.Windows>, <xref:System.Windows.Controls>, <xref:System.Windows.Data>, <xref:System.Windows.Input>; assemblies: PresentationFramework (in PresentationFramework.dll), PresentationCore (in PresentationCore.dll), WindowsBase (in WindowsBase.dll)</span></span>

| <span data-ttu-id="812d5-651">Característica</span><span class="sxs-lookup"><span data-stu-id="812d5-651">Feature</span></span> | <span data-ttu-id="812d5-652">Diferencias respecto a 3.5 SP1</span><span class="sxs-lookup"><span data-stu-id="812d5-652">Differences from 3.5 SP1</span></span> | <span data-ttu-id="812d5-653">Cambios recomendados</span><span class="sxs-lookup"><span data-stu-id="812d5-653">Recommended changes</span></span> |
| ------- | ------------------------ | ------------------- |
| <span data-ttu-id="812d5-654">**Enlazar instancias de comandos**</span><span class="sxs-lookup"><span data-stu-id="812d5-654">**Binding command instances**</span></span> | <span data-ttu-id="812d5-655">Para proporcionar un mecanismo para enlazar instancias de comandos basadas en el modelo de vista a gestos de entrada basados en vistas, la clase <xref:System.Windows.Input.InputBinding> ahora hereda de <xref:System.Windows.Freezable> en lugar de <xref:System.Windows.DependencyObject>.</span><span class="sxs-lookup"><span data-stu-id="812d5-655">To provide a mechanism to bind View-Model-based command instances to View-based input gestures, the <xref:System.Windows.Input.InputBinding> class now inherits from <xref:System.Windows.Freezable> instead of <xref:System.Windows.DependencyObject>.</span></span> <span data-ttu-id="812d5-656">Ahora, las propiedades siguientes son propiedades de dependencia:</span><span class="sxs-lookup"><span data-stu-id="812d5-656">The following properties are now dependency properties:</span></span><br><br>* <xref:System.Windows.Input.InputBinding.Command><br>* <xref:System.Windows.Input.InputBinding.CommandParameter><br>* <xref:System.Windows.Input.InputBinding.CommandTarget><br><br><span data-ttu-id="812d5-657">Este cambio tiene como resultado lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="812d5-657">This change results in the following:</span></span><br><br><span data-ttu-id="812d5-658">\* Los objetos <xref:System.Windows.Input.InputBinding> ahora se inmovilizan cuando se registran, en lugar de seguir siendo mutables.</span><span class="sxs-lookup"><span data-stu-id="812d5-658">\* An <xref:System.Windows.Input.InputBinding> object is now frozen when it is registered instead of remaining mutable.</span></span><br><span data-ttu-id="812d5-659">\* No se puede obtener acceso a objetos <xref:System.Windows.Input.InputBinding> de nivel de instancia desde varios subprocesos debido a las restricciones de la clase <xref:System.Windows.DependencyObject>.</span><span class="sxs-lookup"><span data-stu-id="812d5-659">\* You cannot access instance-level <xref:System.Windows.Input.InputBinding> objects from multiple threads, due to the restrictions of the <xref:System.Windows.DependencyObject> class.</span></span><br><span data-ttu-id="812d5-660">\* No se pueden modificar los enlaces de entrada de nivel de clase después de su registro debido a las restricciones de la clase <xref:System.Windows.Freezable>.</span><span class="sxs-lookup"><span data-stu-id="812d5-660">\* You cannot mutate class-level input bindings after their registration, due to the restrictions of the <xref:System.Windows.Freezable> class.</span></span><br><span data-ttu-id="812d5-661">\* No se pueden especificar enlaces de entrada en las instancias de comando que se crean en un modelo de vista.</span><span class="sxs-lookup"><span data-stu-id="812d5-661">\* You cannot specify input bindings on command instances that are created in a View-Model.</span></span> | <span data-ttu-id="812d5-662">Cree instancias independientes de una clase <xref:System.Windows.Input.InputBinding> en subprocesos independientes si los enlaces deben ser mutables. En caso contrario, inmovilícelos.</span><span class="sxs-lookup"><span data-stu-id="812d5-662">Create separate instances of an <xref:System.Windows.Input.InputBinding> class on separate threads if bindings are to be mutable, or freeze them otherwise.</span></span> <span data-ttu-id="812d5-663">No modifique una clase estática <xref:System.Windows.Input.InputBinding> de nivel de clase después de que se haya registrado.</span><span class="sxs-lookup"><span data-stu-id="812d5-663">Do not mutate a class-level static <xref:System.Windows.Input.InputBinding> after it has been registered.</span></span> |
| <span data-ttu-id="812d5-664">**Aplicaciones de explorador**</span><span class="sxs-lookup"><span data-stu-id="812d5-664">**Browser applications**</span></span> | <span data-ttu-id="812d5-665">Las aplicaciones de explorador WPF (.XBAP) ahora procesan los eventos clave exactamente igual que las aplicaciones de WPF independientes para que los objetos reciban los eventos clave enrutados en el orden correcto.</span><span class="sxs-lookup"><span data-stu-id="812d5-665">WPF Browser applications (.XBAP) now process key events just like stand-alone WPF applications so that objects receive routed key events in the correct order.</span></span> | <span data-ttu-id="812d5-666">Ninguno.</span><span class="sxs-lookup"><span data-stu-id="812d5-666">None.</span></span> |
| <span data-ttu-id="812d5-667">**Combinaciones de teclas inactivas**</span><span class="sxs-lookup"><span data-stu-id="812d5-667">**Dead key combinations**</span></span> | <span data-ttu-id="812d5-668">WPF ofusca las teclas inactivas, que no producen ningún carácter visible, pero indica que la tecla debe combinarse con la tecla de letra siguiente para generar un carácter.</span><span class="sxs-lookup"><span data-stu-id="812d5-668">WPF obfuscates dead keys, which produce no visible character, but instead indicates that the key is to be combined with the next letter key to produce one character.</span></span> <span data-ttu-id="812d5-669">Los eventos de entrada de tecla, como el evento <xref:System.Windows.Input.Keyboard.KeyDownEvent>, notifican que una tecla es inactiva mediante el establecimiento de la propiedad <xref:System.Windows.Input.KeyEventArgs.Key> en el valor <xref:System.Windows.Input.Key>.</span><span class="sxs-lookup"><span data-stu-id="812d5-669">The key input events, such as the <xref:System.Windows.Input.Keyboard.KeyDownEvent> event, report when a key is a dead key by setting the <xref:System.Windows.Input.KeyEventArgs.Key> property to the <xref:System.Windows.Input.Key> value.</span></span> <span data-ttu-id="812d5-670">Este suele ser el comportamiento esperado, ya que las aplicaciones normalmente no responden a la entrada de teclado que crea un carácter combinado.</span><span class="sxs-lookup"><span data-stu-id="812d5-670">This is usually expected behavior because applications usually do not intend to respond to keyboard input that creates a combined character.</span></span> | <span data-ttu-id="812d5-671">Las aplicaciones que esperan leer teclas que formaban parte de caracteres combinados ahora pueden obtener la tecla ofuscada mediante la propiedad <xref:System.Windows.Input.KeyEventArgs.DeadCharProcessedKey>.</span><span class="sxs-lookup"><span data-stu-id="812d5-671">Applications that expect to read keys that were part of combined characters can get the now obfuscated key by using the <xref:System.Windows.Input.KeyEventArgs.DeadCharProcessedKey> property.</span></span> |
| <span data-ttu-id="812d5-672">**Administrador de foco**</span><span class="sxs-lookup"><span data-stu-id="812d5-672">**Focus manager**</span></span> | <span data-ttu-id="812d5-673">Cuando se pasa al método <xref:System.Windows.Input.FocusManager.GetFocusedElement(System.Windows.DependencyObject)?displayProperty=nameWithType> un elemento que tiene la propiedad adjunta [IsFocusScope](https://msdn.microsoft.com/library/system.windows.input.focusmanager.isfocusscope.aspx) establecida en `true`, el método devuelve un elemento que es el último elemento con el foco en el teclado dentro de ese ámbito del foco únicamente si el elemento devuelto pertenece al mismo objeto <xref:System.Windows.PresentationSource> que el elemento que se pasa al método.</span><span class="sxs-lookup"><span data-stu-id="812d5-673">When the <xref:System.Windows.Input.FocusManager.GetFocusedElement(System.Windows.DependencyObject)?displayProperty=nameWithType> method is passed an element that has the [IsFocusScope](https://msdn.microsoft.com/library/system.windows.input.focusmanager.isfocusscope.aspx) attached property set to `true`, the method returns an element that is the last keyboard-focused element within that focus scope if and only if the returned element belongs to the same <xref:System.Windows.PresentationSource> object as the element that is passed to the method.</span></span> | <span data-ttu-id="812d5-674">Ninguno.</span><span class="sxs-lookup"><span data-stu-id="812d5-674">None.</span></span> |

### <a name="ui-automation"></a><span data-ttu-id="812d5-675">Automatización de la interfaz de usuario</span><span class="sxs-lookup"><span data-stu-id="812d5-675">UI Automation</span></span>

<span data-ttu-id="812d5-676">Espacios de nombres: <xref:System.Windows>, <xref:System.Windows.Automation.Peers>, <xref:System.Windows.Automation.Provider>, <xref:System.Windows.Controls>, <xref:System.Windows.Data>, <xref:System.Windows.Input>; ensamblados: PresentationFramework (en PresentationFramework.dll), PresentationCore (en PresentationCore.dll), UIAutomationProvider (en UIAutomationProvider.dll), WindowsBase (en WindowsBase.dll)</span><span class="sxs-lookup"><span data-stu-id="812d5-676">Namespace: <xref:System.Windows>, <xref:System.Windows.Automation.Peers>, <xref:System.Windows.Automation.Provider>, <xref:System.Windows.Controls>, <xref:System.Windows.Data>, <xref:System.Windows.Input>; assemblies: PresentationFramework (in PresentationFramework.dll), PresentationCore (in PresentationCore.dll), UIAutomationProvider (in UIAutomationProvider.dll), WindowsBase (in WindowsBase.dll)</span></span>

| <span data-ttu-id="812d5-677">Característica</span><span class="sxs-lookup"><span data-stu-id="812d5-677">Feature</span></span> | <span data-ttu-id="812d5-678">Diferencias respecto a 3.5 SP1</span><span class="sxs-lookup"><span data-stu-id="812d5-678">Differences from 3.5 SP1</span></span> | <span data-ttu-id="812d5-679">Cambios recomendados</span><span class="sxs-lookup"><span data-stu-id="812d5-679">Recommended changes</span></span> |
| ------- | ------------------------ | ------------------- |
| <span data-ttu-id="812d5-680">**Jerarquía de clases de vistas**</span><span class="sxs-lookup"><span data-stu-id="812d5-680">**Class hierarchy of views**</span></span> | <span data-ttu-id="812d5-681">Las clases <xref:System.Windows.Automation.Peers.TreeViewAutomationPeer> y <xref:System.Windows.Automation.Peers.TreeViewItemAutomationPeer> heredan de <xref:System.Windows.Automation.Peers.ItemsControlAutomationPeer> en vez de <xref:System.Windows.Automation.Peers.FrameworkElementAutomationPeer>.</span><span class="sxs-lookup"><span data-stu-id="812d5-681">The <xref:System.Windows.Automation.Peers.TreeViewAutomationPeer> and <xref:System.Windows.Automation.Peers.TreeViewItemAutomationPeer> classes inherit from <xref:System.Windows.Automation.Peers.ItemsControlAutomationPeer> instead of <xref:System.Windows.Automation.Peers.FrameworkElementAutomationPeer>.</span></span> | <span data-ttu-id="812d5-682">Si hereda de las clases <xref:System.Windows.Automation.Peers.TreeViewItemAutomationPeer> e invalida el método <xref:System.Windows.Automation.Peers.TreeViewItemAutomationPeer.GetChildrenCore%2A>, considere la posibilidad de devolver un objeto que herede de la nueva clase <xref:System.Windows.Automation.Peers.TreeViewDataItemAutomationPeer>.</span><span class="sxs-lookup"><span data-stu-id="812d5-682">If you inherit from the <xref:System.Windows.Automation.Peers.TreeViewItemAutomationPeer> classes and override the <xref:System.Windows.Automation.Peers.TreeViewItemAutomationPeer.GetChildrenCore%2A> method, consider returning an object that inherits from the new <xref:System.Windows.Automation.Peers.TreeViewDataItemAutomationPeer> class.</span></span> |
| <span data-ttu-id="812d5-683">**Contenedores fuera de la pantalla**</span><span class="sxs-lookup"><span data-stu-id="812d5-683">**Containers off screen**</span></span> | <span data-ttu-id="812d5-684">Para corregir un valor devuelto incorrecto, el método <xref:System.Windows.Automation.Peers.UIElementAutomationPeer.IsOffscreenCore%2A> ahora devuelve correctamente `false` para los contenedores de elementos que se desplazan fuera de la vista.</span><span class="sxs-lookup"><span data-stu-id="812d5-684">To fix an incorrect return value, the <xref:System.Windows.Automation.Peers.UIElementAutomationPeer.IsOffscreenCore%2A> method now correctly returns `false` for item containers that are scrolled out of view.</span></span> <span data-ttu-id="812d5-685">Además, el valor del método no se ve afectado por la oclusión por parte de otras ventanas o si el elemento está visible en un monitor específico.</span><span class="sxs-lookup"><span data-stu-id="812d5-685">Also, the value of the method is not affected by occlusion by other windows, or by whether the element is visible on a specific monitor.</span></span> | <span data-ttu-id="812d5-686">Ninguno.</span><span class="sxs-lookup"><span data-stu-id="812d5-686">None.</span></span> |
| <span data-ttu-id="812d5-687">**Menús y objetos secundarios**</span><span class="sxs-lookup"><span data-stu-id="812d5-687">**Menus and child objects**</span></span> | <span data-ttu-id="812d5-688">Para habilitar la automatización de la interfaz de usuario de los menús que contienen elementos secundarios distintos de objetos <xref:System.Windows.Controls.MenuItem>, el método <xref:System.Windows.Automation.Peers.MenuItemAutomationPeer.GetChildrenCore%2A> ahora devuelve el objeto <xref:System.Windows.Automation.Peers.AutomationPeer> de un elemento objeto secundario <xref:System.Windows.UIElement>, en lugar de un objeto <xref:System.Windows.Automation.Peers.MenuItemAutomationPeer>.</span><span class="sxs-lookup"><span data-stu-id="812d5-688">To enable UI automation of menus that contain children other than <xref:System.Windows.Controls.MenuItem> objects, the <xref:System.Windows.Automation.Peers.MenuItemAutomationPeer.GetChildrenCore%2A> method now returns the <xref:System.Windows.Automation.Peers.AutomationPeer> object of a child <xref:System.Windows.UIElement> object, instead of a <xref:System.Windows.Automation.Peers.MenuItemAutomationPeer> object.</span></span> | <span data-ttu-id="812d5-689">Ninguno.</span><span class="sxs-lookup"><span data-stu-id="812d5-689">None.</span></span> |
| <span data-ttu-id="812d5-690">**Nuevas Interfaces y ensamblado**</span><span class="sxs-lookup"><span data-stu-id="812d5-690">**New interfaces and assembly**</span></span> | <span data-ttu-id="812d5-691">Para habilitar nuevas características para la automatización de la interfaz de usuario, se han agregado las interfaces siguientes:</span><span class="sxs-lookup"><span data-stu-id="812d5-691">To enable new features for UI automation, the following interfaces were added:</span></span><br><br>* <xref:System.Windows.Automation.Provider.IItemContainerProvider><br>* <xref:System.Windows.Automation.Provider.ISynchronizedInputProvider><br>* <xref:System.Windows.Automation.Provider.IVirtualizedItemProvider> | <span data-ttu-id="812d5-692">Todos los proyectos que generan elementos de automatización de WPF del mismo nivel deben agregar una referencia explícita a UIAutomationProvider.dll.</span><span class="sxs-lookup"><span data-stu-id="812d5-692">Any project that builds WPF automation peers must add an explicit reference to UIAutomationProvider.dll.</span></span> |
| <span data-ttu-id="812d5-693">**Controles**</span><span class="sxs-lookup"><span data-stu-id="812d5-693">**Thumbs**</span></span> | <span data-ttu-id="812d5-694">El método <xref:System.Windows.Automation.Peers.ThumbAutomationPeer.GetClassNameCore%2A> devuelve un valor en lugar de NULL.</span><span class="sxs-lookup"><span data-stu-id="812d5-694">The <xref:System.Windows.Automation.Peers.ThumbAutomationPeer.GetClassNameCore%2A> method returns a value instead of null.</span></span> <span data-ttu-id="812d5-695">Por lo tanto, los controles como <xref:System.Windows.Controls.GridSplitter> que heredan de la clase <xref:System.Windows.Controls.Primitives.Thumb> notificarán un nombre a la automatización de la interfaz de usuario.</span><span class="sxs-lookup"><span data-stu-id="812d5-695">Therefore, controls controls such as <xref:System.Windows.Controls.GridSplitter> that inherit from the <xref:System.Windows.Controls.Primitives.Thumb> class will report a name to UI Automation.</span></span> | <span data-ttu-id="812d5-696">Ninguno.</span><span class="sxs-lookup"><span data-stu-id="812d5-696">None.</span></span> |
| <span data-ttu-id="812d5-697">**Elementos virtualizados**</span><span class="sxs-lookup"><span data-stu-id="812d5-697">**Virtualized elements**</span></span> | <span data-ttu-id="812d5-698">Para mejorar el rendimiento, el método <xref:System.Windows.Automation.Peers.UIElementAutomationPeer.GetChildrenCore%2A> devuelve solo los objetos secundarios que se encuentran realmente en el árbol visual, en lugar de todos los objetos secundarios, independientemente de si están virtualizados.</span><span class="sxs-lookup"><span data-stu-id="812d5-698">To improve performance, the <xref:System.Windows.Automation.Peers.UIElementAutomationPeer.GetChildrenCore%2A> method returns only the child objects that are actually in the visual tree, instead of all child objects, regardless of whether they are virtualized.</span></span> | <span data-ttu-id="812d5-699">Use <xref:System.Windows.Automation.ItemContainerPattern> para iterar en todos los elementos de <xref:System.Windows.Automation.Peers.ItemsControlAutomationPeer>.</span><span class="sxs-lookup"><span data-stu-id="812d5-699">Use <xref:System.Windows.Automation.ItemContainerPattern> to iterate over all items of an <xref:System.Windows.Automation.Peers.ItemsControlAutomationPeer>.</span></span> |

### <a name="xaml"></a><span data-ttu-id="812d5-700">XAML</span><span class="sxs-lookup"><span data-stu-id="812d5-700">XAML</span></span>

<span data-ttu-id="812d5-701">Espacios de nombres: <xref:System.Windows>, <xref:System.Windows.Controls>, <xref:System.Windows.Data>, <xref:System.Windows.Input>, <xref:System.Windows.Markup>; ensamblados: PresentationFramework (en PresentationFramework.dll), PresentationCore (en PresentationCore.dll), WindowsBase (en WindowsBase.dll)</span><span class="sxs-lookup"><span data-stu-id="812d5-701">Namespaces: <xref:System.Windows>, <xref:System.Windows.Controls>, <xref:System.Windows.Data>, <xref:System.Windows.Input>, <xref:System.Windows.Markup>; assemblies: PresentationFramework (in PresentationFramework.dll), PresentationCore (in PresentationCore.dll), WindowsBase (in WindowsBase.dll)</span></span>

| <span data-ttu-id="812d5-702">Característica</span><span class="sxs-lookup"><span data-stu-id="812d5-702">Feature</span></span> | <span data-ttu-id="812d5-703">Diferencias respecto a 3.5 SP1</span><span class="sxs-lookup"><span data-stu-id="812d5-703">Differences from 3.5 SP1</span></span> | <span data-ttu-id="812d5-704">Cambios recomendados</span><span class="sxs-lookup"><span data-stu-id="812d5-704">Recommended changes</span></span> |
| ------- | ------------------------ | ------------------- |
| <span data-ttu-id="812d5-705">**Extensión de marcado**</span><span class="sxs-lookup"><span data-stu-id="812d5-705">**Markup extension**</span></span> | <span data-ttu-id="812d5-706">WPF ahora usa siempre correctamente el valor del método <xref:System.Windows.Markup.MarkupExtension.ProvideValue%2A> en lugar de devolver el objeto <xref:System.Windows.Markup.MarkupExtension> en los casos en que se usa una extensión de marcado para establecer una propiedad o para crear un elemento en una colección.</span><span class="sxs-lookup"><span data-stu-id="812d5-706">WPF now correctly always uses the value from the <xref:System.Windows.Markup.MarkupExtension.ProvideValue%2A> method instead of returning the <xref:System.Windows.Markup.MarkupExtension> object in certain cases when a markup extension is used to set a property or to create an item in a collection.</span></span> <span data-ttu-id="812d5-707">En algunos casos, una extensión de marcado podría devolverse a sí misma.</span><span class="sxs-lookup"><span data-stu-id="812d5-707">A markup extension might return itself in some cases.</span></span> | <span data-ttu-id="812d5-708">Si la aplicación tiene acceso a un recurso que devolvía un objeto <xref:System.Windows.Markup.MarkupExtension> en versiones anteriores, haga referencia al objeto que se devuelve desde <xref:System.Windows.Markup.MarkupExtension.ProvideValue%2A>, en lugar de al objeto <xref:System.Windows.Markup.MarkupExtension>.</span><span class="sxs-lookup"><span data-stu-id="812d5-708">If your application accesses a resource that returned a <xref:System.Windows.Markup.MarkupExtension> object in earlier versions, reference the object that is returned from <xref:System.Windows.Markup.MarkupExtension.ProvideValue%2A>, instead of the <xref:System.Windows.Markup.MarkupExtension> object.</span></span> |
| <span data-ttu-id="812d5-709">**Análisis de atributos**</span><span class="sxs-lookup"><span data-stu-id="812d5-709">**Parsing attributes**</span></span> | <span data-ttu-id="812d5-710">Los atributos en XAML ahora pueden tener un solo punto.</span><span class="sxs-lookup"><span data-stu-id="812d5-710">Attributes in XAML can now have only one period.</span></span> <span data-ttu-id="812d5-711">Por ejemplo, lo siguiente es válido:</span><span class="sxs-lookup"><span data-stu-id="812d5-711">For example, the following are valid:</span></span><br><br><span data-ttu-id="812d5-712">`<Button Background="Red"/>` (ningún punto)</span><span class="sxs-lookup"><span data-stu-id="812d5-712">`<Button Background="Red"/>` (no periods)</span></span><br><br><span data-ttu-id="812d5-713">`<Button Button.Background = "Red"/>` (un punto)</span><span class="sxs-lookup"><span data-stu-id="812d5-713">`<Button Button.Background = "Red"/>` (one period)</span></span><br><br><span data-ttu-id="812d5-714">Lo siguiente ya no es válido:</span><span class="sxs-lookup"><span data-stu-id="812d5-714">The following is no longer valid:</span></span><br><br><span data-ttu-id="812d5-715">`<Button Control.Button.Background = "Red"/>` (más de un punto)</span><span class="sxs-lookup"><span data-stu-id="812d5-715">`<Button Control.Button.Background = "Red"/>` (more than one period)</span></span> | <span data-ttu-id="812d5-716">Corrija los atributos XAML que tengan más de un punto.</span><span class="sxs-lookup"><span data-stu-id="812d5-716">Correct XAML attributes that have more than one period.</span></span> |

## <a name="xml"></a><span data-ttu-id="812d5-717">XML</span><span class="sxs-lookup"><span data-stu-id="812d5-717">XML</span></span>

<span data-ttu-id="812d5-718">En las filas de esta tabla se describen las mejoras en las características que antes tenían limitaciones u otros problemas.</span><span class="sxs-lookup"><span data-stu-id="812d5-718">The rows in this table describe improvements to features that previously had limitations or other issues.</span></span>

### <a name="schema-and-transforms"></a><span data-ttu-id="812d5-719">Esquemas y transformaciones</span><span class="sxs-lookup"><span data-stu-id="812d5-719">Schema and transforms</span></span>

<span data-ttu-id="812d5-720">Espacios de nombres: <xref:System.Xml.Linq>; <xref:System.Xml.Schema>, <xref:System.Xml.XPath>; ensamblados: System.Xml (en System.Xml.dll), System.Xml.Linq (en System.Xml.Linq.dll)</span><span class="sxs-lookup"><span data-stu-id="812d5-720">Namespaces: <xref:System.Xml.Linq>; <xref:System.Xml.Schema>, <xref:System.Xml.XPath>; assemblies: System.Xml (in System.Xml.dll), System.Xml.Linq (in System.Xml.Linq.dll)</span></span>

| <span data-ttu-id="812d5-721">Característica</span><span class="sxs-lookup"><span data-stu-id="812d5-721">Feature</span></span> | <span data-ttu-id="812d5-722">Diferencias respecto a 3.5 SP1</span><span class="sxs-lookup"><span data-stu-id="812d5-722">Differences from 3.5 SP1</span></span> |
| ------- | ------------------------ |
| <span data-ttu-id="812d5-723">**Esquemas camaleónicos**</span><span class="sxs-lookup"><span data-stu-id="812d5-723">**Chameleon schemas**</span></span> | <span data-ttu-id="812d5-724">Para evitar daños en los datos, los esquemas camaleónicos ahora se clonan correctamente cuando se incluyen con varios esquemas.</span><span class="sxs-lookup"><span data-stu-id="812d5-724">To prevent data corruption, chameleon schemas are now cloned correctly when they are included with multiple schemas.</span></span><br><br><span data-ttu-id="812d5-725">Los camaleónicos son aquellos que no tienen un espacio de nombres de destino y que, cuando se incluyen en otro esquema XSD, toman el espacio de nombres de destino del esquema de importación.</span><span class="sxs-lookup"><span data-stu-id="812d5-725">Chameleon schemas are schemas that do not have a target namespace, and when they are included in another XSD, they take on the target namespace of the importing schema.</span></span> <span data-ttu-id="812d5-726">A menudo se usan para incluir tipos comunes en un esquema.</span><span class="sxs-lookup"><span data-stu-id="812d5-726">They are often used to include common types into a schema.</span></span> |
| <span data-ttu-id="812d5-727">**Funciones id**</span><span class="sxs-lookup"><span data-stu-id="812d5-727">**ID functions**</span></span> | <span data-ttu-id="812d5-728">La [función id](/sql/xquery/functions-on-sequences-id) de XSLT ahora devuelve el valor correcto en lugar de NULL cuando se pasa un objeto <xref:System.Xml.XmlReader> a una transformación XSLT.</span><span class="sxs-lookup"><span data-stu-id="812d5-728">The XSLT [id function](/sql/xquery/functions-on-sequences-id) now returns the correct value instead of null when an <xref:System.Xml.XmlReader> object is passed to an XLST.</span></span><br><br><span data-ttu-id="812d5-729">Si el usuario creaba un objeto <xref:System.Xml.XmlReader> a partir de una clase LINQ to XML mediante el método <xref:System.Xml.Linq.XNode.CreateReader%2A> y dicho objeto <xref:System.Xml.XmlReader> se pasaba a una transformación XSLT, todas las instancias de la función `id` de la transformación XSLT anteriormente devolvían el valor NULL.</span><span class="sxs-lookup"><span data-stu-id="812d5-729">If the user created an <xref:System.Xml.XmlReader> object from a LINQ to XML class by using the <xref:System.Xml.Linq.XNode.CreateReader%2A> method, and this <xref:System.Xml.XmlReader> object was passed to an XSLT, any instances of the `id` function in the XSLT previously returned null.</span></span> <span data-ttu-id="812d5-730">Este valor devuelto no se permite para la función `id`.</span><span class="sxs-lookup"><span data-stu-id="812d5-730">This is not an allowed return value for the `id` function.</span></span> |
| <span data-ttu-id="812d5-731">**Atributo Namespace**</span><span class="sxs-lookup"><span data-stu-id="812d5-731">**Namespace attribute**</span></span> | <span data-ttu-id="812d5-732">Para evitar daños en los datos, los objetos <xref:System.Xml.XPath.XPathNavigator> ahora devuelven correctamente el nombre local del atributo `x:xmlns`.</span><span class="sxs-lookup"><span data-stu-id="812d5-732">To prevent data corruption, an <xref:System.Xml.XPath.XPathNavigator> object now returns the local name of the `x:xmlns` attribute correctly.</span></span> |
| <span data-ttu-id="812d5-733">**Declaraciones de espacio de nombres**</span><span class="sxs-lookup"><span data-stu-id="812d5-733">**Namespace declarations**</span></span> | <span data-ttu-id="812d5-734">Los objetos <xref:System.Xml.XmlReader> de un subárbol ya no crean declaraciones de espacio de nombres duplicadas en un elemento XML.</span><span class="sxs-lookup"><span data-stu-id="812d5-734">An <xref:System.Xml.XmlReader> object on a sub-tree no longer creates duplicate namespace declarations within one XML element.</span></span> |
| <span data-ttu-id="812d5-735">**Validación de esquemas**</span><span class="sxs-lookup"><span data-stu-id="812d5-735">**Schema validation**</span></span> | <span data-ttu-id="812d5-736">Para evitar la validación de esquemas errónea, la clase <xref:System.Xml.Schema.XmlSchemaSet> permite que los esquemas XSD se compilen de forma correcta y coherente.</span><span class="sxs-lookup"><span data-stu-id="812d5-736">To prevent erroneous schema validation, the <xref:System.Xml.Schema.XmlSchemaSet> class allows for XSD schemas to be compiled correctly and consistently.</span></span> <span data-ttu-id="812d5-737">Estos esquemas pueden incluir otros esquemas. Por ejemplo, `A.xsd` puede incluir `B.xsd`, que puede incluir `C.xsd`.</span><span class="sxs-lookup"><span data-stu-id="812d5-737">These schemas can include other schemas; for example, `A.xsd` can include `B.xsd`, which can include `C.xsd`.</span></span> <span data-ttu-id="812d5-738">La acción de compilar alguno de estos esquemas hace que se atraviese este gráfico de dependencias.</span><span class="sxs-lookup"><span data-stu-id="812d5-738">Compiling any one of these causes this graph of dependencies to be traversed.</span></span> |
| <span data-ttu-id="812d5-739">**Funciones de script**</span><span class="sxs-lookup"><span data-stu-id="812d5-739">**Script functions**</span></span> | <span data-ttu-id="812d5-740">La [función function-available](https://msdn.microsoft.com/library/ms256124(v=vs.110).aspx) ya no devuelve incorrectamente `false` cuando la función está realmente disponible.</span><span class="sxs-lookup"><span data-stu-id="812d5-740">The [function-available function](https://msdn.microsoft.com/library/ms256124(v=vs.110).aspx) no longer incorrectly returns `false` when the function is actually available.</span></span> |
| <span data-ttu-id="812d5-741">**URI**</span><span class="sxs-lookup"><span data-stu-id="812d5-741">**URIs**</span></span> | <span data-ttu-id="812d5-742">El método <xref:System.Xml.Linq.XElement.Load%2A> ahora devuelve el valor de BaseURI correcto en consultas LINQ.</span><span class="sxs-lookup"><span data-stu-id="812d5-742">The <xref:System.Xml.Linq.XElement.Load%2A> method now returns the correct BaseURI in LINQ queries.</span></span> |

### <a name="validation"></a><span data-ttu-id="812d5-743">Validación</span><span class="sxs-lookup"><span data-stu-id="812d5-743">Validation</span></span>

<span data-ttu-id="812d5-744">Espacios de nombres: <xref:System.Xml.Linq>; <xref:System.Xml.Schema>, <xref:System.Xml.XPath>; ensamblados: System.Xml (en System.Xml.dll), System.Xml.Linq (en System.Xml.Linq.dll)</span><span class="sxs-lookup"><span data-stu-id="812d5-744">Namespaces: <xref:System.Xml.Linq>; <xref:System.Xml.Schema>, <xref:System.Xml.XPath>; assemblies: System.Xml (in System.Xml.dll), System.Xml.Linq (in System.Xml.Linq.dll)</span></span>

| <span data-ttu-id="812d5-745">Característica</span><span class="sxs-lookup"><span data-stu-id="812d5-745">Feature</span></span> | <span data-ttu-id="812d5-746">Diferencias respecto a 3.5 SP1</span><span class="sxs-lookup"><span data-stu-id="812d5-746">Differences from 3.5 SP1</span></span> |
| ------- | ------------------------ |
| <span data-ttu-id="812d5-747">**Resoluciones de espacio de nombres**</span><span class="sxs-lookup"><span data-stu-id="812d5-747">**Namespace resolvers**</span></span> | <span data-ttu-id="812d5-748">El método <xref:System.Xml.XmlReader.ReadContentAs%2A> ya no omite la resolución <xref:System.Xml.IXmlNamespaceResolver> que se le pasa.</span><span class="sxs-lookup"><span data-stu-id="812d5-748">The <xref:System.Xml.XmlReader.ReadContentAs%2A> method no longer ignores the <xref:System.Xml.IXmlNamespaceResolver> resolver passed to it.</span></span><br><br><span data-ttu-id="812d5-749">En versiones anteriores, se omitía la resolución de espacio de nombres especificada y se usaba <xref:System.Xml.XmlReader> en su lugar.</span><span class="sxs-lookup"><span data-stu-id="812d5-749">In previous versions, the specified namespace resolver was ignored, and the <xref:System.Xml.XmlReader> was used instead.</span></span> |
| <span data-ttu-id="812d5-750">**Espacio en blanco**</span><span class="sxs-lookup"><span data-stu-id="812d5-750">**White space**</span></span> | <span data-ttu-id="812d5-751">Para evitar la pérdida de datos al crear un lector, el método <xref:System.Xml.XmlReader.Create%2A> ya no descarta el espacio en blanco significativo.</span><span class="sxs-lookup"><span data-stu-id="812d5-751">To prevent data loss when you are creating a reader, the <xref:System.Xml.XmlReader.Create%2A> method no longer discards significant white space.</span></span><br><br><span data-ttu-id="812d5-752">La validación de XML reconoce el modo de contenido mixto, en el que el texto se puede combinar con marcado XML.</span><span class="sxs-lookup"><span data-stu-id="812d5-752">XML validation recognizes mixed-content mode, where text can be intermixed with XML markup.</span></span> <span data-ttu-id="812d5-753">En modo mixto, todo el espacio en blanco es significativo y se debe notificar.</span><span class="sxs-lookup"><span data-stu-id="812d5-753">In mixed mode, all white space is significant and should be reported.</span></span> |

### <a name="writing"></a><span data-ttu-id="812d5-754">Escritura</span><span class="sxs-lookup"><span data-stu-id="812d5-754">Writing</span></span>

<span data-ttu-id="812d5-755">Espacios de nombres: <xref:System.Xml.Linq>; <xref:System.Xml.Schema>, <xref:System.Xml.XPath>; ensamblados: System.Xml (en System.Xml.dll), System.Xml.Linq (en System.Xml.Linq.dll)</span><span class="sxs-lookup"><span data-stu-id="812d5-755">Namespaces: <xref:System.Xml.Linq>; <xref:System.Xml.Schema>, <xref:System.Xml.XPath>; assemblies: System.Xml (in System.Xml.dll), System.Xml.Linq (in System.Xml.Linq.dll)</span></span>

| <span data-ttu-id="812d5-756">Característica</span><span class="sxs-lookup"><span data-stu-id="812d5-756">Feature</span></span> | <span data-ttu-id="812d5-757">Diferencias respecto a 3.5 SP1</span><span class="sxs-lookup"><span data-stu-id="812d5-757">Differences from 3.5 SP1</span></span> |
| ------- | ------------------------ |
| <span data-ttu-id="812d5-758">**Referencias a entidades**</span><span class="sxs-lookup"><span data-stu-id="812d5-758">**Entity references**</span></span> | <span data-ttu-id="812d5-759">Para evitar daños en los datos, ya no se crean dos entidades de las referencias a entidades en los atributos XML.</span><span class="sxs-lookup"><span data-stu-id="812d5-759">To prevent data corruption, entity references are no longer entitized twice in XML attributes.</span></span><br><br><span data-ttu-id="812d5-760">Si el usuario intentaba escribir una entidad en un atributo `xmlns` o en los atributos `xml:lang` o `xml:space` mediante el método <xref:System.Xml.XmlWriter.WriteEntityRef%2A>, se creaban dos entidades de la entidad en la salida, lo que dañaba los datos.</span><span class="sxs-lookup"><span data-stu-id="812d5-760">If the user tried to write an entity into an `xmlns` attribute or into an `xml:lang` or `xml:space` attribute by using the <xref:System.Xml.XmlWriter.WriteEntityRef%2A> method, the entity was entitized twice in the output, therefore corrupting the data.</span></span> |
| <span data-ttu-id="812d5-761">**Control de nueva línea**</span><span class="sxs-lookup"><span data-stu-id="812d5-761">**New line handling**</span></span> | <span data-ttu-id="812d5-762">Para evitar daños en los datos, los objetos <xref:System.Xml.XmlWriter> respetan la opción <xref:System.Xml.NewLineHandling>.</span><span class="sxs-lookup"><span data-stu-id="812d5-762">To prevent data corruption, <xref:System.Xml.XmlWriter> objects respect the <xref:System.Xml.NewLineHandling> option.</span></span> |

## <a name="see-also"></a><span data-ttu-id="812d5-763">Vea también</span><span class="sxs-lookup"><span data-stu-id="812d5-763">See also</span></span>

### <a name="reference"></a><span data-ttu-id="812d5-764">Referencia</span><span class="sxs-lookup"><span data-stu-id="812d5-764">Reference</span></span>

<span data-ttu-id="812d5-765">[Nuevos tipos y miembros en .NET Framework 4](https://msdn.microsoft.com/library/ff641764(v=vs.100).aspx)</span><span class="sxs-lookup"><span data-stu-id="812d5-765">[New Types and Members in the .NET Framework 4](https://msdn.microsoft.com/library/ff641764(v=vs.100).aspx)</span></span>

### <a name="concepts"></a><span data-ttu-id="812d5-766">Conceptos</span><span class="sxs-lookup"><span data-stu-id="812d5-766">Concepts</span></span>

<span data-ttu-id="812d5-767">[Guía de migración para .NET Framework 4](https://msdn.microsoft.com/library/ff657133(v=vs.100).aspx) </span><span class="sxs-lookup"><span data-stu-id="812d5-767">[Migration Guide to the .NET Framework 4](https://msdn.microsoft.com/library/ff657133(v=vs.100).aspx) </span></span>  
<span data-ttu-id="812d5-768">[Novedades de .NET Framework 4](https://msdn.microsoft.com/library/ms171868(v=vs.100).aspx) </span><span class="sxs-lookup"><span data-stu-id="812d5-768">[What's New in the .NET Framework 4](https://msdn.microsoft.com/library/ms171868(v=vs.100).aspx) </span></span>  
<span data-ttu-id="812d5-769">[Compatibilidad de versiones en .NET Framework](../../../docs/framework/migration-guide/version-compatibility.md) </span><span class="sxs-lookup"><span data-stu-id="812d5-769">[Version Compatibility in the .NET Framework](../../../docs/framework/migration-guide/version-compatibility.md) </span></span>  
[<span data-ttu-id="812d5-770">Migrar soluciones de Office a .NET Framework 4</span><span class="sxs-lookup"><span data-stu-id="812d5-770">Migrating Office Solutions to the .NET Framework 4</span></span>](https://msdn.microsoft.com/library/ee207231.aspx)

### <a name="other-resources"></a><span data-ttu-id="812d5-771">Otros recursos</span><span class="sxs-lookup"><span data-stu-id="812d5-771">Other resources</span></span>

<span data-ttu-id="812d5-772">[Lo obsoleto en .NET Framework](https://msdn.microsoft.com/library/ee461502(v=vs.110).aspx) </span><span class="sxs-lookup"><span data-stu-id="812d5-772">[What's Obsolete in the .NET Framework](https://msdn.microsoft.com/library/ee461502(v=vs.110).aspx) </span></span>  
[<span data-ttu-id="812d5-773">Problemas de migración de aplicaciones de .NET Framework 4: de Beta 2 a RTM</span><span class="sxs-lookup"><span data-stu-id="812d5-773">Migration Issues for .NET Framework 4 Applications: Beta 2 to RTM</span></span>](https://go.microsoft.com/fwlink/?LinkId=191505)
