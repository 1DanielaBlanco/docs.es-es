---
title: "Diagnóstico de errores con asistentes de depuraciones administradas"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-clr
ms.tgt_pltfrm: 
ms.topic: article
f1_keywords: EHMDA
helpviewer_keywords:
- run-time error debugging
- managed code, run-time debugging
- resource debugging
- registry, MDAs
- common language runtime, debugging
- MDAs (managed debugging assistants)
- configuration files [.NET Framework], debugging runtime events
- messages, managed debugging assistants
- application configuration files, managed debugging assistants
- debugging [.NET Framework], managed debugging assistants
- environment variables, MDAs
- access violation debugging [.NET Framework]
- diagnostics, managed debugging assistants
- unmanaged code, run-time debugging
- default debug output stream
- memory, debugging
- app.config files, managed debugging assistants
- managed debugging assistants (MDAs)
- debugging [.NET Framework], run-time errors
- trapping events
- runtime, error debugging
- disabling MDAs
- output, managed debugging assistants
- errors [.NET Framework], managed debugging assistants
ms.assetid: 76994ee6-9fa9-4059-b813-26578d24427c
caps.latest.revision: "63"
author: mairaw
ms.author: mairaw
manager: wpickett
ms.workload: dotnet
ms.openlocfilehash: 12a96068412f05d48b8b006385c66f3efbbf9870
ms.sourcegitcommit: 16186c34a957fdd52e5db7294f291f7530ac9d24
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 12/22/2017
---
# <a name="diagnosing-errors-with-managed-debugging-assistants"></a><span data-ttu-id="b6c41-102">Diagnóstico de errores con asistentes de depuraciones administradas</span><span class="sxs-lookup"><span data-stu-id="b6c41-102">Diagnosing Errors with Managed Debugging Assistants</span></span>
<span data-ttu-id="b6c41-103">Los asistentes de depuración administrada (MDA) son ayudas para la depuración que funcionan en conjunción con Common Language Runtime (CLR) para proporcionar información sobre estado en tiempo de ejecución.</span><span class="sxs-lookup"><span data-stu-id="b6c41-103">Managed debugging assistants (MDAs) are debugging aids that work in conjunction with the common language runtime (CLR) to provide information on runtime state.</span></span> <span data-ttu-id="b6c41-104">Los asistentes generan mensajes informativos sobre eventos en tiempo de ejecución que de otra forma no pueden interceptar.</span><span class="sxs-lookup"><span data-stu-id="b6c41-104">The assistants generate informational messages about runtime events that you cannot otherwise trap.</span></span> <span data-ttu-id="b6c41-105">Puede utilizar MDA para aislar errores de la aplicación difíciles de encontrar que aparecen al realizar la transición entre código administrado y no administrado.</span><span class="sxs-lookup"><span data-stu-id="b6c41-105">You can use MDAs to isolate hard-to-find application bugs that occur when transitioning between managed and unmanaged code.</span></span> <span data-ttu-id="b6c41-106">Puede habilitar o deshabilitar todos los MDA si agrega una clave al Registro de Windows o establece una variable de entorno.</span><span class="sxs-lookup"><span data-stu-id="b6c41-106">You can enable or disable all MDAs by adding a key to the Windows registry or by setting an environment variable.</span></span> <span data-ttu-id="b6c41-107">Puede habilitar MDA específicos mediante los valores de configuración de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="b6c41-107">You can enable specific MDAs by using application configuration settings.</span></span> <span data-ttu-id="b6c41-108">Puede establecer opciones de configuración adicionales para algunos MDA concretos en el archivo de configuración de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="b6c41-108">You can set additional configuration settings for some individual MDAs in the application's configuration file.</span></span> <span data-ttu-id="b6c41-109">Dado que estos archivos de configuración se analizan cuando se carga el motor en tiempo de ejecución, debe habilitar el MDA antes de que se inicie la aplicación administrada.</span><span class="sxs-lookup"><span data-stu-id="b6c41-109">Because these configuration files are parsed when the runtime is loaded, you must enable the MDA before the managed application starts.</span></span> <span data-ttu-id="b6c41-110">No puede habilitarlo para aplicaciones que ya se han iniciado.</span><span class="sxs-lookup"><span data-stu-id="b6c41-110">You cannot enable it for applications that have already started.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="b6c41-111">Cuando se habilita un asistente para la depuración administrada (MDA), está activo aunque el código no se esté ejecutando en un depurador.</span><span class="sxs-lookup"><span data-stu-id="b6c41-111">When an MDA is enabled, it is active even when your code is not executing under a debugger.</span></span> <span data-ttu-id="b6c41-112">Si se genera un evento MDA cuando un depurador no está presente, el mensaje del evento se presenta en un cuadro de diálogo de excepción no controlada, aunque no se trata de una excepción no controlada.</span><span class="sxs-lookup"><span data-stu-id="b6c41-112">If an MDA event is raised when a debugger is not present, the event message is presented in an unhandled exception dialog box, although it is not an unhandled exception.</span></span> <span data-ttu-id="b6c41-113">Para evitar el cuadro de diálogo, quite las opciones que habilitan MDA cuando el código no se está ejecutando en un entorno de depuración.</span><span class="sxs-lookup"><span data-stu-id="b6c41-113">To avoid the dialog box, remove the MDA-enabling settings when your code is not executing in a debugging environment.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="b6c41-114">Cuando el código se ejecuta en el entorno de desarrollo integrado (IDE) de Visual Studio, puede evitar el cuadro de diálogo de excepciones que aparece con determinados eventos de MDA.</span><span class="sxs-lookup"><span data-stu-id="b6c41-114">When your code is executing in the Visual Studio integrated development environment (IDE), you can avoid the exception dialog box that appears for specific MDA events.</span></span> <span data-ttu-id="b6c41-115">Para ello, en el menú **Depurar**, haga clic en **Excepciones**.</span><span class="sxs-lookup"><span data-stu-id="b6c41-115">To do that, on the **Debug** menu, click **Exceptions**.</span></span> <span data-ttu-id="b6c41-116">(Si el menú **Depurar** no contiene el comando **Excepciones**, haga clic en **Personalizar** en el menú **Herramientas** para agregarlo). En el cuadro de diálogo **Excepciones**, expanda la lista **Asistentes para la depuración administrada** y, después, desactive la casilla **Producida** de cada MDA.</span><span class="sxs-lookup"><span data-stu-id="b6c41-116">(If the **Debug** menu does not contain an **Exceptions** command, click **Customize** on the **Tools** menu to add it.) In the **Exceptions** dialog box, expand the **Managed Debugging Assistants** list, and then clear the **Thrown** check box for the individual MDA.</span></span> <span data-ttu-id="b6c41-117">Por ejemplo, para evitar el cuadro de diálogo de excepciones de [contextSwitchDeadlock](../../../docs/framework/debug-trace-profile/contextswitchdeadlock-mda.md), desactive la casilla **Producida** situada junto a su nombre en la lista **Asistentes para la depuración administrada**.</span><span class="sxs-lookup"><span data-stu-id="b6c41-117">For example, to avoid the exception dialog box for a [contextSwitchDeadlock](../../../docs/framework/debug-trace-profile/contextswitchdeadlock-mda.md) clear the **Thrown** check box next to its name in the **Managed Debugging Assistants** list.</span></span> <span data-ttu-id="b6c41-118">También puede usar este cuadro de diálogo para habilitar la presentación de los cuadros de diálogo de excepciones de MDA.</span><span class="sxs-lookup"><span data-stu-id="b6c41-118">You can also use this dialog box to enable the display of MDA exception dialog boxes.</span></span>  
  
 <span data-ttu-id="b6c41-119">La tabla siguiente muestra los MDA incluidos con .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="b6c41-119">The following table lists the MDAs that ship with the .NET Framework.</span></span>  
  
|||  
|-|-|  
|[<span data-ttu-id="b6c41-120">asynchronousThreadAbort</span><span class="sxs-lookup"><span data-stu-id="b6c41-120">asynchronousThreadAbort</span></span>](../../../docs/framework/debug-trace-profile/asynchronousthreadabort-mda.md)|[<span data-ttu-id="b6c41-121">bindingFailure</span><span class="sxs-lookup"><span data-stu-id="b6c41-121">bindingFailure</span></span>](../../../docs/framework/debug-trace-profile/bindingfailure-mda.md)|  
|[<span data-ttu-id="b6c41-122">callbackOnCollectedDelegate</span><span class="sxs-lookup"><span data-stu-id="b6c41-122">callbackOnCollectedDelegate</span></span>](../../../docs/framework/debug-trace-profile/callbackoncollecteddelegate-mda.md)|[<span data-ttu-id="b6c41-123">contextSwitchDeadlock</span><span class="sxs-lookup"><span data-stu-id="b6c41-123">contextSwitchDeadlock</span></span>](../../../docs/framework/debug-trace-profile/contextswitchdeadlock-mda.md)|  
|[<span data-ttu-id="b6c41-124">dangerousThreadingAPI</span><span class="sxs-lookup"><span data-stu-id="b6c41-124">dangerousThreadingAPI</span></span>](../../../docs/framework/debug-trace-profile/dangerousthreadingapi-mda.md)|[<span data-ttu-id="b6c41-125">dateTimeInvalidLocalFormat</span><span class="sxs-lookup"><span data-stu-id="b6c41-125">dateTimeInvalidLocalFormat</span></span>](../../../docs/framework/debug-trace-profile/datetimeinvalidlocalformat-mda.md)|  
|[<span data-ttu-id="b6c41-126">dirtyCastAndCallOnInterface</span><span class="sxs-lookup"><span data-stu-id="b6c41-126">dirtyCastAndCallOnInterface</span></span>](../../../docs/framework/debug-trace-profile/dirtycastandcalloninterface-mda.md)|[<span data-ttu-id="b6c41-127">disconnectedContext</span><span class="sxs-lookup"><span data-stu-id="b6c41-127">disconnectedContext</span></span>](../../../docs/framework/debug-trace-profile/disconnectedcontext-mda.md)|  
|[<span data-ttu-id="b6c41-128">dllMainReturnsFalse</span><span class="sxs-lookup"><span data-stu-id="b6c41-128">dllMainReturnsFalse</span></span>](../../../docs/framework/debug-trace-profile/dllmainreturnsfalse-mda.md)|[<span data-ttu-id="b6c41-129">exceptionSwallowedOnCallFromCom</span><span class="sxs-lookup"><span data-stu-id="b6c41-129">exceptionSwallowedOnCallFromCom</span></span>](../../../docs/framework/debug-trace-profile/exceptionswallowedoncallfromcom-mda.md)|  
|[<span data-ttu-id="b6c41-130">failedQI</span><span class="sxs-lookup"><span data-stu-id="b6c41-130">failedQI</span></span>](../../../docs/framework/debug-trace-profile/failedqi-mda.md)|[<span data-ttu-id="b6c41-131">fatalExecutionEngineError</span><span class="sxs-lookup"><span data-stu-id="b6c41-131">fatalExecutionEngineError</span></span>](../../../docs/framework/debug-trace-profile/fatalexecutionengineerror-mda.md)|  
|[<span data-ttu-id="b6c41-132">gcManagedToUnmanaged</span><span class="sxs-lookup"><span data-stu-id="b6c41-132">gcManagedToUnmanaged</span></span>](../../../docs/framework/debug-trace-profile/gcmanagedtounmanaged-mda.md)|[<span data-ttu-id="b6c41-133">gcUnmanagedToManaged</span><span class="sxs-lookup"><span data-stu-id="b6c41-133">gcUnmanagedToManaged</span></span>](../../../docs/framework/debug-trace-profile/gcunmanagedtomanaged-mda.md)|  
|[<span data-ttu-id="b6c41-134">illegalPrepareConstrainedRegion</span><span class="sxs-lookup"><span data-stu-id="b6c41-134">illegalPrepareConstrainedRegion</span></span>](../../../docs/framework/debug-trace-profile/illegalprepareconstrainedregion-mda.md)|[<span data-ttu-id="b6c41-135">invalidApartmentStateChange</span><span class="sxs-lookup"><span data-stu-id="b6c41-135">invalidApartmentStateChange</span></span>](../../../docs/framework/debug-trace-profile/invalidapartmentstatechange-mda.md)|  
|[<span data-ttu-id="b6c41-136">invalidCERCall</span><span class="sxs-lookup"><span data-stu-id="b6c41-136">invalidCERCall</span></span>](../../../docs/framework/debug-trace-profile/invalidcercall-mda.md)|[<span data-ttu-id="b6c41-137">invalidFunctionPointerInDelegate</span><span class="sxs-lookup"><span data-stu-id="b6c41-137">invalidFunctionPointerInDelegate</span></span>](../../../docs/framework/debug-trace-profile/invalidfunctionpointerindelegate-mda.md)|  
|[<span data-ttu-id="b6c41-138">invalidGCHandleCookie</span><span class="sxs-lookup"><span data-stu-id="b6c41-138">invalidGCHandleCookie</span></span>](../../../docs/framework/debug-trace-profile/invalidgchandlecookie-mda.md)|[<span data-ttu-id="b6c41-139">invalidIUnknown</span><span class="sxs-lookup"><span data-stu-id="b6c41-139">invalidIUnknown</span></span>](../../../docs/framework/debug-trace-profile/invalidiunknown-mda.md)|  
|[<span data-ttu-id="b6c41-140">invalidMemberDeclaration</span><span class="sxs-lookup"><span data-stu-id="b6c41-140">invalidMemberDeclaration</span></span>](../../../docs/framework/debug-trace-profile/invalidmemberdeclaration-mda.md)|[<span data-ttu-id="b6c41-141">invalidOverlappedToPinvoke</span><span class="sxs-lookup"><span data-stu-id="b6c41-141">invalidOverlappedToPinvoke</span></span>](../../../docs/framework/debug-trace-profile/invalidoverlappedtopinvoke-mda.md)|  
|[<span data-ttu-id="b6c41-142">invalidVariant</span><span class="sxs-lookup"><span data-stu-id="b6c41-142">invalidVariant</span></span>](../../../docs/framework/debug-trace-profile/invalidvariant-mda.md)|[<span data-ttu-id="b6c41-143">jitCompilationStart</span><span class="sxs-lookup"><span data-stu-id="b6c41-143">jitCompilationStart</span></span>](../../../docs/framework/debug-trace-profile/jitcompilationstart-mda.md)|  
|[<span data-ttu-id="b6c41-144">loaderLock</span><span class="sxs-lookup"><span data-stu-id="b6c41-144">loaderLock</span></span>](../../../docs/framework/debug-trace-profile/loaderlock-mda.md)|[<span data-ttu-id="b6c41-145">loadFromContext</span><span class="sxs-lookup"><span data-stu-id="b6c41-145">loadFromContext</span></span>](../../../docs/framework/debug-trace-profile/loadfromcontext-mda.md)|  
|[<span data-ttu-id="b6c41-146">marshalCleanupError</span><span class="sxs-lookup"><span data-stu-id="b6c41-146">marshalCleanupError</span></span>](../../../docs/framework/debug-trace-profile/marshalcleanuperror-mda.md)|[<span data-ttu-id="b6c41-147">marshaling</span><span class="sxs-lookup"><span data-stu-id="b6c41-147">marshaling</span></span>](../../../docs/framework/debug-trace-profile/marshaling-mda.md)|  
|[<span data-ttu-id="b6c41-148">memberInfoCacheCreation</span><span class="sxs-lookup"><span data-stu-id="b6c41-148">memberInfoCacheCreation</span></span>](../../../docs/framework/debug-trace-profile/memberinfocachecreation-mda.md)|[<span data-ttu-id="b6c41-149">moduloObjectHashcode</span><span class="sxs-lookup"><span data-stu-id="b6c41-149">moduloObjectHashcode</span></span>](../../../docs/framework/debug-trace-profile/moduloobjecthashcode-mda.md)|  
|[<span data-ttu-id="b6c41-150">nonComVisibleBaseClass</span><span class="sxs-lookup"><span data-stu-id="b6c41-150">nonComVisibleBaseClass</span></span>](../../../docs/framework/debug-trace-profile/noncomvisiblebaseclass-mda.md)|[<span data-ttu-id="b6c41-151">notMarshalable</span><span class="sxs-lookup"><span data-stu-id="b6c41-151">notMarshalable</span></span>](../../../docs/framework/debug-trace-profile/notmarshalable-mda.md)|  
|[<span data-ttu-id="b6c41-152">openGenericCERCall</span><span class="sxs-lookup"><span data-stu-id="b6c41-152">openGenericCERCall</span></span>](../../../docs/framework/debug-trace-profile/opengenericcercall-mda.md)|[<span data-ttu-id="b6c41-153">overlappedFreeError</span><span class="sxs-lookup"><span data-stu-id="b6c41-153">overlappedFreeError</span></span>](../../../docs/framework/debug-trace-profile/overlappedfreeerror-mda.md)|  
|[<span data-ttu-id="b6c41-154">pInvokeLog</span><span class="sxs-lookup"><span data-stu-id="b6c41-154">pInvokeLog</span></span>](../../../docs/framework/debug-trace-profile/pinvokelog-mda.md)|[<span data-ttu-id="b6c41-155">pInvokeStackImbalance</span><span class="sxs-lookup"><span data-stu-id="b6c41-155">pInvokeStackImbalance</span></span>](../../../docs/framework/debug-trace-profile/pinvokestackimbalance-mda.md)|  
|[<span data-ttu-id="b6c41-156">raceOnRCWCleanup</span><span class="sxs-lookup"><span data-stu-id="b6c41-156">raceOnRCWCleanup</span></span>](../../../docs/framework/debug-trace-profile/raceonrcwcleanup-mda.md)|[<span data-ttu-id="b6c41-157">reentrancy</span><span class="sxs-lookup"><span data-stu-id="b6c41-157">reentrancy</span></span>](../../../docs/framework/debug-trace-profile/reentrancy-mda.md)|  
|[<span data-ttu-id="b6c41-158">releaseHandleFailed</span><span class="sxs-lookup"><span data-stu-id="b6c41-158">releaseHandleFailed</span></span>](../../../docs/framework/debug-trace-profile/releasehandlefailed-mda.md)|[<span data-ttu-id="b6c41-159">reportAvOnComRelease</span><span class="sxs-lookup"><span data-stu-id="b6c41-159">reportAvOnComRelease</span></span>](../../../docs/framework/debug-trace-profile/reportavoncomrelease-mda.md)|  
|[<span data-ttu-id="b6c41-160">streamWriterBufferedDataLost</span><span class="sxs-lookup"><span data-stu-id="b6c41-160">streamWriterBufferedDataLost</span></span>](../../../docs/framework/debug-trace-profile/streamwriterbuffereddatalost-mda.md)|[<span data-ttu-id="b6c41-161">virtualCERCall</span><span class="sxs-lookup"><span data-stu-id="b6c41-161">virtualCERCall</span></span>](../../../docs/framework/debug-trace-profile/virtualcercall-mda.md)|  
  
 <span data-ttu-id="b6c41-162">De forma predeterminada, .NET Framework activa un subconjunto de MDA para todos los depuradores administrados.</span><span class="sxs-lookup"><span data-stu-id="b6c41-162">By default, the .NET Framework activates a subset of MDAs for all managed debuggers.</span></span> <span data-ttu-id="b6c41-163">Para ver el valor predeterminado en Visual Studio, haga clic en **Excepciones** en el menú **Depurar**, y expanda la lista **Asistentes para la depuración administrada**.</span><span class="sxs-lookup"><span data-stu-id="b6c41-163">You can view the default set in Visual Studio by clicking **Exceptions** on the **Debug** menu and expanding the **Managed Debugging Assistants** list.</span></span>  
  
## <a name="enabling-and-disabling-mdas"></a><span data-ttu-id="b6c41-164">Habilitar y deshabilitar MDA</span><span class="sxs-lookup"><span data-stu-id="b6c41-164">Enabling and Disabling MDAs</span></span>  
 <span data-ttu-id="b6c41-165">Puede habilitar y deshabilitar los MDA mediante una clave del Registro, una variable de entorno o valores de configuración de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="b6c41-165">You can enable and disable MDAs by using a registry key, an environment variable, and application configuration settings.</span></span> <span data-ttu-id="b6c41-166">La clave del Registro o la variable de entorno tienen que estar habilitadas para utilizar los valores de configuración de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="b6c41-166">You must enable either the registry key or the environment variable to use the application configuration settings.</span></span>  
  
 <span data-ttu-id="b6c41-167">En Visual Studio 2005 y versiones posteriores, cuando se habilita el proceso de hospedaje, no se pueden deshabilitar los MDA que están en el conjunto predeterminado ni habilitar los MDA que no están en el conjunto predeterminado.</span><span class="sxs-lookup"><span data-stu-id="b6c41-167">In Visual Studio 2005 and later versions, when the hosting process is enabled, you cannot disable MDAs that are in the default set or enable MDAs that are not in the default set.</span></span> <span data-ttu-id="b6c41-168">De forma predeterminada, el proceso de hospedaje está habilitado, por lo que debe deshabilitarse explícitamente.</span><span class="sxs-lookup"><span data-stu-id="b6c41-168">The hosting process is enabled by default, so it must be explicitly disabled.</span></span>  
  
 <span data-ttu-id="b6c41-169">Para deshabilitar el proceso de hospedaje en Visual Studio, haga lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="b6c41-169">To disable the hosting process in Visual Studio, do the following:</span></span>  
  
1.  <span data-ttu-id="b6c41-170">En el **Explorador de soluciones**, seleccione un proyecto.</span><span class="sxs-lookup"><span data-stu-id="b6c41-170">In **Solution Explorer**, select a project.</span></span>  
  
2.  <span data-ttu-id="b6c41-171">En el menú **Proyecto**, haga clic en **Propiedades**.</span><span class="sxs-lookup"><span data-stu-id="b6c41-171">On the **Project** menu, click **Properties**.</span></span>  
  
     <span data-ttu-id="b6c41-172">Aparece la ventana **Diseñador de proyectos**.</span><span class="sxs-lookup"><span data-stu-id="b6c41-172">The **Project Designer** window appears.</span></span>  
  
3.  <span data-ttu-id="b6c41-173">Haga clic en la pestaña **Depurar**.</span><span class="sxs-lookup"><span data-stu-id="b6c41-173">Click the **Debug** tab.</span></span>  
  
4.  <span data-ttu-id="b6c41-174">En la sección **Habilitar depuradores**, desactive la casilla **Habilitar el proceso de hospedaje de Visual Studio**.</span><span class="sxs-lookup"><span data-stu-id="b6c41-174">In the **Enable Debuggers** section, clear the **Enable the Visual Studio hosting process** check box.</span></span>  
  
 <span data-ttu-id="b6c41-175">Sin embargo, deshabilitar el proceso de hospedaje puede afectar al rendimiento.</span><span class="sxs-lookup"><span data-stu-id="b6c41-175">However, disabling the hosting process can affect performance.</span></span> <span data-ttu-id="b6c41-176">Para que no sea necesario deshabilitar los MDA, no permita que Visual Studio muestre el cuadro de diálogo MDA cuando se reciba una notificación de MDA.</span><span class="sxs-lookup"><span data-stu-id="b6c41-176">You can avoid the need to disable MDAs by preventing Visual Studio from displaying the MDA dialog box whenever an MDA notification is received.</span></span> <span data-ttu-id="b6c41-177">Para ello, haga clic en **Excepciones** en el menú **Depurar**, expanda la lista **Asistentes para la depuración administrada** y, después, active o desactive la casilla **Producida** del MDA individual.</span><span class="sxs-lookup"><span data-stu-id="b6c41-177">To do that, click **Exceptions** on the **Debug** menu, expand the **Managed Debugging Assistants** list, and then select or clear the **Thrown** check box for the individual MDA.</span></span>  
  
### <a name="enabling-and-disabling-mdas-by-using-a-registry-key"></a><span data-ttu-id="b6c41-178">Habilitar y deshabilitar MDA utilizando una clave del Registro</span><span class="sxs-lookup"><span data-stu-id="b6c41-178">Enabling and Disabling MDAs by Using a Registry Key</span></span>  
 <span data-ttu-id="b6c41-179">Puede habilitar MDA agregando la subclave HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\\.NETFramework\MDA (tipo REG_SZ, valor 1) al Registro de Windows.</span><span class="sxs-lookup"><span data-stu-id="b6c41-179">You can enable MDAs by adding the HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\\.NETFramework\MDA subkey (type REG_SZ, value 1) in the Windows registry.</span></span> <span data-ttu-id="b6c41-180">Copie el ejemplo siguiente en un archivo de texto denominado MDAEnable.reg. Abra el Editor del Registro de Windows (RegEdit.exe) y desde el menú **Archivo** elija **Importar**.</span><span class="sxs-lookup"><span data-stu-id="b6c41-180">Copy the following example into a text file named MDAEnable.reg. Open the Windows Registry Editor (RegEdit.exe) and from the **File** menu choose **Import**.</span></span> <span data-ttu-id="b6c41-181">Seleccione el archivo MDAEnable.reg para habilitar los MDA en ese equipo.</span><span class="sxs-lookup"><span data-stu-id="b6c41-181">Select the MDAEnable.reg  file to enable MDAs on that computer.</span></span> <span data-ttu-id="b6c41-182">Si se establece la subclave en un valor de cadena de 1 (no en un valor DWORD de 1), se habilita la lectura de la configuración de MDA del archivo *NombreAplicación.sufijo*.mda.config.</span><span class="sxs-lookup"><span data-stu-id="b6c41-182">Setting the subkey to string value of 1 (not DWORD value of 1) enables the reading of MDA settings from the *ApplicationName.suffix*.mda.config file.</span></span> <span data-ttu-id="b6c41-183">(Por ejemplo, el archivo de configuración de MDA para el Bloc de notas [notepad] se llamaría notepad.exe.mda.config).</span><span class="sxs-lookup"><span data-stu-id="b6c41-183">(For example the MDA configuration file for Notepad would be named notepad.exe.mda.config)</span></span>  
  
```  
Windows Registry Editor Version 5.00  
  
[HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\.NETFramework]  
"MDA"="1"  
```  
  
 <span data-ttu-id="b6c41-184">Si el equipo ejecuta una aplicación de 32 bits en un sistema operativo de 64 bits, la clave de MDA debe establecerse de la forma siguiente:</span><span class="sxs-lookup"><span data-stu-id="b6c41-184">If the computer is running a 32-bit application on a 64-bit operating system, then the MDA key should be set like the following:</span></span>  
  
```  
      Windows Registry Editor Version 5.00   
  
[HKEY_LOCAL_MACHINE\SOFTWARE\Wow6432Node\Microsoft\.NETFramework]  
"MDA"="1"  
```  
  
 <span data-ttu-id="b6c41-185">Para obtener más información, vea [Habilitar y deshabilitar MDA usando valores de configuración específicos de la aplicación](#appConfig).</span><span class="sxs-lookup"><span data-stu-id="b6c41-185">See [Enabling and Disabling MDAs by Using Application-Specific Configuration Settings](#appConfig) for more information.</span></span> <span data-ttu-id="b6c41-186">La variable de entorno COMPLUS_MDA puede invalidar la configuración del Registro.</span><span class="sxs-lookup"><span data-stu-id="b6c41-186">The registry setting can be overridden by the COMPLUS_MDA environment variable.</span></span> <span data-ttu-id="b6c41-187">Vea [Habilitar y deshabilitar MDA usando una variable de entorno](#envVariable) para obtener más información.</span><span class="sxs-lookup"><span data-stu-id="b6c41-187">See [Enabling and Disabling MDAs by Using an Environment Variable](#envVariable) for more information.</span></span>  
  
 <span data-ttu-id="b6c41-188">Para deshabilitar MDA, establezca la subclave MDA en 0 (cero) utilizando el Editor del Registro de Windows.</span><span class="sxs-lookup"><span data-stu-id="b6c41-188">To disable MDAs, set the MDA subkey to 0 (zero) using the Windows Registry Editor.</span></span>  
  
 <span data-ttu-id="b6c41-189">De forma predeterminada, algunos MDA están habilitados cuando se ejecuta una aplicación asociada a un depurador, incluso sin agregar la clave del Registro.</span><span class="sxs-lookup"><span data-stu-id="b6c41-189">By default, some MDAs are enabled when you run an application that is attached to a debugger, even without adding the registry key.</span></span> <span data-ttu-id="b6c41-190">Ejemplos de estos asistentes son [pInvokeStackImbalance](../../../docs/framework/debug-trace-profile/pinvokestackimbalance-mda.md) e [invalidApartmentStateChange](../../../docs/framework/debug-trace-profile/invalidapartmentstatechange-mda.md).</span><span class="sxs-lookup"><span data-stu-id="b6c41-190">Examples of such assistants are [pInvokeStackImbalance](../../../docs/framework/debug-trace-profile/pinvokestackimbalance-mda.md) and [invalidApartmentStateChange](../../../docs/framework/debug-trace-profile/invalidapartmentstatechange-mda.md).</span></span> <span data-ttu-id="b6c41-191">Puede deshabilitar estos asistentes ejecutando el archivo MDADisable.reg como se explica anteriormente en esta sección.</span><span class="sxs-lookup"><span data-stu-id="b6c41-191">You can disable these assistants by running the MDADisable.reg file as described earlier in this section.</span></span>  
  
<a name="envVariable"></a>   
### <a name="enabling-and-disabling-mdas-by-using-an-environment-variable"></a><span data-ttu-id="b6c41-192">Habilitar y deshabilitar MDA utilizado una variable de entorno</span><span class="sxs-lookup"><span data-stu-id="b6c41-192">Enabling and Disabling MDAs by Using an Environment Variable</span></span>  
 <span data-ttu-id="b6c41-193">La activación de MDA también puede controlarse mediante la variable de entorno COMPLUS_MDA, que reemplaza la clave del Registro.</span><span class="sxs-lookup"><span data-stu-id="b6c41-193">MDA activation can also controlled by the environment variable COMPLUS_MDA, which overrides the registry key.</span></span> <span data-ttu-id="b6c41-194">La cadena COMPLUS_MDA es una lista delimitada por puntos y comas de nombres de MDA u otras cadenas de control especiales, y no distingue entre mayúsculas y minúsculas.</span><span class="sxs-lookup"><span data-stu-id="b6c41-194">The COMPLUS_MDA string is a case-insensitive, semicolon-delimited list of MDA names or other special control strings.</span></span> <span data-ttu-id="b6c41-195">Al iniciar bajo un depurador administrado o no administrado se habilita de forma predeterminada un conjunto de MDA.</span><span class="sxs-lookup"><span data-stu-id="b6c41-195">Starting under a managed or unmanaged debugger enables a set of MDAs by default.</span></span> <span data-ttu-id="b6c41-196">Esto se realiza anteponiendo implícitamente al valor de la variable de entorno o de la clave del Registro la lista delimitada por puntos y comas de los MDA habilitados de manera predeterminada bajo depuradores.</span><span class="sxs-lookup"><span data-stu-id="b6c41-196">This is done by implicitly prepending the semicolon-delimited list of MDAs enabled by default under debuggers to the value of the environment variable or registry key.</span></span> <span data-ttu-id="b6c41-197">Las cadenas de control especiales son las siguientes:</span><span class="sxs-lookup"><span data-stu-id="b6c41-197">The special control strings are the following:</span></span>  
  
-   <span data-ttu-id="b6c41-198">`0` - Desactiva todos los MDA.</span><span class="sxs-lookup"><span data-stu-id="b6c41-198">`0` - Deactivates all MDAs.</span></span>  
  
-   <span data-ttu-id="b6c41-199">`1`: lee la configuración de MDA de *NombreAplicación*.mda.config.</span><span class="sxs-lookup"><span data-stu-id="b6c41-199">`1` - Reads MDA settings from *ApplicationName*.mda.config.</span></span>  
  
-   <span data-ttu-id="b6c41-200">`managedDebugger` - Activa explícitamente todos los MDA que se activan implícitamente cuando se inicia un ejecutable administrado bajo un depurador.</span><span class="sxs-lookup"><span data-stu-id="b6c41-200">`managedDebugger` - Explicitly activates all MDAs that are implicitly activated when a managed executable is started under a debugger.</span></span>  
  
-   <span data-ttu-id="b6c41-201">`unmanagedDebugger` - Activa explícitamente todos los MDA que se activan implícitamente cuando se inicia un ejecutable no administrado bajo un depurador.</span><span class="sxs-lookup"><span data-stu-id="b6c41-201">`unmanagedDebugger` - Explicitly activates all MDAs that are implicitly activated when an unmanaged executable is started under a debugger.</span></span>  
  
 <span data-ttu-id="b6c41-202">Si hay ajustes contradictorios, los más recientes reemplazan los ajustes anteriores:</span><span class="sxs-lookup"><span data-stu-id="b6c41-202">If there are conflicting settings, the most recent settings override previous settings:</span></span>  
  
-   <span data-ttu-id="b6c41-203">`COMPLUS_MDA=0` deshabilita todos los MDA, incluidos los habilitados implícitamente bajo un depurador.</span><span class="sxs-lookup"><span data-stu-id="b6c41-203">`COMPLUS_MDA=0` disables all MDAs, including those implicitly enabled under a debugger.</span></span>  
  
-   <span data-ttu-id="b6c41-204">`COMPLUS_MDA=gcUnmanagedToManaged` habilita `gcUnmanagedToManaged` además de los MDA habilitados implícitamente bajo un depurador.</span><span class="sxs-lookup"><span data-stu-id="b6c41-204">`COMPLUS_MDA=gcUnmanagedToManaged` enables `gcUnmanagedToManaged` in addition to any MDAs that are implicitly enabled under a debugger.</span></span>  
  
-   <span data-ttu-id="b6c41-205">`COMPLUS_MDA=0;gcUnmanagedToManaged` habilita `gcUnmanagedToManaged` pero deshabilita los MDA que, de otro modo, estarían habilitados implícitamente bajo un depurador.</span><span class="sxs-lookup"><span data-stu-id="b6c41-205">`COMPLUS_MDA=0;gcUnmanagedToManaged` enables `gcUnmanagedToManaged` but disables MDAs that would otherwise be implicitly enabled under a debugger.</span></span>  
  
<a name="appConfig"></a>   
### <a name="enabling-and-disabling-mdas-by-using-application-specific-configuration-settings"></a><span data-ttu-id="b6c41-206">Habilitar y deshabilitar MDA utilizando valores de configuración específicos de la aplicación</span><span class="sxs-lookup"><span data-stu-id="b6c41-206">Enabling and Disabling MDAs by Using Application-Specific Configuration Settings</span></span>  
 <span data-ttu-id="b6c41-207">Puede habilitar, deshabilitar y configurar individualmente algunos asistentes en el archivo de configuración de MDA para la aplicación.</span><span class="sxs-lookup"><span data-stu-id="b6c41-207">You can enable, disable, and configure some assistants individually in the MDA configuration file for the application.</span></span> <span data-ttu-id="b6c41-208">Para habilitar el uso de un archivo de configuración de la aplicación para configurar los MDA, es necesario establecer la clave del Registro MDA o la variable de entorno COMPLUS_MDA.</span><span class="sxs-lookup"><span data-stu-id="b6c41-208">To enable the use of an application configuration file for configuring MDAs, either the MDA registry key or the COMPLUS_MDA environment variable must be set.</span></span> <span data-ttu-id="b6c41-209">El archivo de configuración de la aplicación se encuentra normalmente en el mismo directorio que el archivo ejecutable (.exe) de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="b6c41-209">The application configuration file is typically located in the same directory as the application's executable (.exe) file.</span></span> <span data-ttu-id="b6c41-210">El nombre de archivo toma el formato *NombreAplicación*.mda.config; por ejemplo, notepad.exe.mda.config. Los asistentes que están habilitados en el archivo de configuración de la aplicación pueden tener atributos o elementos diseñados específicamente para controlar el comportamiento de los citados asistentes.</span><span class="sxs-lookup"><span data-stu-id="b6c41-210">The file name takes the form *ApplicationName*.mda.config; for example, notepad.exe.mda.config. Assistants that are enabled in the application configuration file may have attributes or elements specifically designed to control that assistant's behavior.</span></span> <span data-ttu-id="b6c41-211">El ejemplo siguiente muestra cómo habilitar y configurar la [serialización](../../../docs/framework/debug-trace-profile/marshaling-mda.md).</span><span class="sxs-lookup"><span data-stu-id="b6c41-211">The following example shows how to enable and configure the [marshaling](../../../docs/framework/debug-trace-profile/marshaling-mda.md).</span></span>  
  
```xml  
<mdaConfig>  
  <assistants>  
    <marshaling>  
      <methodFilter>  
        <match name="*"/>  
      </methodFilter>  
      <fieldFilter>  
        <match name="*"/>  
      </fieldFilter>  
    </marshaling>  
  </assistants>  
</mdaConfig>  
```  
  
 <span data-ttu-id="b6c41-212">El MDA de `Marshaling` emite información sobre el tipo administrado cuyas referencias se calculan a un tipo no administrado para cada transición de administrado a no administrado en la aplicación.</span><span class="sxs-lookup"><span data-stu-id="b6c41-212">The `Marshaling` MDA emits information about the managed type that is being marshaled to an unmanaged type for each managed-to-unmanaged transition in the application.</span></span> <span data-ttu-id="b6c41-213">El MDA de `Marshaling` también puede filtrar los nombres de los campos de método y estructura proporcionados en los elementos secundarios `<methodFilter>` y `<fieldFilter>`, respectivamente.</span><span class="sxs-lookup"><span data-stu-id="b6c41-213">The `Marshaling` MDA can also filter the names of the method and structure fields supplied in the `<methodFilter>` and `<fieldFilter>` child elements, respectively.</span></span>  
  
 <span data-ttu-id="b6c41-214">En el siguiente ejemplo se muestra cómo habilitar varios MDA utilizando su configuración predeterminada.</span><span class="sxs-lookup"><span data-stu-id="b6c41-214">The following example shows how to enable multiple MDAs by using their default settings.</span></span>  
  
```xml  
<mdaConfig>  
  <assistants>  
    <illegalPrepareConstrainedRegion />  
    <invalidCERCall />  
    <openGenericCERCall />  
    <virtualCERCall />  
  </assistants>  
</mdaConfig>  
```  
  
> [!IMPORTANT]
>  <span data-ttu-id="b6c41-215">Cuando se especifica más de un asistente en un archivo de configuración, se deben enumerar en orden alfabético.</span><span class="sxs-lookup"><span data-stu-id="b6c41-215">When you specify more than one assistant in a configuration file, you must list them in alphabetical order.</span></span> <span data-ttu-id="b6c41-216">Por ejemplo, si se desea habilitar los MDA `virtualCERCall` e `invalidCERCall`, se debe agregar la entrada `<invalidCERCall />` antes que la entrada `<virtualCERCall />`.</span><span class="sxs-lookup"><span data-stu-id="b6c41-216">For example, if you want to enable both the `virtualCERCall` and the `invalidCERCall` MDAs, you must add the `<invalidCERCall />` entry before the `<virtualCERCall />` entry.</span></span> <span data-ttu-id="b6c41-217">Si las entradas no están en orden alfabético, se muestra un mensaje de excepción no controlada de archivo de configuración no válido.</span><span class="sxs-lookup"><span data-stu-id="b6c41-217">If the entries are not in alphabetical order, an unhandled invalid configuration file exception message is displayed.</span></span>  
  
### <a name="mda-output"></a><span data-ttu-id="b6c41-218">Salida del MDA</span><span class="sxs-lookup"><span data-stu-id="b6c41-218">MDA Output</span></span>  
 <span data-ttu-id="b6c41-219">El resultado del MDA es similar al ejemplo siguiente, que muestra el resultado del MDA `pInvokeStackImbalance`.</span><span class="sxs-lookup"><span data-stu-id="b6c41-219">MDA output is similar to the following example, which shows the output from the `pInvokeStackImbalance` MDA.</span></span>  
  
 `A call to PInvoke function 'MDATest!MDATest.Program::StdCall' has unbalanced the stack. This is likely because the managed PInvoke signature does not match the unmanaged target signature. Check that the calling convention and parameters of the PInvoke signature match the target unmanaged signature.`  
  
## <a name="see-also"></a><span data-ttu-id="b6c41-220">Vea también</span><span class="sxs-lookup"><span data-stu-id="b6c41-220">See Also</span></span>  
 [<span data-ttu-id="b6c41-221">Depurar, trazar y generar perfiles</span><span class="sxs-lookup"><span data-stu-id="b6c41-221">Debugging, Tracing, and Profiling</span></span>](../../../docs/framework/debug-trace-profile/index.md)
