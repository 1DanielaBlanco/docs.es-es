---
title: Eventos de vista previa
ms.date: 03/30/2017
helpviewer_keywords:
- Preview events [WPF]
- suppressing events [WPF]
- events [WPF], Preview
- events [WPF], suppressing
ms.assetid: b5032308-aa9c-4d02-af11-630ecec8df7e
ms.openlocfilehash: 2d6c1ab32cb43730af2f935f4bd4405059994c12
ms.sourcegitcommit: 3d5d33f384eeba41b2dff79d096f47ccc8d8f03d
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 05/04/2018
ms.locfileid: "33546141"
---
# <a name="preview-events"></a><span data-ttu-id="91dd5-102">Eventos de vista previa</span><span class="sxs-lookup"><span data-stu-id="91dd5-102">Preview Events</span></span>
<span data-ttu-id="91dd5-103">Eventos de vista previa, también conocidos como eventos de túnel, son eventos enrutados que se pasa la dirección de la ruta desde la raíz de la aplicación hacia el elemento que provocó el evento y se notifica como el origen de datos del evento.</span><span class="sxs-lookup"><span data-stu-id="91dd5-103">Preview events, also known as tunneling events, are routed events where the direction of the route travels from the application root towards the element that raised the event and is reported as the source in event data.</span></span> <span data-ttu-id="91dd5-104">No todos los escenarios de eventos admiten o requieren los eventos de vista previa. en este tema se describe las situaciones donde existen eventos de vista previa, cómo las aplicaciones o componentes deben controlar, y los casos donde la creación de eventos de vista previa en componentes personalizados o de clases puede ser adecuado.</span><span class="sxs-lookup"><span data-stu-id="91dd5-104">Not all event scenarios support or require preview events; this topic describes the situations where preview events exist, how applications or components should handle them, and cases where creating preview events in custom components or classes might be appropriate.</span></span>  
  
## <a name="preview-events-and-input"></a><span data-ttu-id="91dd5-105">Eventos de vista previa y entrada</span><span class="sxs-lookup"><span data-stu-id="91dd5-105">Preview Events and Input</span></span>  
 <span data-ttu-id="91dd5-106">Cuando se controla la vista previa de eventos en general, tenga cuidado al marcar los eventos en el evento controla datos.</span><span class="sxs-lookup"><span data-stu-id="91dd5-106">When you handle Preview events in general, be cautious about marking the events handled in the event data.</span></span> <span data-ttu-id="91dd5-107">Controle un evento de vista previa en cualquier elemento distinto del elemento que generó (es decir, el elemento que se notifica como el origen de los datos del evento) tiene el efecto de no proporciona la oportunidad de controlar el evento que se haya originado de un elemento.</span><span class="sxs-lookup"><span data-stu-id="91dd5-107">Handling a Preview event on any element other than the element that raised it (the element that is reported as the source in the event data) has the effect of not providing an element the opportunity to handle the event that it originated.</span></span> <span data-ttu-id="91dd5-108">A veces, esto es el resultado deseado, especialmente si los elementos en cuestión existan en relaciones dentro de la composición de un control.</span><span class="sxs-lookup"><span data-stu-id="91dd5-108">Sometimes this is the desired result, particularly if the elements in question exist in relationships within the compositing of a control.</span></span>  
  
 <span data-ttu-id="91dd5-109">Para eventos de entrada en concreto, eventos de vista previa también comparten instancias de datos de evento con el evento de propagación equivalente.</span><span class="sxs-lookup"><span data-stu-id="91dd5-109">For input events specifically, Preview events also share event data instances with the equivalent bubbling event.</span></span> <span data-ttu-id="91dd5-110">Si usa un controlador de clase de eventos de vista previa para marcar el evento de entrada controlado, no se invocará el controlador de clase de evento de entrada propagación.</span><span class="sxs-lookup"><span data-stu-id="91dd5-110">If you use a Preview event class handler to mark the input event handled, the bubbling input event class handler will not be invoked.</span></span> <span data-ttu-id="91dd5-111">O bien, si utiliza un controlador de instancia de evento de vista previa para marcar el evento como controlado, controladores para el evento de propagación no normalmente se invocará.</span><span class="sxs-lookup"><span data-stu-id="91dd5-111">Or, if you use a Preview event instance handler to mark the event handled, handlers for the bubbling event will not typically be invoked.</span></span> <span data-ttu-id="91dd5-112">Controladores de clase o instancia se registrado o asociados con una opción que se debe invocar incluso si el evento está marcado como controlado, pero esta técnica no suele utilizarse.</span><span class="sxs-lookup"><span data-stu-id="91dd5-112">Class handlers or instance handlers can be registered or attached with an option to be invoked even if the event is marked handled, but that technique is not commonly used.</span></span>  
  
 <span data-ttu-id="91dd5-113">Para obtener más información sobre el control de clases y cómo se relaciona con los eventos de vista previa vea [Marcar eventos enrutados como Handled and Class Handling](../../../../docs/framework/wpf/advanced/marking-routed-events-as-handled-and-class-handling.md).</span><span class="sxs-lookup"><span data-stu-id="91dd5-113">For more information about class handling and how it relates to Preview events see [Marking Routed Events as Handled, and Class Handling](../../../../docs/framework/wpf/advanced/marking-routed-events-as-handled-and-class-handling.md).</span></span>  
  
### <a name="working-around-event-suppression-by-controls"></a><span data-ttu-id="91dd5-114">Solución de la supresión de eventos mediante controles</span><span class="sxs-lookup"><span data-stu-id="91dd5-114">Working Around Event Suppression by Controls</span></span>  
 <span data-ttu-id="91dd5-115">Un escenario donde normalmente se utilizan los eventos de vista previa es para el control de compuestas de control de eventos de entrada.</span><span class="sxs-lookup"><span data-stu-id="91dd5-115">One scenario where Preview events are commonly used is for composited control handling of input events.</span></span> <span data-ttu-id="91dd5-116">A veces, el autor del control suprime un determinado evento desde que se originan desde su control, quizás para sustituir un evento definido por el componente que contiene más información o implica un comportamiento más concreto.</span><span class="sxs-lookup"><span data-stu-id="91dd5-116">Sometimes, the author of the control suppresses a certain event from originating from their control, perhaps in order to substitute a component-defined event that carries more information or implies a more specific behavior.</span></span> <span data-ttu-id="91dd5-117">Por ejemplo, un [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] <xref:System.Windows.Controls.Button> suprime <xref:System.Windows.UIElement.MouseLeftButtonDown> y <xref:System.Windows.UIElement.MouseLeftButtonDown> propagación de eventos generados por el <xref:System.Windows.Controls.Button> o sus elementos compuestos en favor de captura del mouse y generar un <xref:System.Windows.Controls.Primitives.ButtonBase.Click> eventos que siempre se generan mediante el <xref:System.Windows.Controls.Button> propio.</span><span class="sxs-lookup"><span data-stu-id="91dd5-117">For instance, a [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] <xref:System.Windows.Controls.Button> suppresses <xref:System.Windows.UIElement.MouseLeftButtonDown> and <xref:System.Windows.UIElement.MouseLeftButtonDown> bubbling events raised by the <xref:System.Windows.Controls.Button> or its composite elements in favor of capturing the mouse and raising a <xref:System.Windows.Controls.Primitives.ButtonBase.Click> event that is always raised by the <xref:System.Windows.Controls.Button> itself.</span></span> <span data-ttu-id="91dd5-118">El evento y sus datos siguen a lo largo de la ruta, sin embargo, dado el <xref:System.Windows.Controls.Button> marca los datos del evento como <xref:System.Windows.RoutedEventArgs.Handled%2A>, solo los controladores para el evento indicado específicamente que actúe en el `handledEventsToo` caso se invocan.</span><span class="sxs-lookup"><span data-stu-id="91dd5-118">The event and its data still continue along the route, but because the <xref:System.Windows.Controls.Button> marks the event data as <xref:System.Windows.RoutedEventArgs.Handled%2A>, only handlers for the event that specifically indicated they should act in the `handledEventsToo` case  are invoked.</span></span>  <span data-ttu-id="91dd5-119">Si aún deseaban que otros elementos hacia la raíz de la aplicación una oportunidad para controlar un evento suprimido de control, una alternativa consiste en asociar controladores en el código con `handledEventsToo` especificado como `true`.</span><span class="sxs-lookup"><span data-stu-id="91dd5-119">If other elements towards the root of your application still wanted an opportunity to handle a control-suppressed event, one alternative is to attach handlers in code with `handledEventsToo` specified as `true`.</span></span> <span data-ttu-id="91dd5-120">Pero a menudo es una técnica más sencilla cambiar la dirección de enrutamiento controlar para que sea el equivalente de vista previa de un evento de entrada.</span><span class="sxs-lookup"><span data-stu-id="91dd5-120">But often a simpler technique is to change the routing direction you handle to be the Preview equivalent of an input event.</span></span> <span data-ttu-id="91dd5-121">Por ejemplo, si un control suprime <xref:System.Windows.UIElement.MouseLeftButtonDown>, intentar volver a adjuntar un controlador para <xref:System.Windows.UIElement.PreviewMouseLeftButtonDown> en su lugar.</span><span class="sxs-lookup"><span data-stu-id="91dd5-121">For instance, if a control suppresses <xref:System.Windows.UIElement.MouseLeftButtonDown>, try attaching a handler for <xref:System.Windows.UIElement.PreviewMouseLeftButtonDown> instead.</span></span> <span data-ttu-id="91dd5-122">Esta técnica solo funciona para los eventos de entrada del elemento base como <xref:System.Windows.UIElement.MouseLeftButtonDown>.</span><span class="sxs-lookup"><span data-stu-id="91dd5-122">This technique only works for base element input events such as <xref:System.Windows.UIElement.MouseLeftButtonDown>.</span></span> <span data-ttu-id="91dd5-123">Estos eventos de entrada utilizan pares de túnel/propagación, provocan ambos eventos y compartan los datos del evento.</span><span class="sxs-lookup"><span data-stu-id="91dd5-123">These input events use tunnel/bubble pairs, raise both events, and share the event data.</span></span>  
  
 <span data-ttu-id="91dd5-124">Cada una de estas técnicas tiene efectos secundarios o limitaciones.</span><span class="sxs-lookup"><span data-stu-id="91dd5-124">Each of these techniques has either side effects or limitations.</span></span> <span data-ttu-id="91dd5-125">El efecto secundario de controlar el evento de vista previa es que controlar el evento en ese momento podría deshabilitar los controladores que esperan controlar el evento de propagación, y por lo tanto, la limitación es que normalmente no resulta una buena idea para marcar el evento como controlado mientras está conectado a la Previ parte ew de la ruta.</span><span class="sxs-lookup"><span data-stu-id="91dd5-125">The side effect of handling the Preview event is that handling the event at that point might disable handlers that expect to handle the bubbling event, and therefore the limitation is that it is usually not a good idea to mark the event handled while it is still on the Preview part of the route.</span></span> <span data-ttu-id="91dd5-126">La limitación de la `handledEventsToo` técnica es que no se puede especificar un `handledEventsToo` controlador [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] como un atributo, debe registrar el controlador de eventos en código después de obtener una referencia de objeto para el elemento donde es el controlador que se adjuntará.</span><span class="sxs-lookup"><span data-stu-id="91dd5-126">The limitation of the `handledEventsToo` technique is that you cannot specify a `handledEventsToo` handler in [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] as an attribute, you must register the event handler in code after obtaining an object reference to the element where the handler is to be attached.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="91dd5-127">Vea también</span><span class="sxs-lookup"><span data-stu-id="91dd5-127">See Also</span></span>  
 [<span data-ttu-id="91dd5-128">Marcar eventos enrutados como controlados y control de clases</span><span class="sxs-lookup"><span data-stu-id="91dd5-128">Marking Routed Events as Handled, and Class Handling</span></span>](../../../../docs/framework/wpf/advanced/marking-routed-events-as-handled-and-class-handling.md)  
 [<span data-ttu-id="91dd5-129">Información general sobre eventos enrutados</span><span class="sxs-lookup"><span data-stu-id="91dd5-129">Routed Events Overview</span></span>](../../../../docs/framework/wpf/advanced/routed-events-overview.md)
