---
title: Código subyacente y XAML en WPF
ms.date: 03/30/2017
helpviewer_keywords:
- XAML [WPF], code-behind
- code-behind files [WPF], XAML
ms.assetid: 9df6d3c9-aed3-471c-af36-6859b19d999f
ms.openlocfilehash: 09d4f010ca53c5e3d2d9dede172e7ae2102261b9
ms.sourcegitcommit: 3d5d33f384eeba41b2dff79d096f47ccc8d8f03d
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 05/04/2018
ms.locfileid: "33541553"
---
# <a name="code-behind-and-xaml-in-wpf"></a><span data-ttu-id="5e35b-102">Código subyacente y XAML en WPF</span><span class="sxs-lookup"><span data-stu-id="5e35b-102">Code-Behind and XAML in WPF</span></span>
<a name="introduction"></a> <span data-ttu-id="5e35b-103">Código subyacente es un término que se usa para describir el código que se une con objetos definidos por marcado, cuando un [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] página está compilado por marcado.</span><span class="sxs-lookup"><span data-stu-id="5e35b-103">Code-behind is a term used to describe the code that is joined with markup-defined objects, when a [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] page is markup-compiled.</span></span> <span data-ttu-id="5e35b-104">Este tema describen los requisitos para el código subyacente, así como un mecanismo de código insertado alternativo para el código en [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)].</span><span class="sxs-lookup"><span data-stu-id="5e35b-104">This topic describes requirements for code-behind as well as an alternative inline code mechanism for code in [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)].</span></span>  
  
 <span data-ttu-id="5e35b-105">Este tema contiene las siguientes secciones:</span><span class="sxs-lookup"><span data-stu-id="5e35b-105">This topic contains the following sections:</span></span>  
  
-   [<span data-ttu-id="5e35b-106">Requisitos previos</span><span class="sxs-lookup"><span data-stu-id="5e35b-106">Prerequisites</span></span>](#Prerequisites)  
  
-   [<span data-ttu-id="5e35b-107">Código subyacente y el lenguaje XAML</span><span class="sxs-lookup"><span data-stu-id="5e35b-107">Code-Behind and the XAML Language</span></span>](#codebehind_and_the_xaml_language)  
  
-   [<span data-ttu-id="5e35b-108">Código subyacente, controlador de eventos y requisitos de la clase parcial en WPF</span><span class="sxs-lookup"><span data-stu-id="5e35b-108">Code-behind, Event Handler, and Partial Class Requirements in WPF</span></span>](#Code_behind__Event_Handler__and_Partial_Class)  
  
-   [<span data-ttu-id="5e35b-109">x: Code</span><span class="sxs-lookup"><span data-stu-id="5e35b-109">x:Code</span></span>](#x_Code)  
  
-   [<span data-ttu-id="5e35b-110">Limitaciones del código insertado</span><span class="sxs-lookup"><span data-stu-id="5e35b-110">Inline Code Limitations</span></span>](#Inline_Code_Limitations)  
  
<a name="Prerequisites"></a>   
## <a name="prerequisites"></a><span data-ttu-id="5e35b-111">Requisitos previos</span><span class="sxs-lookup"><span data-stu-id="5e35b-111">Prerequisites</span></span>  
 <span data-ttu-id="5e35b-112">En este tema se da por supuesto que ha leído el [información general sobre XAML (WPF)](../../../../docs/framework/wpf/advanced/xaml-overview-wpf.md) y tener unos conocimientos básicos de la [!INCLUDE[TLA2#tla_clr](../../../../includes/tla2sharptla-clr-md.md)] y la programación orientada a objetos.</span><span class="sxs-lookup"><span data-stu-id="5e35b-112">This topic assumes that you have read the [XAML Overview (WPF)](../../../../docs/framework/wpf/advanced/xaml-overview-wpf.md) and have some basic knowledge of the [!INCLUDE[TLA2#tla_clr](../../../../includes/tla2sharptla-clr-md.md)] and object-oriented programming.</span></span>  
  
<a name="codebehind_and_the_xaml_language"></a>   
## <a name="code-behind-and-the-xaml-language"></a><span data-ttu-id="5e35b-113">Código subyacente y el lenguaje XAML</span><span class="sxs-lookup"><span data-stu-id="5e35b-113">Code-Behind and the XAML Language</span></span>  
 <span data-ttu-id="5e35b-114">El lenguaje XAML incluye características de nivel de lenguaje que permiten asociar archivos de código con archivos de marcado, en el lado del archivo de marcado.</span><span class="sxs-lookup"><span data-stu-id="5e35b-114">The XAML language includes language-level features that make it possible to associate code files with markup files, from the markup file side.</span></span> <span data-ttu-id="5e35b-115">En concreto, el lenguaje XAML define las características del lenguaje [x: Class Directive](../../../../docs/framework/xaml-services/x-class-directive.md), [Directiva x: Subclass](../../../../docs/framework/xaml-services/x-subclass-directive.md), y [x: ClassModifier Directive](../../../../docs/framework/xaml-services/x-classmodifier-directive.md).</span><span class="sxs-lookup"><span data-stu-id="5e35b-115">Specifically, the XAML language defines the language features [x:Class Directive](../../../../docs/framework/xaml-services/x-class-directive.md), [x:Subclass Directive](../../../../docs/framework/xaml-services/x-subclass-directive.md), and [x:ClassModifier Directive](../../../../docs/framework/xaml-services/x-classmodifier-directive.md).</span></span> <span data-ttu-id="5e35b-116">Exactamente cómo se debe generar el código y cómo integrar el marcado y código, no forma parte de lo que especifica el lenguaje XAML.</span><span class="sxs-lookup"><span data-stu-id="5e35b-116">Exactly how the code should be produced, and how to integrate markup and code, is not part of what the XAML language specifies.</span></span> <span data-ttu-id="5e35b-117">Se deja de marcos, como WPF para determinar cómo integrar el código, cómo para usar XAML en la aplicación y los modelos de programación y la compilación acciones u otros admite que todo esto requiere.</span><span class="sxs-lookup"><span data-stu-id="5e35b-117">It is left up to frameworks such as WPF to determine how to integrate the code, how to use XAML in the application and programming models, and the build actions or other support that all this requires.</span></span>  
  
<a name="Code_behind__Event_Handler__and_Partial_Class"></a>   
## <a name="code-behind-event-handler-and-partial-class-requirements-in-wpf"></a><span data-ttu-id="5e35b-118">Código subyacente, controlador de eventos y requisitos de la clase parcial en WPF</span><span class="sxs-lookup"><span data-stu-id="5e35b-118">Code-behind, Event Handler, and Partial Class Requirements in WPF</span></span>  
  
-   <span data-ttu-id="5e35b-119">La clase parcial debe derivarse del tipo que respalda el elemento raíz.</span><span class="sxs-lookup"><span data-stu-id="5e35b-119">The partial class must derive from the type that backs the root element.</span></span>  
  
-   <span data-ttu-id="5e35b-120">Tenga en cuenta que en el comportamiento predeterminado de las acciones de compilación de la compilación de marcado, puede dejar la derivación en blanco en la definición de clase parcial en el lado de código subyacente.</span><span class="sxs-lookup"><span data-stu-id="5e35b-120">Note that under the default behavior of the markup compile build actions, you can leave the derivation blank in the partial class definition on the code-behind side.</span></span> <span data-ttu-id="5e35b-121">El resultado compilado supondrá tipo de respaldo de la raíz de la página para ser la base para la clase parcial, incluso si no ha especificado.</span><span class="sxs-lookup"><span data-stu-id="5e35b-121">The compiled result will assume the page root's backing type to be the basis for the partial class, even if it not specified.</span></span> <span data-ttu-id="5e35b-122">Sin embargo, no es recomendable confiar en este comportamiento.</span><span class="sxs-lookup"><span data-stu-id="5e35b-122">However, relying on this behavior is not a best practice.</span></span>  
  
-   <span data-ttu-id="5e35b-123">Los controladores de eventos que se escribe en el código subyacente deben ser métodos de instancia y no pueden ser métodos estáticos.</span><span class="sxs-lookup"><span data-stu-id="5e35b-123">The event handlers you write in the code behind must be instance methods and cannot be static methods.</span></span> <span data-ttu-id="5e35b-124">Estos métodos deben estar definidos por la clase parcial en el espacio de nombres CLR identificado por `x:Class`.</span><span class="sxs-lookup"><span data-stu-id="5e35b-124">These methods must be defined by the partial class within the CLR namespace identified by `x:Class`.</span></span> <span data-ttu-id="5e35b-125">No se puede calificar el nombre de un controlador de eventos para indicar a un [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] procesador para buscar un controlador de eventos para la conexión de eventos en un ámbito de clase diferente.</span><span class="sxs-lookup"><span data-stu-id="5e35b-125">You cannot qualify the name of an event handler to instruct a [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] processor to look for an event handler for event wiring in a different class scope.</span></span>  
  
-   <span data-ttu-id="5e35b-126">El controlador debe coincidir con el delegado para el evento adecuado en el sistema de tipos de respaldo.</span><span class="sxs-lookup"><span data-stu-id="5e35b-126">The handler must match the delegate for the appropriate event in the backing type system.</span></span>  
  
-   <span data-ttu-id="5e35b-127">Para el idioma de Microsoft Visual Basic en concreto, puede usar el específicos del idioma `Handles` palabra clave que se va a asociar controladores de instancias y eventos en la declaración del controlador, en lugar de adjuntar controladores con atributos en [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)].</span><span class="sxs-lookup"><span data-stu-id="5e35b-127">For the Microsoft Visual Basic language specifically, you can use the language-specific `Handles` keyword to associate handlers with instances and events in the handler declaration, instead of attaching handlers with attributes in [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)].</span></span> <span data-ttu-id="5e35b-128">Sin embargo, esta técnica tiene algunas limitaciones porque la `Handles` palabra clave no es compatible con todas las características específicas de la [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] sistema de eventos, por ejemplo, determinados enruta los escenarios de eventos o eventos adjuntos.</span><span class="sxs-lookup"><span data-stu-id="5e35b-128">However, this technique does have some limitations because the `Handles` keyword cannot support all of the specific features of the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] event system, such as certain routed event scenarios or attached events.</span></span> <span data-ttu-id="5e35b-129">Para obtener más información, consulte [Visual Basic y el control de eventos de WPF](../../../../docs/framework/wpf/advanced/visual-basic-and-wpf-event-handling.md).</span><span class="sxs-lookup"><span data-stu-id="5e35b-129">For details, see [Visual Basic and WPF Event Handling](../../../../docs/framework/wpf/advanced/visual-basic-and-wpf-event-handling.md).</span></span>  
  
<a name="x_Code"></a>   
## <a name="xcode"></a><span data-ttu-id="5e35b-130">x: Code</span><span class="sxs-lookup"><span data-stu-id="5e35b-130">x:Code</span></span>  
 <span data-ttu-id="5e35b-131">[x: Code](../../../../docs/framework/xaml-services/x-code-intrinsic-xaml-type.md) se define un elemento de directiva en [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)].</span><span class="sxs-lookup"><span data-stu-id="5e35b-131">[x:Code](../../../../docs/framework/xaml-services/x-code-intrinsic-xaml-type.md) is a directive element defined in [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)].</span></span> <span data-ttu-id="5e35b-132">Un `x:Code` directiva elemento puede contener código de programación en línea.</span><span class="sxs-lookup"><span data-stu-id="5e35b-132">An `x:Code` directive element can contain inline programming code.</span></span> <span data-ttu-id="5e35b-133">El código que se define en línea puede interactuar con el [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] en la misma página.</span><span class="sxs-lookup"><span data-stu-id="5e35b-133">The code that is defined inline can interact with the [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] on the same page.</span></span> <span data-ttu-id="5e35b-134">En el ejemplo siguiente se muestra código C# en línea.</span><span class="sxs-lookup"><span data-stu-id="5e35b-134">The following example illustrates inline C# code.</span></span> <span data-ttu-id="5e35b-135">Tenga en cuenta que el código está dentro de la `x:Code` elemento y que el código debe incluirse entre `<CDATA[`... `]]>` para escapar el contenido para [!INCLUDE[TLA2#tla_xml](../../../../includes/tla2sharptla-xml-md.md)], de modo que un [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] procesador (interpretar ya sea el [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] esquema o la [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] esquema) no intentará volver a interpretar el contenido literalmente como [!INCLUDE[TLA2#tla_xml](../../../../includes/tla2sharptla-xml-md.md)].</span><span class="sxs-lookup"><span data-stu-id="5e35b-135">Notice that the code is inside the `x:Code` element and that the code must be surrounded by `<CDATA[`...`]]>` to escape the contents for [!INCLUDE[TLA2#tla_xml](../../../../includes/tla2sharptla-xml-md.md)], so that a [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] processor (interpreting either the [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] schema or the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] schema) will not try to interpret the contents literally as [!INCLUDE[TLA2#tla_xml](../../../../includes/tla2sharptla-xml-md.md)].</span></span>  
  
 [!code-xaml[XAMLOvwSupport#ButtonWithInlineCode](../../../../samples/snippets/csharp/VS_Snippets_Wpf/XAMLOvwSupport/CSharp/page4.xaml#buttonwithinlinecode)]  
  
<a name="Inline_Code_Limitations"></a>   
## <a name="inline-code-limitations"></a><span data-ttu-id="5e35b-136">Limitaciones del código insertado</span><span class="sxs-lookup"><span data-stu-id="5e35b-136">Inline Code Limitations</span></span>  
 <span data-ttu-id="5e35b-137">Conviene evitar o limitar el uso de código en línea.</span><span class="sxs-lookup"><span data-stu-id="5e35b-137">You should consider avoiding or limiting the use of inline code.</span></span> <span data-ttu-id="5e35b-138">En cuanto a la arquitectura y la filosofía de codificación, mantener una separación entre el marcado y código subyacente mantiene las funciones de diseñador y el desarrollador mucho mayor.</span><span class="sxs-lookup"><span data-stu-id="5e35b-138">In terms of architecture and coding philosophy, maintaining a separation between markup and code-behind keeps the designer and developer roles much more distinct.</span></span> <span data-ttu-id="5e35b-139">En un nivel más técnico, el código que se escribe para el código alineado puede ser difícil de escribir, porque siempre se escriben en el [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] genera una clase parcial y solo se pueden usar las asignaciones de espacio de nombres XML predeterminado.</span><span class="sxs-lookup"><span data-stu-id="5e35b-139">On a more technical level, the code that you write for inline code can be awkward to write, because you are always writing into the [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] generated partial class, and can only use the default XML namespace mappings.</span></span> <span data-ttu-id="5e35b-140">Dado que no se puede agregar `using` instrucciones, debe calificar totalmente muchas de las [!INCLUDE[TLA2#tla_api](../../../../includes/tla2sharptla-api-md.md)] llamadas que realice.</span><span class="sxs-lookup"><span data-stu-id="5e35b-140">Because you cannot add `using` statements, you must fully qualify many of the [!INCLUDE[TLA2#tla_api](../../../../includes/tla2sharptla-api-md.md)] calls that you make.</span></span> <span data-ttu-id="5e35b-141">El valor predeterminado [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] asignaciones incluyen más pero no todos los [!INCLUDE[TLA2#tla_clr](../../../../includes/tla2sharptla-clr-md.md)] espacios de nombres que se encuentran en el [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] los ensamblados, tendrá que completar llamadas a tipos y miembros dentro de los otros espacios de nombres CLR.</span><span class="sxs-lookup"><span data-stu-id="5e35b-141">The default [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] mappings include most but not all [!INCLUDE[TLA2#tla_clr](../../../../includes/tla2sharptla-clr-md.md)] namespaces that are present in the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] assemblies; you will have to fully qualify calls to types and members contained within the other CLR namespaces.</span></span> <span data-ttu-id="5e35b-142">También no puede definir cualquier elemento más allá de la clase parcial en el código en línea y hace referencia a todas las entidades de código de usuario deben existir como un miembro o una variable dentro de la clase parcial generada.</span><span class="sxs-lookup"><span data-stu-id="5e35b-142">You also cannot define anything beyond the partial class in the inline code, and all user code entities you reference must exist as a member or variable within the generated partial class.</span></span> <span data-ttu-id="5e35b-143">Otras características programación específica del lenguaje, como macros o `#ifdef` frente a las variables globales o variables de compilación, tampoco están disponibles.</span><span class="sxs-lookup"><span data-stu-id="5e35b-143">Other language specific programming features, such as macros or `#ifdef` against global variables or build variables, are also not available.</span></span> <span data-ttu-id="5e35b-144">Para obtener más información, consulte [x: Code (tipo XAML intrínseco)](../../../../docs/framework/xaml-services/x-code-intrinsic-xaml-type.md).</span><span class="sxs-lookup"><span data-stu-id="5e35b-144">For more information, see [x:Code Intrinsic XAML Type](../../../../docs/framework/xaml-services/x-code-intrinsic-xaml-type.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="5e35b-145">Vea también</span><span class="sxs-lookup"><span data-stu-id="5e35b-145">See Also</span></span>  
 [<span data-ttu-id="5e35b-146">Información general sobre XAML (WPF)</span><span class="sxs-lookup"><span data-stu-id="5e35b-146">XAML Overview (WPF)</span></span>](../../../../docs/framework/wpf/advanced/xaml-overview-wpf.md)  
 [<span data-ttu-id="5e35b-147">x:Code (Tipo XAML intrínseco)</span><span class="sxs-lookup"><span data-stu-id="5e35b-147">x:Code Intrinsic XAML Type</span></span>](../../../../docs/framework/xaml-services/x-code-intrinsic-xaml-type.md)  
 [<span data-ttu-id="5e35b-148">Compilar una aplicación de WPF</span><span class="sxs-lookup"><span data-stu-id="5e35b-148">Building a WPF Application</span></span>](../../../../docs/framework/wpf/app-development/building-a-wpf-application-wpf.md)  
 [<span data-ttu-id="5e35b-149">Detalles de la sintaxis XAML</span><span class="sxs-lookup"><span data-stu-id="5e35b-149">XAML Syntax In Detail</span></span>](../../../../docs/framework/wpf/advanced/xaml-syntax-in-detail.md)
