---
title: Información general sobre los servicios de aplicaciones cliente
ms.date: 03/30/2017
helpviewer_keywords:
- client application services, classes
- client application services, about client application services
ms.assetid: f0a2da13-e282-4fd7-88a1-f9102c9aeab1
ms.openlocfilehash: 7ec8d2423c8f9d25ef48c0f0cc0d9627864c9c27
ms.sourcegitcommit: 11f11ca6cefe555972b3a5c99729d1a7523d8f50
ms.translationtype: HT
ms.contentlocale: es-ES
ms.lasthandoff: 05/03/2018
ms.locfileid: "32744501"
---
# <a name="client-application-services-overview"></a>Información general sobre los servicios de aplicaciones cliente
Los servicios de aplicaciones cliente proporcionan acceso simplificado al inicio de sesión, los roles y los servicios de perfiles de [!INCLUDE[ajax_current_short](../../../includes/ajax-current-short-md.md)] desde aplicaciones de Windows Forms y Windows Presentation Foundation (WPF). Los servicios de aplicaciones de [!INCLUDE[ajax_current_short](../../../includes/ajax-current-short-md.md)] se incluyen en las extensiones de Microsoft ASP.NET 2.0 AJAX, que se incluyen con [!INCLUDE[vs_orcas_long](../../../includes/vs-orcas-long-md.md)] y [!INCLUDE[net_v35_long](../../../includes/net-v35-long-md.md)]. Estos servicios permiten que varias aplicaciones web y basadas en Windows compartan la información del usuario y la funcionalidad de administración de usuarios desde un solo servidor.  
  
 Los servicios de aplicaciones cliente incluyen proveedores de servicios cliente que se conectan con el modelo de extensibilidad de servicios web para habilitar las siguientes características para aplicaciones basadas en Windows:  
  
-   Configuración de cliente sencilla. Puede habilitar y configurar el inicio de sesión, los roles y los servicios de perfiles mediante el diseñador de proyectos de Visual Studio o especificando los proveedores de servicios cliente en el archivo App.config del proyecto. Para obtener más información, consulte [Cómo: Configurar servicios de aplicaciones cliente](../../../docs/framework/common-client-technologies/how-to-configure-client-application-services.md).  
  
-   Capacidad de programación sencilla. Una vez que se hayan habilitado y configurado los servicios de aplicaciones cliente, se puede acceder a los proveedores de servicios indirectamente a través de las clases de configuración de la aplicación, roles y pertenencia de [!INCLUDE[dnprdnlong](../../../includes/dnprdnlong-md.md)] existentes. También puede acceder directamente a las clases de [!INCLUDE[net_v35_long](../../../includes/net-v35-long-md.md)] que implementan servicios de aplicaciones cliente. Sin embargo, en la mayoría de los casos, no es necesario el acceso directo. Para obtener más información sobre las clases de servicios de aplicaciones cliente, consulte la sección «Clases de servicios de aplicaciones cliente» de este tema.  
  
-   Compatibilidad sin conexión. Las aplicaciones basadas en Windows a menudo tienen que funcionar en entornos conectados ocasionalmente. Cuando la aplicación está en línea, los proveedores de servicios cliente almacenarán en memoria caché los valores recuperados del servidor para su uso cuando la aplicación esté sin conexión.  
  
-   Integración con el diseñador de configuración de la aplicación de Visual Studio. Al configurar el proyecto en Visual Studio, puede especificar a qué opciones de configuración se tendrá acceso a través del proveedor de servicios de configuración del cliente.  
  
 Las siguientes secciones describen estas características con mayor detalle. Para más información sobre los servicios de la aplicación de [!INCLUDE[ajax_current_short](../../../includes/ajax-current-short-md.md)], consulte [Información general sobre los servicios de aplicación ASP.NET](http://msdn.microsoft.com/library/1162e529-0d70-44b2-b3ab-83e60c695013).  
  
## <a name="authentication"></a>Autenticación  
 Puede usar servicios de aplicaciones cliente para validar a un usuario a través de un servicio de autenticación de [!INCLUDE[ajax_current_short](../../../includes/ajax-current-short-md.md)] existente. Puede validar a un usuario mediante la autenticación de Windows o de formularios. La autenticación de Windows significa que la identidad del usuario es la suministrada por el sistema operativo cuando un usuario inicia sesión en un equipo o dominio. Normalmente se usa la autenticación de Windows con una aplicación implementada en una intranet corporativa. La autenticación de formularios significa que es necesario incluir controles de inicio de sesión en la aplicación y pasar las credenciales adquiridas al proveedor de autenticación. Normalmente se usa la autenticación de formularios con una aplicación implementada en Internet.  
  
 Para validar a un usuario, se llama al método `static` <xref:System.Web.Security.Membership.ValidateUser%2A?displayProperty=nameWithType>. Este método accede al proveedor de servicios de cliente configurado para la aplicación y devuelve un valor <xref:System.Boolean> que indica si el usuario es válido. Para más información, vea [Cómo: Implementar el inicio de sesión de usuarios con servicios de aplicaciones cliente](../../../docs/framework/common-client-technologies/how-to-implement-user-login-with-client-application-services.md).  
  
 Cuando se usa la autenticación de Windows, debe pasar cadenas vacías o `null` como parámetros del método <xref:System.Web.Security.Membership.ValidateUser%2A>. Cuando se usa la autenticación de Windows, esta llamada al método siempre devolverá `true`.  
  
 Con la autenticación de formularios, el método <xref:System.Web.Security.Membership.ValidateUser%2A> devolverá un valor que indica si el servicio remoto autenticó al usuario. Si la validación es correcta, se almacena una cookie de autenticación en el disco duro local. Esta cookie se usa para confirmar la validación al acceder a los roles y los servicios de configuración.  
  
 Cuando se usa la autenticación de formularios, puede pasar un nombre de usuario y contraseña al método <xref:System.Web.Security.Membership.ValidateUser%2A>. También puede pasar cadenas vacías o `null` como parámetros para usar un proveedor de credenciales. Un proveedor de credenciales es una clase que se proporciona y se especifica en la configuración de la aplicación. Una clase de proveedor de credenciales debe implementar la interfaz <xref:System.Web.ClientServices.Providers.IClientFormsAuthenticationCredentialsProvider>, que tiene un solo método denominado <xref:System.Web.ClientServices.Providers.IClientFormsAuthenticationCredentialsProvider.GetCredentials%2A>. El uso de un proveedor de credenciales permite compartir un único cuadro de diálogo de inicio de sesión entre varias aplicaciones. Para obtener más información, consulte [Cómo: Configurar servicios de aplicaciones cliente](../../../docs/framework/common-client-technologies/how-to-configure-client-application-services.md).  
  
 Al configurar la aplicación para que use un proveedor de credenciales con autenticación de formularios, debe pasar cadenas vacías o `null` como parámetros del método <xref:System.Web.Security.Membership.ValidateUser%2A>. A continuación, el proveedor de servicios llamará a su implementación del método <xref:System.Web.ClientServices.Providers.IClientFormsAuthenticationCredentialsProvider.GetCredentials%2A?displayProperty=nameWithType>. Por lo general, este método se implementa para mostrar un cuadro de diálogo y devolver un objeto <xref:System.Web.ClientServices.Providers.ClientFormsAuthenticationCredentials> rellenado.  
  
 Para más información sobre la autenticación, consulte [Autenticación de ASP.NET](http://msdn.microsoft.com/library/fc10b0ef-4ce4-4a7f-9174-886325221ee1). Para más información sobre cómo configurar el servicio de autenticación de [!INCLUDE[ajax_current_short](../../../includes/ajax-current-short-md.md)], consulte [Utilizar la autenticación de formularios con AJAX en ASP.NET](http://msdn.microsoft.com/library/c50f7dc5-323c-4c63-b4f3-96edfc1e815e).  
  
## <a name="roles"></a>Roles  
 Puede usar servicios de aplicaciones cliente para recuperar información de roles a partir de un servicio de roles [!INCLUDE[ajax_current_short](../../../includes/ajax-current-short-md.md)] existente. Para determinar si el usuario autenticado actual está en un rol determinado, llame al método <xref:System.Security.Principal.IPrincipal.IsInRole%2A> de la referencia <xref:System.Security.Principal.IPrincipal> recuperada de la propiedad `static` <xref:System.Threading.Thread.CurrentPrincipal%2A?displayProperty=nameWithType>. El método <xref:System.Security.Principal.IPrincipal.IsInRole%2A> toma el nombre de rol como parámetro y devuelve un valor <xref:System.Boolean> que indica si el usuario actual está en el rol especificado. Este método devolverá `false` si el usuario no está autenticado o si no está en el rol especificado.  
  
 Para más información sobre cómo configurar el servicio de roles de [!INCLUDE[ajax_current_short](../../../includes/ajax-current-short-md.md)], consulte [Usar información de funciones con AJAX en ASP.NET](http://msdn.microsoft.com/library/280f6ad9-ba1a-4fc9-b0cc-22e39e54a82d).  
  
## <a name="settings"></a>Configuración  
 Los servicios de aplicaciones cliente se pueden usar para recuperar configuraciones de aplicaciones del usuario a partir de un servicio de perfiles [!INCLUDE[ajax_current_short](../../../includes/ajax-current-short-md.md)] existente. La característica de configuración web de los servicios de aplicaciones cliente se integra con la característica de configuración de aplicaciones proporcionada en [!INCLUDE[dnprdnlong](../../../includes/dnprdnlong-md.md)]. Para recuperar la configuración web, genere primero una clase `Settings` (a la que se tiene acceso como `Properties.Settings.Default` en C# y `My.Settings` en Visual Basic) para el proyecto mediante la pestaña **Configuración** del diseñador de proyectos de Visual Studio. En la pestaña **Configuración**, puede usar el botón **Cargar configuración web** para recuperar la configuración web y agregarla a la clase `Settings` generada. Puede usar la configuración web definida para su uso por todos los usuarios autenticados o por todos los usuarios anónimos.  
  
 Para más información sobre la configuración de la aplicación, consulte [Introducción a la configuración de la aplicación](../../../docs/framework/winforms/advanced/application-settings-overview.md). Para obtener información sobre cómo implementar una clase de configuración propia en lugar de generar una en Visual Studio, vea [Cómo: Crear la configuración de la aplicación](../../../docs/framework/winforms/advanced/how-to-create-application-settings.md). Para información sobre cómo configurar el servicio de perfiles de [!INCLUDE[ajax_current_short](../../../includes/ajax-current-short-md.md)], consulte [Usar información de perfiles con AJAX en ASP.NET](http://msdn.microsoft.com/library/91239ae6-d01c-4f4e-a433-eb9040dbed61).  
  
## <a name="client-application-services-classes"></a>Clases de servicios de aplicaciones cliente  
 La tabla siguiente describe las clases que implementan la característica de servicios de aplicaciones cliente.  
  
 Las aplicaciones que solo usan las características de autenticación principal, roles y configuración no tendrán que acceder a estas clases directamente. En su lugar, estas aplicaciones accederán a los proveedores de servicios de aplicaciones cliente indirectamente usando la configuración de la aplicación y las API descritas en las secciones anteriores. Accederá a estas clases directamente para implementar características adicionales, como el cierre de sesión de usuario y la funcionalidad sin conexión.  
  
> [!NOTE]
>  Todas las API de los servicios de aplicaciones cliente son sincrónicas. Los servicios de aplicaciones cliente no son compatibles directamente con el comportamiento asincrónico.  
  
 Los proveedores de servicios de aplicaciones cliente implementan o extienden los tipos estándar de [!INCLUDE[dnprdnlong](../../../includes/dnprdnlong-md.md)], pero no implementan cada característica y miembro definido por estos tipos. Por ejemplo, no puede usar los proveedores de servicios de aplicaciones cliente para implementar una aplicación de administración de usuarios para crear nuevos usuarios y administrar la pertenencia a roles. Para implementar esta funcionalidad, actualmente debe usar una aplicación web y el código del servidor. Para determinar qué miembros no se implementan, consulte la documentación de referencia, a la que puede acceder a través de los vínculos de esta tabla.  
  
|Clase|Description|  
|-----------|-----------------|  
|<xref:System.Web.ClientServices.ClientFormsIdentity>|Esta clase administra las cookies de autenticación e identidad de usuario para la autenticación de formularios.<br /><br /> La razón principal para acceder a esta clase directamente es llamar al método <xref:System.Web.ClientServices.ClientFormsIdentity.RevalidateUser%2A>, que vuelve a validar silenciosamente un usuario (por ejemplo, al cambiar del modo sin conexión al modo en línea).<br /><br /> Después de que el usuario se autentique mediante la autenticación de formularios, puede recuperar una instancia de esta clase a través de la propiedad <xref:System.Security.Principal.IPrincipal.Identity%2A> de la referencia <xref:System.Security.Principal.IPrincipal> recuperada por medio de la propiedad `static` <xref:System.Threading.Thread.CurrentPrincipal%2A?displayProperty=nameWithType>.|  
|<xref:System.Web.ClientServices.ClientRolePrincipal>|Esta clase administra los roles de usuario.<br /><br /> Esta clase no tiene ningún miembro al que no se pueda acceder indirectamente. Pero cuando el usuario está autenticado, se puede obtener acceso a una instancia de esta clase a través de la propiedad `static` <xref:System.Threading.Thread.CurrentPrincipal%2A?displayProperty=nameWithType>.|  
|<xref:System.Web.ClientServices.ConnectivityStatus>|Esta clase proporciona la propiedad `static` <xref:System.Web.ClientServices.ConnectivityStatus.IsOffline%2A> que se usa para conmutar la aplicación al modo sin conexión.|  
|<xref:System.Web.ClientServices.Providers.ClientFormsAuthenticationCredentials>|Esta clase representa las credenciales de usuario.<br /><br /> Usará esta clase solo como tipo de valor devuelto del método <xref:System.Web.ClientServices.Providers.IClientFormsAuthenticationCredentialsProvider.GetCredentials%2A> al implementar la interfaz <xref:System.Web.ClientServices.Providers.IClientFormsAuthenticationCredentialsProvider>.|  
|<xref:System.Web.ClientServices.Providers.ClientFormsAuthenticationMembershipProvider>|Esta clase administra el acceso al servicio de autenticación remota para la autenticación de formularios.<br /><br /> La razón principal para acceder a esta clase directamente es usar sus miembros <xref:System.Web.ClientServices.Providers.ClientFormsAuthenticationMembershipProvider.Logout%2A> y <xref:System.Web.ClientServices.Providers.ClientFormsAuthenticationMembershipProvider.UserValidated>, que no implementa la clase base <xref:System.Web.Security.MembershipProvider>. También puede establecer la ubicación del servicio mediante programación usando la propiedad <xref:System.Web.ClientServices.Providers.ClientFormsAuthenticationMembershipProvider.ServiceUri%2A>.<br /><br /> Puede recuperar una instancia de esta clase mediante la propiedad `static` <xref:System.Web.Security.Membership.Provider%2A?displayProperty=nameWithType>.|  
|<xref:System.Web.ClientServices.Providers.ClientWindowsAuthenticationMembershipProvider>|Esta clase administra la autenticación de Windows.<br /><br /> La razón principal para acceder a esta clase directamente es llamar a su método <xref:System.Web.ClientServices.Providers.ClientWindowsAuthenticationMembershipProvider.Logout%2A>. Después de cerrar la sesión, el usuario todavía estará autenticado para Windows, pero no podrá acceder a los servicios de la aplicación remota.<br /><br /> Puede recuperar una instancia de esta clase mediante la propiedad `static` <xref:System.Web.Security.Membership.Provider%2A?displayProperty=nameWithType>.|  
|<xref:System.Web.ClientServices.Providers.ClientRoleProvider>|Esta clase administra el acceso al servicio de roles remotos.<br /><br /> La razón principal para acceder a esta clase es llamar a su método <xref:System.Web.ClientServices.Providers.ClientRoleProvider.ResetCache%2A>. Esto puede ser útil si la aplicación está configurada para usar un valor de tiempo de espera de caché del servicio de roles distinto de cero. Para obtener más información, consulte [Cómo: Configurar servicios de aplicaciones cliente](../../../docs/framework/common-client-technologies/how-to-configure-client-application-services.md). También puede establecer la ubicación del servicio mediante programación usando la propiedad <xref:System.Web.ClientServices.Providers.ClientRoleProvider.ServiceUri%2A>.<br /><br /> Puede recuperar una instancia de esta clase mediante la propiedad `static` <xref:System.Web.Security.Roles.Provider%2A?displayProperty=nameWithType>.|  
|<xref:System.Web.ClientServices.Providers.ClientSettingsProvider>|Esta clase administra el acceso al servicio de configuración web remoto.<br /><br /> La razón principal para acceder a esta clase es controlar el evento <xref:System.Web.ClientServices.Providers.ClientSettingsProvider.SettingsSaved>. También puede establecer la ubicación del servicio mediante programación usando la propiedad <xref:System.Web.ClientServices.Providers.ClientSettingsProvider.ServiceUri%2A>.|  
|<xref:System.Web.ClientServices.Providers.IClientFormsAuthenticationCredentialsProvider>|Esta interfaz proporciona una forma indirecta de la aplicación para obtener las credenciales de usuario para la validación, como se describió anteriormente en la sección Autenticación de este tema. Para obtener más información, consulte [Cómo: Configurar servicios de aplicaciones cliente](../../../docs/framework/common-client-technologies/how-to-configure-client-application-services.md).|  
|<xref:System.Web.ClientServices.Providers.SettingsSavedEventArgs>|Esta clase proporciona una propiedad <xref:System.Web.ClientServices.Providers.SettingsSavedEventArgs.FailedSettingsList%2A> para su uso dentro de un controlador de eventos <xref:System.Web.ClientServices.Providers.ClientSettingsProvider.SettingsSaved?displayProperty=nameWithType>.|  
|<xref:System.Web.ClientServices.Providers.UserValidatedEventArgs>|Esta clase proporciona una propiedad <xref:System.Web.ClientServices.Providers.UserValidatedEventArgs.UserName%2A> para su uso dentro de un controlador de eventos <xref:System.Web.ClientServices.Providers.ClientFormsAuthenticationMembershipProvider.UserValidated>.|  
  
## <a name="see-also"></a>Vea también  
 [Servicios de aplicación cliente](../../../docs/framework/common-client-technologies/client-application-services.md)  
 [Cómo: Configurar servicios de aplicaciones cliente](../../../docs/framework/common-client-technologies/how-to-configure-client-application-services.md)  
 [Cómo: Implementar el inicio de sesión de usuarios con servicios de aplicaciones cliente](../../../docs/framework/common-client-technologies/how-to-implement-user-login-with-client-application-services.md)  
 [Tutorial: Usar servicios de aplicaciones cliente](../../../docs/framework/common-client-technologies/walkthrough-using-client-application-services.md)  
 [Introducción a la configuración de la aplicación](../../../docs/framework/winforms/advanced/application-settings-overview.md)  
 [Información general sobre los servicios de aplicación ASP.NET](http://msdn.microsoft.com/library/1162e529-0d70-44b2-b3ab-83e60c695013)  
 [Utilizar la autenticación de formularios con AJAX en ASP.NET](http://msdn.microsoft.com/library/c50f7dc5-323c-4c63-b4f3-96edfc1e815e)  
 [Usar información de funciones con AJAX en ASP.NET](http://msdn.microsoft.com/library/280f6ad9-ba1a-4fc9-b0cc-22e39e54a82d)  
 [Usar información de perfiles con AJAX en ASP.NET](http://msdn.microsoft.com/library/91239ae6-d01c-4f4e-a433-eb9040dbed61)  
 [Autenticación de ASP.NET](http://msdn.microsoft.com/library/fc10b0ef-4ce4-4a7f-9174-886325221ee1)  
 [Administrar la autorización con roles](http://msdn.microsoft.com/library/01954ce4-39a2-487f-8153-a69f6f6f3195)  
 [Crear y configurar la base de datos de servicios de la aplicación para SQL Server](http://msdn.microsoft.com/library/ab894e83-7e2f-4af8-a116-b1bff8f815b2)
