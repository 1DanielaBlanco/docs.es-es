---
title: Control de versiones del servicio de datos (Data Services de Microsoft WCF)
ms.custom: ''
ms.date: 03/30/2017
ms.prod: .net-framework-oob
ms.reviewer: ''
ms.suite: ''
ms.technology:
- dotnet-clr
ms.tgt_pltfrm: ''
ms.topic: article
helpviewer_keywords:
- versioning, WCF Data Services
- versioning [WCF Data Services]
- WCF Data Services, versioning
ms.assetid: e3e899cc-7f25-4f67-958f-063f01f79766
caps.latest.revision: 9
author: dotnet-bot
ms.author: dotnetcontent
manager: wpickett
ms.workload:
- dotnet
ms.openlocfilehash: d795008e014deaa126dac1bb978ac825f2536208
ms.sourcegitcommit: 86adcc06e35390f13c1e372c36d2e044f1fc31ef
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 04/26/2018
---
# <a name="data-service-versioning-wcf-data-services"></a><span data-ttu-id="6acdd-102">Control de versiones del servicio de datos (Data Services de Microsoft WCF)</span><span class="sxs-lookup"><span data-stu-id="6acdd-102">Data Service Versioning (WCF Data Services)</span></span>
<span data-ttu-id="6acdd-103">El [!INCLUDE[ssODataFull](../../../../includes/ssodatafull-md.md)] le permite crear servicios de datos para que los clientes pueden tener acceso a datos como recursos usando URI que se basan en un modelo de datos.</span><span class="sxs-lookup"><span data-stu-id="6acdd-103">The [!INCLUDE[ssODataFull](../../../../includes/ssodatafull-md.md)] enables you to create data services so that clients can access data as resources using URIs that are based on a data model.</span></span> [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)]<span data-ttu-id="6acdd-104"> también admite la definición de operaciones de servicio.</span><span class="sxs-lookup"><span data-stu-id="6acdd-104"> also supports the definition of service operations.</span></span> <span data-ttu-id="6acdd-105">Después de la implementación inicial y de haber transcurrido potencialmente varias horas durante su duración, estos servicios de datos pueden necesitar ser cambiados debido a diversas razones, como cambios en las necesidades comerciales, requisitos de tecnología de la información o para resolver otros problemas.</span><span class="sxs-lookup"><span data-stu-id="6acdd-105">After initial deployment, and potentially several times during their lifetime, these data services may need to be changed for a variety of reasons, such as changing business needs, information technology requirements, or to address other issues.</span></span> <span data-ttu-id="6acdd-106">Al realizar cambios en un servicio de datos existente, debe considerar si va a definir una nueva versión de su servicio de datos y cómo minimizar mejor el impacto en las aplicaciones cliente existentes.</span><span class="sxs-lookup"><span data-stu-id="6acdd-106">When you make changes to an existing data service, you must consider whether to define a new version of your data service and how best to minimize the impact on existing client applications.</span></span> <span data-ttu-id="6acdd-107">En este tema se proporciona orientación sobre cuándo y cómo crear una nueva versión de un servicio de datos.</span><span class="sxs-lookup"><span data-stu-id="6acdd-107">This topic provides guidance on when and how to create a new version of a data service.</span></span> <span data-ttu-id="6acdd-108">También describe cómo administra [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] un intercambio entre clientes y servicios de datos que admite diferentes versiones del protocolo [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)].</span><span class="sxs-lookup"><span data-stu-id="6acdd-108">It also describes how [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] handles an exchange between clients and data services that support different versions of the [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] protocol.</span></span>  
  
## <a name="versioning-a-wcf-data-service"></a><span data-ttu-id="6acdd-109">Control de versiones de WCF Data Services</span><span class="sxs-lookup"><span data-stu-id="6acdd-109">Versioning a WCF Data Service</span></span>  
 <span data-ttu-id="6acdd-110">Una vez implementado un servicio de datos y usados los datos, los cambios realizados al servicio de datos tienen el potencial para producir problemas de compatibilidad con las aplicaciones cliente existentes.</span><span class="sxs-lookup"><span data-stu-id="6acdd-110">Once a data service is deployed and the data is being consumed, changes to the data service have the potential to cause compatibility issues with existing client applications.</span></span> <span data-ttu-id="6acdd-111">Sin embargo, como las necesidades del negocio totales del servicio requieren a menudo cambios, debe considerar cuándo y cómo crear una nueva versión de su servicio de datos con el menor impacto para las aplicaciones cliente.</span><span class="sxs-lookup"><span data-stu-id="6acdd-111">However, because changes are often required by the overall business needs of the service, you must consider when and how to create a new version of your data service with the least impact on client applications.</span></span>  
  
### <a name="data-model-changes-that-recommend-a-new-data-service-version"></a><span data-ttu-id="6acdd-112">Cambios del modelo de datos que recomiendan una nueva versión del servicio de datos</span><span class="sxs-lookup"><span data-stu-id="6acdd-112">Data Model Changes that Recommend a New Data Service Version</span></span>  
 <span data-ttu-id="6acdd-113">Al considerar si se va a publicar una nueva versión de un servicio de datos, es importante entender cómo los diferentes tipos de cambios pueden afectar a las aplicaciones cliente.</span><span class="sxs-lookup"><span data-stu-id="6acdd-113">When considering whether to publish a new version of a data service, it is important to understand how the different kinds of changes may affect client applications.</span></span> <span data-ttu-id="6acdd-114">Los cambios de un servicio de datos que podrían requerir crear una nueva versión de un servicio de datos se pueden dividir en las siguientes dos categorías:</span><span class="sxs-lookup"><span data-stu-id="6acdd-114">Changes to a data service that might require you to create a new version of a data service can be divided into the following two categories:</span></span>  
  
-   <span data-ttu-id="6acdd-115">Los cambios del contrato de servicio —que incluyen actualizaciones de las operaciones de servicio, cambios de la accesibilidad de conjuntos de entidades (fuentes), cambios de versiones y otros cambios de los comportamientos del servicio.</span><span class="sxs-lookup"><span data-stu-id="6acdd-115">Changes to the service contract—which include updates to service operations, changes to the accessibility of entity sets (feeds), version changes, and other changes to service behaviors.</span></span>  
  
-   <span data-ttu-id="6acdd-116">Los cambios del contrato de datos —que incluyen cambios del modelo de datos, formatos de fuente o personalización de la fuente.</span><span class="sxs-lookup"><span data-stu-id="6acdd-116">Changes to the data contract—which include changes to the data model, feed formats, or feed customizations.</span></span>  
  
 <span data-ttu-id="6acdd-117">La tabla siguiente detalla para qué clases de cambios debe considerar la posibilidad de publicar una nueva versión del servicio de datos:</span><span class="sxs-lookup"><span data-stu-id="6acdd-117">The following table details for which kinds of changes you should consider publishing a new version of the data service:</span></span>  
  
|<span data-ttu-id="6acdd-118">Tipo de cambio</span><span class="sxs-lookup"><span data-stu-id="6acdd-118">Type of Change</span></span>|<span data-ttu-id="6acdd-119">Requiere una nueva versión</span><span class="sxs-lookup"><span data-stu-id="6acdd-119">Requires a new version</span></span>|<span data-ttu-id="6acdd-120">No se necesita una nueva versión</span><span class="sxs-lookup"><span data-stu-id="6acdd-120">New version not needed</span></span>|  
|--------------------|----------------------------|----------------------------|  
|<span data-ttu-id="6acdd-121">Operaciones de servicio</span><span class="sxs-lookup"><span data-stu-id="6acdd-121">Service operations</span></span>|<span data-ttu-id="6acdd-122">-Agregar nuevo parámetro</span><span class="sxs-lookup"><span data-stu-id="6acdd-122">-   Add new parameter</span></span><br /><span data-ttu-id="6acdd-123">-Cambiar tipo de valor devuelto</span><span class="sxs-lookup"><span data-stu-id="6acdd-123">-   Change return type</span></span><br /><span data-ttu-id="6acdd-124">-Quitar la operación de servicio</span><span class="sxs-lookup"><span data-stu-id="6acdd-124">-   Remove service operation</span></span>|<span data-ttu-id="6acdd-125">-Eliminar parámetro existente</span><span class="sxs-lookup"><span data-stu-id="6acdd-125">-   Delete existing parameter</span></span><br /><span data-ttu-id="6acdd-126">-Agregar nueva operación de servicio</span><span class="sxs-lookup"><span data-stu-id="6acdd-126">-   Add new service operation</span></span>|  
|<span data-ttu-id="6acdd-127">Comportamientos de servicio</span><span class="sxs-lookup"><span data-stu-id="6acdd-127">Service behaviors</span></span>|<span data-ttu-id="6acdd-128">-Deshabilitar las solicitudes de recuento</span><span class="sxs-lookup"><span data-stu-id="6acdd-128">-   Disable count requests</span></span><br /><span data-ttu-id="6acdd-129">-Deshabilitar la compatibilidad de la proyección</span><span class="sxs-lookup"><span data-stu-id="6acdd-129">-   Disable projection support</span></span><br /><span data-ttu-id="6acdd-130">-Aumentar la versión de servicio de datos necesaria</span><span class="sxs-lookup"><span data-stu-id="6acdd-130">-   Increase the required data service version</span></span>|<span data-ttu-id="6acdd-131">-Habilitar las solicitudes de recuento</span><span class="sxs-lookup"><span data-stu-id="6acdd-131">-   Enable count requests</span></span><br /><span data-ttu-id="6acdd-132">-Habilitar la compatibilidad de la proyección</span><span class="sxs-lookup"><span data-stu-id="6acdd-132">-   Enable projection support</span></span><br /><span data-ttu-id="6acdd-133">-Disminuir la versión del servicio de datos necesarios</span><span class="sxs-lookup"><span data-stu-id="6acdd-133">-   Decrease the required data service version</span></span>|  
|<span data-ttu-id="6acdd-134">Permisos del conjunto de entidades</span><span class="sxs-lookup"><span data-stu-id="6acdd-134">Entity set permissions</span></span>|<span data-ttu-id="6acdd-135">-Restringir permisos del conjunto de entidades</span><span class="sxs-lookup"><span data-stu-id="6acdd-135">-   Restrict entity set permissions</span></span><br /><span data-ttu-id="6acdd-136">-Cambiar el código de respuesta (nuevo primer valor de dígito) <sup>1</sup></span><span class="sxs-lookup"><span data-stu-id="6acdd-136">-   Change response code (new first digit value) <sup>1</sup></span></span>|<span data-ttu-id="6acdd-137">-Relaje los permisos del conjunto de entidades</span><span class="sxs-lookup"><span data-stu-id="6acdd-137">-   Relax entity set permissions</span></span><br /><span data-ttu-id="6acdd-138">-Cambiar el código de respuesta (mismo primer valor de dígito)</span><span class="sxs-lookup"><span data-stu-id="6acdd-138">-   Change response code (same first digit value)</span></span>|  
|<span data-ttu-id="6acdd-139">Propiedades de entidad</span><span class="sxs-lookup"><span data-stu-id="6acdd-139">Entity properties</span></span>|<span data-ttu-id="6acdd-140">-Quitar propiedad o relación existente</span><span class="sxs-lookup"><span data-stu-id="6acdd-140">-   Remove existing property or relationship</span></span><br /><span data-ttu-id="6acdd-141">-Agregar una propiedad que no aceptan valores null</span><span class="sxs-lookup"><span data-stu-id="6acdd-141">-   Add non-nullable property</span></span><br /><span data-ttu-id="6acdd-142">-Cambiar la propiedad existente</span><span class="sxs-lookup"><span data-stu-id="6acdd-142">-   Change existing property</span></span>|<span data-ttu-id="6acdd-143">-Agregar una propiedad que acepta valores NULL<sup>2</sup></span><span class="sxs-lookup"><span data-stu-id="6acdd-143">-   Add nullable property<sup>2</sup></span></span>|  
|<span data-ttu-id="6acdd-144">Conjuntos de entidades</span><span class="sxs-lookup"><span data-stu-id="6acdd-144">Entity sets</span></span>|<span data-ttu-id="6acdd-145">-Quitar el conjunto de entidades</span><span class="sxs-lookup"><span data-stu-id="6acdd-145">-   Remove entity set</span></span>|<span data-ttu-id="6acdd-146">-Agregar el tipo derivado</span><span class="sxs-lookup"><span data-stu-id="6acdd-146">-   Add derived type</span></span><br /><span data-ttu-id="6acdd-147">-Cambie el tipo base</span><span class="sxs-lookup"><span data-stu-id="6acdd-147">-   Change base type</span></span><br /><span data-ttu-id="6acdd-148">-Agregar conjunto de entidades</span><span class="sxs-lookup"><span data-stu-id="6acdd-148">-   Add entity set</span></span>|  
|<span data-ttu-id="6acdd-149">Personalización de fuentes</span><span class="sxs-lookup"><span data-stu-id="6acdd-149">Feed customization</span></span>|<span data-ttu-id="6acdd-150">-Cambiar la asignación de propiedad de entidad</span><span class="sxs-lookup"><span data-stu-id="6acdd-150">-   Change entity-property mapping</span></span>||  
  
 <span data-ttu-id="6acdd-151"><sup>1</sup> Esto puede depender de qué tan estricta una aplicación cliente se basa en recibir un código de error específico.</span><span class="sxs-lookup"><span data-stu-id="6acdd-151"><sup>1</sup> This may depend on how strictly a client application relies on receiving a specific error code.</span></span>  
  
 <span data-ttu-id="6acdd-152"><sup>2</sup> puede establecer la <xref:System.Data.Services.Client.DataServiceContext.IgnoreMissingProperties%2A> propiedad `true` para que el cliente omita cualquier nueva propiedad enviada por el servicio de datos que no estén definidos en el cliente.</span><span class="sxs-lookup"><span data-stu-id="6acdd-152"><sup>2</sup> You can set the <xref:System.Data.Services.Client.DataServiceContext.IgnoreMissingProperties%2A> property to `true` to have the client ignore any new properties sent by the data service that are not defined on the client.</span></span> <span data-ttu-id="6acdd-153">Sin embargo, cuando se realizan inserciones, las propiedades no incluidas por el cliente en la solicitud POST se establecen en sus valores predeterminados.</span><span class="sxs-lookup"><span data-stu-id="6acdd-153">However, when inserts are made, the properties not included by the client in the POST request are set to their default values.</span></span> <span data-ttu-id="6acdd-154">Para las actualizaciones, cualquier dato existente en una propiedad desconocida para el cliente podría sobrescribirse con los valores predeterminados.</span><span class="sxs-lookup"><span data-stu-id="6acdd-154">For updates, any existing data in a property unknown to the client might be overwritten with default values.</span></span> <span data-ttu-id="6acdd-155">En este caso, debería enviar la actualización como una solicitud MERGE, que es el valor predeterminado.</span><span class="sxs-lookup"><span data-stu-id="6acdd-155">In this case, you should send the update as a MERGE request, which is the default.</span></span> <span data-ttu-id="6acdd-156">Para obtener más información, consulte [administrar el contexto de servicio de datos](../../../../docs/framework/data/wcf/managing-the-data-service-context-wcf-data-services.md).</span><span class="sxs-lookup"><span data-stu-id="6acdd-156">For more information, see [Managing the Data Service Context](../../../../docs/framework/data/wcf/managing-the-data-service-context-wcf-data-services.md).</span></span>  
  
### <a name="how-to-version-a-data-service"></a><span data-ttu-id="6acdd-157">Cómo controlar las versiones de un servicio de datos</span><span class="sxs-lookup"><span data-stu-id="6acdd-157">How to Version a Data Service</span></span>  
 <span data-ttu-id="6acdd-158">Cuando se requiere, una nueva versión del servicio de datos se define creando una nueva instancia del servicio con un contrato de servicio o un modelo de datos actualizado.</span><span class="sxs-lookup"><span data-stu-id="6acdd-158">When required, a new data service version is defined by creating a new instance of the service with an updated service contract or data model.</span></span> <span data-ttu-id="6acdd-159">A continuación, este nuevo servicio se expone usando un nuevo extremo de URI, que lo diferencia de la versión anterior.</span><span class="sxs-lookup"><span data-stu-id="6acdd-159">This new service is then exposed by using a new URI endpoint, which differentiates it from the previous version.</span></span> <span data-ttu-id="6acdd-160">Por ejemplo:</span><span class="sxs-lookup"><span data-stu-id="6acdd-160">For example:</span></span>  
  
-   <span data-ttu-id="6acdd-161">La versión anterior: `http://services.odata.org/Northwind/v1/Northwind.svc/`</span><span class="sxs-lookup"><span data-stu-id="6acdd-161">Old version: `http://services.odata.org/Northwind/v1/Northwind.svc/`</span></span>  
  
-   <span data-ttu-id="6acdd-162">Nueva versión: `http://services.odata.org/Northwind/v2/Northwind.svc/`</span><span class="sxs-lookup"><span data-stu-id="6acdd-162">New version: `http://services.odata.org/Northwind/v2/Northwind.svc/`</span></span>  
  
 <span data-ttu-id="6acdd-163">Al actualizar un servicio de datos, los clientes necesitarán también estar actualizados según los nuevos metadatos del servicio de datos y usar el nuevo URI raíz.</span><span class="sxs-lookup"><span data-stu-id="6acdd-163">When upgrading a data service, clients will need to also be updated based on the new data service metadata and to use the new root URI.</span></span> <span data-ttu-id="6acdd-164">Cuando sea posible, debe mantener la versión anterior del servicio de datos para admitir clientes que todavía no se hayan actualizado para usar la nueva versión.</span><span class="sxs-lookup"><span data-stu-id="6acdd-164">When possible, you should maintain the previous version of the data service to support clients that have not yet been upgraded to use the new version.</span></span> <span data-ttu-id="6acdd-165">Se pueden quitar las versiones anteriores de un servicio de datos cuando ya no se necesitan.</span><span class="sxs-lookup"><span data-stu-id="6acdd-165">Older versions of a data service can be removed when they are no longer needed.</span></span> <span data-ttu-id="6acdd-166">Debe considerar la posibilidad de mantener el URI del extremo del servicio de datos en un archivo de configuración externo.</span><span class="sxs-lookup"><span data-stu-id="6acdd-166">You should consider maintaining the data service endpoint URI in an external configuration file.</span></span>  
  
## <a name="odata-protocol-versions"></a><span data-ttu-id="6acdd-167">Versiones del protocolo OData</span><span class="sxs-lookup"><span data-stu-id="6acdd-167">OData Protocol Versions</span></span>  
 <span data-ttu-id="6acdd-168">Como las nuevas versiones de [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] están publicadas, las aplicaciones cliente que no esté utilizando la misma versión de la [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] protocolo que es compatible con el servicio de datos.</span><span class="sxs-lookup"><span data-stu-id="6acdd-168">As new versions of [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] are released, client applications may not be using the same version of the [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] protocol that is supported by the data service.</span></span> <span data-ttu-id="6acdd-169">Una aplicación cliente anterior puede tener acceso a un servicio de datos que admita una versión más reciente de [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)].</span><span class="sxs-lookup"><span data-stu-id="6acdd-169">An older client application may access a data service that supports a newer version of [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)].</span></span> <span data-ttu-id="6acdd-170">Una aplicación cliente también esté usando una versión más reciente de la [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] biblioteca de cliente, que es compatible con una versión más reciente de [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] de servicio de datos que se tiene acceso.</span><span class="sxs-lookup"><span data-stu-id="6acdd-170">A client application may also be using a newer version of the [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] client library, which supports a newer version of [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] than does the data service that is being accessed.</span></span>  
  
 [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)]<span data-ttu-id="6acdd-171"> aprovecha la compatibilidad proporcionada por [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] para administrar estos escenarios de control de versiones.</span><span class="sxs-lookup"><span data-stu-id="6acdd-171"> leverages the support provided by [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] to handle such versioning scenarios.</span></span> <span data-ttu-id="6acdd-172">También hay compatibilidad para generar y utilizar los metadatos del modelo de datos para crear las clases de servicio de datos de cliente cuando el cliente usa una versión diferente de [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] que el servicio de datos usa.</span><span class="sxs-lookup"><span data-stu-id="6acdd-172">There is also support for generating and using data model metadata to create client data service classes when the client uses a different version of [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] than the data service uses.</span></span> <span data-ttu-id="6acdd-173">Para obtener más información, consulte [OData: control de versiones de protocolo](http://go.microsoft.com/fwlink/?LinkId=186071).</span><span class="sxs-lookup"><span data-stu-id="6acdd-173">For more information, see [OData: Protocol Versioning](http://go.microsoft.com/fwlink/?LinkId=186071).</span></span>  
  
### <a name="version-negotiation"></a><span data-ttu-id="6acdd-174">Negociación de las versiones</span><span class="sxs-lookup"><span data-stu-id="6acdd-174">Version Negotiation</span></span>  
 <span data-ttu-id="6acdd-175">El servicio de datos puede configurarse para definir la versión más reciente de la [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] protocolo que se usará en el servicio, independientemente de la versión solicitada por el cliente.</span><span class="sxs-lookup"><span data-stu-id="6acdd-175">The data service can be configured to define the highest version of the [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] protocol that will be used by the service, regardless of the version requested by the client.</span></span> <span data-ttu-id="6acdd-176">Puede hacerlo mediante la especificación de un <xref:System.Data.Services.Common.DataServiceProtocolVersion> valor para el <xref:System.Data.Services.DataServiceBehavior.MaxProtocolVersion%2A> propiedad de la <xref:System.Data.Services.DataServiceBehavior> utilizado por el servicio de datos.</span><span class="sxs-lookup"><span data-stu-id="6acdd-176">You can do this by specifying a <xref:System.Data.Services.Common.DataServiceProtocolVersion> value for the <xref:System.Data.Services.DataServiceBehavior.MaxProtocolVersion%2A> property of the <xref:System.Data.Services.DataServiceBehavior> used by the data service.</span></span> <span data-ttu-id="6acdd-177">Para obtener más información, consulte [configurar el servicio de datos](../../../../docs/framework/data/wcf/configuring-the-data-service-wcf-data-services.md).</span><span class="sxs-lookup"><span data-stu-id="6acdd-177">For more information, see [Configuring the Data Service](../../../../docs/framework/data/wcf/configuring-the-data-service-wcf-data-services.md).</span></span>  
  
 <span data-ttu-id="6acdd-178">Cuando una aplicación usa las bibliotecas de cliente de [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] para tener acceso a un servicio de datos, las bibliotecas establecen automáticamente estos encabezados en los valores correctos, en función de la versión de [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] y de las características que se usan en la aplicación.</span><span class="sxs-lookup"><span data-stu-id="6acdd-178">When an application uses the [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] client libraries to access a data service, the libraries automatically set these headers to the correct values, depending on the version of [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] and the features that are used in your application.</span></span> <span data-ttu-id="6acdd-179">De forma predeterminada, [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] utiliza la versión más antigua de protocolo que admite la operación solicitada.</span><span class="sxs-lookup"><span data-stu-id="6acdd-179">By default, [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] uses the lowest protocol version that supports the requested operation.</span></span>  
  
 <span data-ttu-id="6acdd-180">En la siguiente tabla se detallan las versiones de [!INCLUDE[dnprdnshort](../../../../includes/dnprdnshort-md.md)] y [!INCLUDE[silverlight](../../../../includes/silverlight-md.md)] que incluyen compatibilidad con [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] para versiones específicas del protocolo [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)].</span><span class="sxs-lookup"><span data-stu-id="6acdd-180">The following table details the versions of [!INCLUDE[dnprdnshort](../../../../includes/dnprdnshort-md.md)] and [!INCLUDE[silverlight](../../../../includes/silverlight-md.md)] that include [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] support for specific versions of the [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] protocol.</span></span>  
  
|<span data-ttu-id="6acdd-181">Versión del protocolo [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)]</span><span class="sxs-lookup"><span data-stu-id="6acdd-181">[!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] Protocol Version</span></span>|<span data-ttu-id="6acdd-182">Compatibilidad introducida en…</span><span class="sxs-lookup"><span data-stu-id="6acdd-182">Support introduced in…</span></span>|  
|-----------------------------------------------------------------------------------|----------------------------|  
|<span data-ttu-id="6acdd-183">Versión 1</span><span class="sxs-lookup"><span data-stu-id="6acdd-183">Version 1</span></span>|<span data-ttu-id="6acdd-184">-   [!INCLUDE[netfx35_long](../../../../includes/netfx35-long-md.md)] Service Pack 1 (SP1)</span><span class="sxs-lookup"><span data-stu-id="6acdd-184">-   [!INCLUDE[netfx35_long](../../../../includes/netfx35-long-md.md)] Service Pack 1 (SP1)</span></span><br /><span data-ttu-id="6acdd-185">-   [!INCLUDE[silverlight](../../../../includes/silverlight-md.md)] versión 3</span><span class="sxs-lookup"><span data-stu-id="6acdd-185">-   [!INCLUDE[silverlight](../../../../includes/silverlight-md.md)] version 3</span></span>|  
|<span data-ttu-id="6acdd-186">Versión 2</span><span class="sxs-lookup"><span data-stu-id="6acdd-186">Version 2</span></span>|-   [!INCLUDE[netfx40_long](../../../../includes/netfx40-long-md.md)]<br /><span data-ttu-id="6acdd-187">-Una actualización [!INCLUDE[netfx35_long](../../../../includes/netfx35-long-md.md)] SP1.</span><span class="sxs-lookup"><span data-stu-id="6acdd-187">-   An update to [!INCLUDE[netfx35_long](../../../../includes/netfx35-long-md.md)] SP1.</span></span> <span data-ttu-id="6acdd-188">Puede descargar e instalar la actualización desde el [Microsoft Download Center](http://go.microsoft.com/fwlink/?LinkId=158125).</span><span class="sxs-lookup"><span data-stu-id="6acdd-188">You can download and install the update from the [Microsoft Download Center](http://go.microsoft.com/fwlink/?LinkId=158125).</span></span><br /><span data-ttu-id="6acdd-189">-   [!INCLUDE[silverlight](../../../../includes/silverlight-md.md)] versión 4</span><span class="sxs-lookup"><span data-stu-id="6acdd-189">-   [!INCLUDE[silverlight](../../../../includes/silverlight-md.md)] version 4</span></span>|  
|<span data-ttu-id="6acdd-190">Versión 3</span><span class="sxs-lookup"><span data-stu-id="6acdd-190">Version 3</span></span>|<span data-ttu-id="6acdd-191">-Se puede descargar e instalar una versión preliminar que admite [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] versión 3 de la [Microsoft Download Center](http://go.microsoft.com/fwlink/?LinkId=203885).</span><span class="sxs-lookup"><span data-stu-id="6acdd-191">-   You can download and install a pre-release version that supports [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] version 3 from the [Microsoft Download Center](http://go.microsoft.com/fwlink/?LinkId=203885).</span></span>|  
  
### <a name="metadata-versions"></a><span data-ttu-id="6acdd-192">Versiones de metadatos</span><span class="sxs-lookup"><span data-stu-id="6acdd-192">Metadata Versions</span></span>  
 <span data-ttu-id="6acdd-193">De forma predeterminada, [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] usa la versión 1.1 de CSDL para representar un modelo de datos.</span><span class="sxs-lookup"><span data-stu-id="6acdd-193">By default, [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] uses version 1.1 of CSDL to represent a data model.</span></span> <span data-ttu-id="6acdd-194">Este siempre es el caso para los modelos de datos basados en un proveedor de reflexión o en un proveedor del servicio de datos personalizados.</span><span class="sxs-lookup"><span data-stu-id="6acdd-194">This is always the case for data models that are based on either a reflection provider or a custom data service provider.</span></span> <span data-ttu-id="6acdd-195">No obstante, cuando se define un modelo de datos mediante [!INCLUDE[adonet_ef](../../../../includes/adonet-ef-md.md)], la versión devuelta de CSDL es la misma que la que usa [!INCLUDE[adonet_ef](../../../../includes/adonet-ef-md.md)].</span><span class="sxs-lookup"><span data-stu-id="6acdd-195">However, when the data model is defined by using the [!INCLUDE[adonet_ef](../../../../includes/adonet-ef-md.md)], the version of CSDL returned is the same as the version that is used by the [!INCLUDE[adonet_ef](../../../../includes/adonet-ef-md.md)].</span></span> <span data-ttu-id="6acdd-196">La versión de CSDL se determina por el espacio de nombres de la [elemento Schema](http://msdn.microsoft.com/library/396074d8-f99c-4f50-a073-68bce848224f).</span><span class="sxs-lookup"><span data-stu-id="6acdd-196">The version of the CSDL is determined by the namespace of the [Schema element](http://msdn.microsoft.com/library/396074d8-f99c-4f50-a073-68bce848224f).</span></span> [!INCLUDE[crdefault](../../../../includes/crdefault-md.md)]<span data-ttu-id="6acdd-197"> la especificación de [ \[MC-CSDL\]: formato de archivo de definición de esquemas conceptuales](http://go.microsoft.com/fwlink/?LinkId=159072).</span><span class="sxs-lookup"><span data-stu-id="6acdd-197"> the specification [\[MC-CSDL\]: Conceptual Schema Definition File Format](http://go.microsoft.com/fwlink/?LinkId=159072).</span></span>  
  
 <span data-ttu-id="6acdd-198">El elemento `DataServices` de los metadatos devueltos también contiene un atributo `DataServiceVersion`, que tiene el mismo valor que el encabezado `DataServiceVersion` del mensaje de respuesta.</span><span class="sxs-lookup"><span data-stu-id="6acdd-198">The `DataServices` element of the returned metadata also contains a `DataServiceVersion` attribute, which is the same value as the `DataServiceVersion` header in the response message.</span></span> <span data-ttu-id="6acdd-199">Las aplicaciones cliente, como el **Agregar referencia de servicio** cuadro de diálogo de Visual Studio, utilice esta información para generar los servicios de datos de cliente, las clases que funcionan correctamente con la versión de [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] que hospede el servicio de datos.</span><span class="sxs-lookup"><span data-stu-id="6acdd-199">Client applications, such as the **Add Service Reference** dialog box in Visual Studio, use this information to generate client data service classes that work correctly with the version of [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] that host the data service.</span></span> <span data-ttu-id="6acdd-200">Para obtener más información, consulte [OData: control de versiones de protocolo](http://go.microsoft.com/fwlink/?LinkId=186071).</span><span class="sxs-lookup"><span data-stu-id="6acdd-200">For more information, see [OData: Protocol Versioning](http://go.microsoft.com/fwlink/?LinkId=186071).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="6acdd-201">Vea también</span><span class="sxs-lookup"><span data-stu-id="6acdd-201">See Also</span></span>  
 [<span data-ttu-id="6acdd-202">Proveedores de Data Services</span><span class="sxs-lookup"><span data-stu-id="6acdd-202">Data Services Providers</span></span>](../../../../docs/framework/data/wcf/data-services-providers-wcf-data-services.md)  
 [<span data-ttu-id="6acdd-203">Definir Servicios de datos de WCF</span><span class="sxs-lookup"><span data-stu-id="6acdd-203">Defining WCF Data Services</span></span>](../../../../docs/framework/data/wcf/defining-wcf-data-services.md)
