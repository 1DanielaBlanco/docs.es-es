---
title: "Cómo: Enlazar datos mediante un origen de datos del proyecto (WCF Data Services)"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework-oob
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-clr
ms.tgt_pltfrm: 
ms.topic: article
dev_langs:
- csharp
- vb
helpviewer_keywords:
- data binding, WCF Data Services
- WCF Data Services, data binding
ms.assetid: 2477af0a-676f-44f7-b73d-e66208785509
caps.latest.revision: "2"
author: dotnet-bot
ms.author: dotnetcontent
manager: wpickett
ms.workload: dotnet
ms.openlocfilehash: 94ca7614e6df2d82216fa869309dff2da8eee634
ms.sourcegitcommit: 16186c34a957fdd52e5db7294f291f7530ac9d24
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 12/22/2017
---
# <a name="how-to-bind-data-using-a-project-data-source-wcf-data-services"></a><span data-ttu-id="a219a-102">Cómo: Enlazar datos mediante un origen de datos del proyecto (WCF Data Services)</span><span class="sxs-lookup"><span data-stu-id="a219a-102">How to: Bind Data Using a Project Data Source (WCF Data Services)</span></span>
<span data-ttu-id="a219a-103">Puede crear orígenes de datos basados en los objetos de datos generados en una aplicación cliente de [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)].</span><span class="sxs-lookup"><span data-stu-id="a219a-103">You can create data sources that are based on the generated data objects in an [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] client application.</span></span> <span data-ttu-id="a219a-104">Al agregar una referencia a un servicio de datos mediante el uso de la **Agregar referencia de servicio** cuadro de diálogo, se crea un origen de datos del proyecto junto con las clases de datos de cliente generado.</span><span class="sxs-lookup"><span data-stu-id="a219a-104">When you add a reference to a data service by using the **Add Service Reference** dialog, a project data source is created along with the generated client data classes.</span></span> <span data-ttu-id="a219a-105">Para cada conjunto de entidades expuesto por el servicio de datos se crea un origen de datos.</span><span class="sxs-lookup"><span data-stu-id="a219a-105">One data source is created for each entity set that the data service exposes.</span></span> <span data-ttu-id="a219a-106">Puede crear formularios que muestren los datos del servicio arrastrando estos elementos de origen de datos de la **orígenes de datos** ventana hasta el diseñador.</span><span class="sxs-lookup"><span data-stu-id="a219a-106">You can create forms that display data from the service by dragging these data source items from the **Data Sources** window onto the designer.</span></span> <span data-ttu-id="a219a-107">Estos elementos se convierten en controles enlazados al origen de datos.</span><span class="sxs-lookup"><span data-stu-id="a219a-107">These items become controls that are bound to the data source.</span></span> <span data-ttu-id="a219a-108">Durante la ejecución, este origen de datos se enlaza a una instancia de la <xref:System.Data.Services.Client.DataServiceCollection%601> (clase), que se rellena con los objetos devueltos por una consulta al servicio de datos.</span><span class="sxs-lookup"><span data-stu-id="a219a-108">During execution, this data source is bound to an instance of the <xref:System.Data.Services.Client.DataServiceCollection%601> class, which is filled with objects that are returned by a query to the data service.</span></span> <span data-ttu-id="a219a-109">Para obtener más información, consulte [enlazar datos a controles](../../../../docs/framework/data/wcf/binding-data-to-controls-wcf-data-services.md).</span><span class="sxs-lookup"><span data-stu-id="a219a-109">For more information, see [Binding Data to Controls](../../../../docs/framework/data/wcf/binding-data-to-controls-wcf-data-services.md).</span></span>  
  
 <span data-ttu-id="a219a-110">En los ejemplos de este tema se usa el servicio de datos de ejemplo Northwind y las clases del servicio de datos del cliente generadas automáticamente.</span><span class="sxs-lookup"><span data-stu-id="a219a-110">The examples in this topic use the Northwind sample data service and autogenerated client data service classes.</span></span> <span data-ttu-id="a219a-111">Se crean este servicio y las clases de datos de cliente al completar la [inicio rápido de WCF Data Services](../../../../docs/framework/data/wcf/quickstart-wcf-data-services.md).</span><span class="sxs-lookup"><span data-stu-id="a219a-111">This service and the client data classes are created when you complete the [WCF Data Services quickstart](../../../../docs/framework/data/wcf/quickstart-wcf-data-services.md).</span></span>  
  
### <a name="to-use-a-project-data-source-in-a-wpf-window"></a><span data-ttu-id="a219a-112">Para usar un origen de datos del proyecto en una ventana de WPF</span><span class="sxs-lookup"><span data-stu-id="a219a-112">To use a project data source in a WPF window</span></span>  
  
1.  <span data-ttu-id="a219a-113">En un proyecto WPF, agregue una referencia al servicio de datos de Northwind.</span><span class="sxs-lookup"><span data-stu-id="a219a-113">In a WPF project, add a reference to the Northwind data service.</span></span> <span data-ttu-id="a219a-114">Para obtener más información, consulte [Cómo: agregar una referencia de servicio de datos](../../../../docs/framework/data/wcf/how-to-add-a-data-service-reference-wcf-data-services.md).</span><span class="sxs-lookup"><span data-stu-id="a219a-114">For more information, see [How to: Add a Data Service Reference](../../../../docs/framework/data/wcf/how-to-add-a-data-service-reference-wcf-data-services.md).</span></span>  
  
2.  <span data-ttu-id="a219a-115">En el **orígenes de datos** ventana, expanda la `Customers` nodo en el **NorthwindEntities** origen de datos del proyecto.</span><span class="sxs-lookup"><span data-stu-id="a219a-115">In the **Data Sources** window, expand the `Customers` node in the **NorthwindEntities** project data source.</span></span>  
  
3.  <span data-ttu-id="a219a-116">Haga clic en el **CustomerID** elemento, seleccione **ComboBox** en la lista y arrastre la **CustomerID** de elementos de la **clientes** nodo a la diseñador.</span><span class="sxs-lookup"><span data-stu-id="a219a-116">Click the **CustomerID** item, select **ComboBox** from the list, and drag the **CustomerID** item from the **Customers** node to the designer.</span></span>  
  
     <span data-ttu-id="a219a-117">Con ello se crean los siguientes elementos de objeto en el archivo XAML de la ventana:</span><span class="sxs-lookup"><span data-stu-id="a219a-117">This creates the following object elements in the XAML file for the window:</span></span>  
  
    -   <span data-ttu-id="a219a-118">Un elemento <xref:System.Windows.Data.CollectionViewSource> denominado `customersViewSource`.</span><span class="sxs-lookup"><span data-stu-id="a219a-118">A <xref:System.Windows.Data.CollectionViewSource> element named `customersViewSource`.</span></span> <span data-ttu-id="a219a-119">La propiedad <xref:System.Windows.FrameworkElement.DataContext%2A> del elemento de objeto <xref:System.Windows.Controls.Grid> de nivel superior se establece en este nuevo elemento <xref:System.Windows.Data.CollectionViewSource>.</span><span class="sxs-lookup"><span data-stu-id="a219a-119">The <xref:System.Windows.FrameworkElement.DataContext%2A> property of the top-level <xref:System.Windows.Controls.Grid> object element is set to this new <xref:System.Windows.Data.CollectionViewSource>.</span></span>  
  
    -   <span data-ttu-id="a219a-120">Un control <xref:System.Windows.Controls.ComboBox> enlazado a datos denominado `CustomerID`.</span><span class="sxs-lookup"><span data-stu-id="a219a-120">A data-bound <xref:System.Windows.Controls.ComboBox> named `CustomerID`.</span></span>  
  
    -   <span data-ttu-id="a219a-121">Objeto <xref:System.Windows.Controls.Label>.</span><span class="sxs-lookup"><span data-stu-id="a219a-121">A <xref:System.Windows.Controls.Label>.</span></span>  
  
4.  <span data-ttu-id="a219a-122">Arrastre el **pedidos** propiedad de navegación para el diseñador.</span><span class="sxs-lookup"><span data-stu-id="a219a-122">Drag the **Orders** navigation property to the designer.</span></span>  
  
     <span data-ttu-id="a219a-123">Con ello se crean los siguientes elementos de objeto adicionales en el archivo XAML de la ventana:</span><span class="sxs-lookup"><span data-stu-id="a219a-123">This creates the following additional object elements in the XAML file for the window:</span></span>  
  
    -   <span data-ttu-id="a219a-124">Un segundo elemento <xref:System.Windows.Data.CollectionViewSource> denominado `customersOrdersViewSource`, cuyo origen es `customerViewSource`.</span><span class="sxs-lookup"><span data-stu-id="a219a-124">A second <xref:System.Windows.Data.CollectionViewSource> element named `customersOrdersViewSource`, the source of which is the `customerViewSource`.</span></span>  
  
    -   <span data-ttu-id="a219a-125">Un control <xref:System.Windows.Controls.DataGrid> enlazado a datos denominado `ordersDataGrid`.</span><span class="sxs-lookup"><span data-stu-id="a219a-125">A data-bound <xref:System.Windows.Controls.DataGrid> control named `ordersDataGrid`.</span></span>  
  
5.  <span data-ttu-id="a219a-126">(Opcional) Arrastre elementos adicionales desde la **clientes** nodo hasta el diseñador.</span><span class="sxs-lookup"><span data-stu-id="a219a-126">(Optional) Drag additional items from the **Customers** node to the designer.</span></span>  
  
6.  <span data-ttu-id="a219a-127">Abra la página de códigos del formulario y agregue las instrucciones `using` siguientes (`Imports` en Visual Basic):</span><span class="sxs-lookup"><span data-stu-id="a219a-127">Open the code page for the form and add the following `using` statements (`Imports` in Visual Basic):</span></span>  
  
     [!code-csharp[Astoria Northwind Client#CustomersOrdersUsingWpf](../../../../samples/snippets/csharp/VS_Snippets_Misc/astoria northwind client/cs/customerorderswpf2.xaml.cs#customersordersusingwpf)]  
  
7.  <span data-ttu-id="a219a-128">En la clase parcial que define el formulario, agregue el código siguiente que crea una instancia de <xref:System.Data.Objects.ObjectContext> y define la constante `customerID`.</span><span class="sxs-lookup"><span data-stu-id="a219a-128">In the partial class that defines the form, add the following code that creates an <xref:System.Data.Objects.ObjectContext> instance and defines the `customerID` constant.</span></span>  
  
     [!code-csharp[Astoria Northwind Client#CustomersOrdersDefinitionWpf](../../../../samples/snippets/csharp/VS_Snippets_Misc/astoria northwind client/cs/customerorderswpf2.xaml.cs#customersordersdefinitionwpf)]
     [!code-vb[Astoria Northwind Client#CustomersOrdersDefinitionWpf](../../../../samples/snippets/visualbasic/VS_Snippets_Misc/astoria northwind client/vb/customerorderswpf2.xaml.vb#customersordersdefinitionwpf)]  
  
8.  <span data-ttu-id="a219a-129">En el diseñador, seleccione la ventana.</span><span class="sxs-lookup"><span data-stu-id="a219a-129">In the designer, select the window.</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="a219a-130">Asegúrese de que selecciona la ventana, y no el contenido situado dentro de ella.</span><span class="sxs-lookup"><span data-stu-id="a219a-130">Make sure that you select the window itself, rather than selecting content that is within the window.</span></span> <span data-ttu-id="a219a-131">Si la ventana está activada, el **nombre** cuadro de texto situado cerca de la parte superior de la **propiedades** ventana debe contener el nombre de la ventana.</span><span class="sxs-lookup"><span data-stu-id="a219a-131">If the window is selected, the **Name** text box near the top of the **Properties** window should contain the name of the window.</span></span>  
  
9. <span data-ttu-id="a219a-132">En el **propiedades** ventana, seleccione la **eventos** botón.</span><span class="sxs-lookup"><span data-stu-id="a219a-132">In the **Properties** window, select the **Events** button.</span></span>  
  
10. <span data-ttu-id="a219a-133">Buscar el **Loaded** eventos y, a continuación, haga doble clic en la lista desplegable lista situada junto a este evento.</span><span class="sxs-lookup"><span data-stu-id="a219a-133">Find the **Loaded** event, and then double-click the drop-down list next to this event.</span></span>  
  
     <span data-ttu-id="a219a-134">Visual Studio abre el archivo de código subyacente para la ventana y genera un controlador de eventos <xref:System.Windows.FrameworkElement.Loaded>.</span><span class="sxs-lookup"><span data-stu-id="a219a-134">Visual Studio opens the code-behind file for the window and generates a <xref:System.Windows.FrameworkElement.Loaded> event handler.</span></span>  
  
11. <span data-ttu-id="a219a-135">En el controlador de eventos <xref:System.Windows.FrameworkElement.Loaded> que se acaba de crear, copie y pegue el código siguiente.</span><span class="sxs-lookup"><span data-stu-id="a219a-135">In the newly created <xref:System.Windows.FrameworkElement.Loaded> event handler, copy and paste the following code.</span></span>  
  
     [!code-csharp[Astoria Northwind Client#CustomersOrdersDataBindingWpf](../../../../samples/snippets/csharp/VS_Snippets_Misc/astoria northwind client/cs/customerorderswpf2.xaml.cs#customersordersdatabindingwpf)]
     [!code-vb[Astoria Northwind Client#CustomersOrdersDataBindingWpf](../../../../samples/snippets/visualbasic/VS_Snippets_Misc/astoria northwind client/vb/customerorderswpf2.xaml.vb#customersordersdatabindingwpf)]  
  
12. <span data-ttu-id="a219a-136">Este código crea una instancia de <xref:System.Data.Services.Client.DataServiceCollection%601> para el tipo `Customers` basándose en la ejecución de una consulta LINQ que devuelve una interfaz <xref:System.Collections.Generic.IEnumerable%601> de `Customers` junto con los objetos `Orders` relacionados desde el servicio de datos de Northwind y la enlaza con el elemento `customersViewSource`.</span><span class="sxs-lookup"><span data-stu-id="a219a-136">This code creates an instance of <xref:System.Data.Services.Client.DataServiceCollection%601> for the `Customers` type based on the execution of a LINQ query that returns an <xref:System.Collections.Generic.IEnumerable%601> of `Customers` along with related `Orders` objects from the Northwind data service and binds it to the `customersViewSource`.</span></span>  
  
### <a name="to-use-a-project-data-source-in-a-windows-form"></a><span data-ttu-id="a219a-137">Para usar un origen de datos del proyecto en un formulario de Windows</span><span class="sxs-lookup"><span data-stu-id="a219a-137">To use a project data source in a Windows form</span></span>  
  
1.  <span data-ttu-id="a219a-138">En el **orígenes de datos** ventana, expanda la **clientes** nodo en el **NorthwindEntities** origen de datos del proyecto.</span><span class="sxs-lookup"><span data-stu-id="a219a-138">In the **Data Sources** window, expand the **Customers** node in the **NorthwindEntities** project data source.</span></span>  
  
2.  <span data-ttu-id="a219a-139">Haga clic en el **CustomerID** elemento, seleccione **ComboBox** en la lista y arrastre la **CustomerID** de elementos de la **clientes** nodo a la diseñador.</span><span class="sxs-lookup"><span data-stu-id="a219a-139">Click the **CustomerID** item, select **ComboBox** from the list, and drag the **CustomerID** item from the **Customers** node to the designer.</span></span>  
  
     <span data-ttu-id="a219a-140">De esta forma se crean los controles siguientes en el formulario:</span><span class="sxs-lookup"><span data-stu-id="a219a-140">This creates the following controls on the form:</span></span>  
  
    -   <span data-ttu-id="a219a-141">Una instancia de <xref:System.Windows.Forms.BindingSource> denominada `customersBindingSource`.</span><span class="sxs-lookup"><span data-stu-id="a219a-141">An instance of <xref:System.Windows.Forms.BindingSource> named `customersBindingSource`.</span></span>  
  
    -   <span data-ttu-id="a219a-142">Una instancia de <xref:System.Windows.Forms.BindingNavigator> denominada `customersBindingNavigator`.</span><span class="sxs-lookup"><span data-stu-id="a219a-142">An instance of <xref:System.Windows.Forms.BindingNavigator> named `customersBindingNavigator`.</span></span> <span data-ttu-id="a219a-143">Puede eliminar este control, dado que no será necesario.</span><span class="sxs-lookup"><span data-stu-id="a219a-143">You can delete this control as it will not be needed.</span></span>  
  
    -   <span data-ttu-id="a219a-144">Un control <xref:System.Windows.Forms.ComboBox> enlazado a datos denominado `CustomerID`.</span><span class="sxs-lookup"><span data-stu-id="a219a-144">A data-bound <xref:System.Windows.Forms.ComboBox> named `CustomerID`.</span></span>  
  
    -   <span data-ttu-id="a219a-145">Objeto <xref:System.Windows.Forms.Label>.</span><span class="sxs-lookup"><span data-stu-id="a219a-145">A <xref:System.Windows.Forms.Label>.</span></span>  
  
3.  <span data-ttu-id="a219a-146">Arrastre el **pedidos** propiedad de navegación al formulario.</span><span class="sxs-lookup"><span data-stu-id="a219a-146">Drag the **Orders** navigation property to the form.</span></span>  
  
4.  <span data-ttu-id="a219a-147">De esta forma se crea el control `ordersBindingSource` con la propiedad <xref:System.Windows.Forms.BindingSource.DataSource%2A> del control establecida en `customersBindingSource` y la propiedad <xref:System.Windows.Forms.BindingSource.DataMember%2A> establecida en `Customers`.</span><span class="sxs-lookup"><span data-stu-id="a219a-147">This creates the `ordersBindingSource` control with the <xref:System.Windows.Forms.BindingSource.DataSource%2A> property of the control set to the `customersBindingSource` and the <xref:System.Windows.Forms.BindingSource.DataMember%2A> property set to `Customers`.</span></span> <span data-ttu-id="a219a-148">También se crea el control enlazado a datos `ordersDataGridView` en el formulario, acompañado de un control de etiqueta con el título apropiado.</span><span class="sxs-lookup"><span data-stu-id="a219a-148">It also creates the `ordersDataGridView` data-bound control on the form, accompanied by an appropriately titled label control.</span></span>  
  
5.  <span data-ttu-id="a219a-149">(Opcional) Arrastre elementos adicionales desde la **clientes** nodo hasta el diseñador.</span><span class="sxs-lookup"><span data-stu-id="a219a-149">(Optional) Drag additional items from the **Customers** node to the designer.</span></span>  
  
6.  <span data-ttu-id="a219a-150">Abra la página de códigos del formulario y agregue las instrucciones `using` siguientes (`Imports` en Visual Basic):</span><span class="sxs-lookup"><span data-stu-id="a219a-150">Open the code page for the form and add the following `using` statements (`Imports` in Visual Basic):</span></span>  
  
     [!code-csharp[Astoria Northwind Client#CustomersOrdersUsing](../../../../samples/snippets/csharp/VS_Snippets_Misc/astoria northwind client/cs/customerorders.cs#customersordersusing)]
     [!code-vb[Astoria Northwind Client#CustomersOrdersUsing](../../../../samples/snippets/visualbasic/VS_Snippets_Misc/astoria northwind client/vb/customerorders.vb#customersordersusing)]  
  
7.  <span data-ttu-id="a219a-151">En la clase parcial que define el formulario, agregue el código siguiente que crea una instancia de <xref:System.Data.Objects.ObjectContext> y define la constante `customerID`.</span><span class="sxs-lookup"><span data-stu-id="a219a-151">In the partial class that defines the form, add the following code that creates an <xref:System.Data.Objects.ObjectContext> instance and defines the `customerID` constant.</span></span>  
  
     [!code-csharp[Astoria Northwind Client#CustomersOrdersDefinition](../../../../samples/snippets/csharp/VS_Snippets_Misc/astoria northwind client/cs/customerorders.cs#customersordersdefinition)]
     [!code-vb[Astoria Northwind Client#CustomersOrdersDefinition](../../../../samples/snippets/visualbasic/VS_Snippets_Misc/astoria northwind client/vb/customerorders.vb#customersordersdefinition)]  
  
8.  <span data-ttu-id="a219a-152">En el diseñador de formularios, haga doble clic en el formulario.</span><span class="sxs-lookup"><span data-stu-id="a219a-152">In the form designer, double-click the form.</span></span>  
  
     <span data-ttu-id="a219a-153">De esta forma se abre la página de código del formulario y se crea el método que administra el evento `Load` para el formulario.</span><span class="sxs-lookup"><span data-stu-id="a219a-153">This opens the code page for the form and creates the method that handles the `Load` event for the form.</span></span>  
  
9. <span data-ttu-id="a219a-154">En el controlador de eventos `Load`, copie y pegue el siguiente código.</span><span class="sxs-lookup"><span data-stu-id="a219a-154">In the `Load` event handler, copy and paste the following code.</span></span>  
  
     [!code-csharp[Astoria Northwind Client#CustomersOrdersDataBinding](../../../../samples/snippets/csharp/VS_Snippets_Misc/astoria northwind client/cs/customerorders.cs#customersordersdatabinding)]
     [!code-vb[Astoria Northwind Client#CustomersOrdersDataBinding](../../../../samples/snippets/visualbasic/VS_Snippets_Misc/astoria northwind client/vb/customerorders.vb#customersordersdatabinding)]  
  
10. <span data-ttu-id="a219a-155">Este código crea una instancia de <xref:System.Data.Services.Client.DataServiceCollection%601> para el tipo `Customers` basándose en la ejecución de una instancia de <xref:System.Data.Services.Client.DataServiceQuery%601> que devuelve una interfaz <xref:System.Collections.Generic.IEnumerable%601> de `Customers` desde el servicio de datos de Northwind y la enlaza con el elemento `customersBindingSource`.</span><span class="sxs-lookup"><span data-stu-id="a219a-155">This code creates an instance of <xref:System.Data.Services.Client.DataServiceCollection%601> for the `Customers` type based on the execution of a <xref:System.Data.Services.Client.DataServiceQuery%601> that returns an <xref:System.Collections.Generic.IEnumerable%601> of `Customers` from the Northwind data service and binds it to the `customersBindingSource`.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="a219a-156">Vea también</span><span class="sxs-lookup"><span data-stu-id="a219a-156">See Also</span></span>  
 [<span data-ttu-id="a219a-157">Biblioteca cliente de Servicios de datos de WCF</span><span class="sxs-lookup"><span data-stu-id="a219a-157">WCF Data Services Client Library</span></span>](../../../../docs/framework/data/wcf/wcf-data-services-client-library.md)  
 [<span data-ttu-id="a219a-158">Cómo: enlazar datos a elementos de Windows Presentation Foundation</span><span class="sxs-lookup"><span data-stu-id="a219a-158">How to: Bind Data to Windows Presentation Foundation Elements</span></span>](../../../../docs/framework/data/wcf/bind-data-to-wpf-elements-wcf-data-services.md)
