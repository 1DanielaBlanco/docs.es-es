---
title: Información general de correlación
ms.date: 03/30/2017
ms.assetid: edcc0315-5d26-44d6-a36d-ea554c418e9f
ms.openlocfilehash: bea561cdaecce028011803f2f4392d788dbe0002
ms.sourcegitcommit: 3d5d33f384eeba41b2dff79d096f47ccc8d8f03d
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 05/04/2018
ms.locfileid: "33493205"
---
# <a name="correlation-overview"></a>Información general de correlación
Correlación es el mecanismo para relacionar mensajes de servicio de flujo de trabajo entre sí o con el estado de instancia de aplicación, como una respuesta con una solicitud inicial o un identificador de orden determinado con el estado persistente de un flujo de trabajo de procesamiento del orden. En este tema, se proporciona información general sobre la correlación. Los otros temas de esta sección proporcionan información adicional para cada tipo de correlación.  
  
## <a name="types-of-correlation"></a>Tipos de correlación  
 La correlación puede estar basada en protocolos o basada en contenidos. Las correlaciones basadas en protocolos usan datos proporcionados por la infraestructura de entrega de mensajes para proporcionar la asignación entre los mensajes. Los mensajes que se correlacionan utilizando una correlación basada en protocolos se relacionan entre sí mediante un objeto en la memoria, como <xref:System.ServiceModel.Channels.RequestContext>, o a través de un token proporcionado por el protocolo de transporte. Las correlaciones basadas en contenidos relacionan los mensajes entre sí mediante datos especificados por la aplicación. Los mensajes que se correlacionan utilizando la correlación basada en contenidos se relacionan a entre sí mediante ciertos datos definidos por la aplicación en el mensaje, como un número de cliente.  
  
 Las actividades que participan en la correlación usan una clase <xref:System.ServiceModel.Activities.CorrelationHandle> para unir las actividades de mensajería. Por ejemplo, una clase <xref:System.ServiceModel.Activities.Send> que se utiliza para llamar a un servicio, y una clase <xref:System.ServiceModel.Activities.Receive> subsiguiente que se utiliza para recibir una devolución de llamada del servicio, comparten la misma clase <xref:System.ServiceModel.Activities.CorrelationHandle>. Se utiliza este patrón básico si la correlación se basa en contenidos o en protocolos. El identificador de correlación se puede establecer explícitamente en cada actividad o las actividades se pueden contener en una actividad <xref:System.ServiceModel.Activities.CorrelationScope>. Las actividades contenidas en <xref:System.ServiceModel.Activities.CorrelationScope> tienen sus identificadores de correlación administrados por <xref:System.ServiceModel.Activities.CorrelationScope> y no necesitan que <xref:System.ServiceModel.Activities.CorrelationHandle> se establezca explícitamente. Un ámbito <xref:System.ServiceModel.Activities.CorrelationScope> proporciona una administración <xref:System.ServiceModel.Activities.CorrelationHandle> para una correlación de solicitud-respuesta y un tipo de correlación adicional. Los servicios de flujo de trabajo hospedados utilizando <xref:System.ServiceModel.Activities.WorkflowServiceHost> tienen la misma administración de correlación predeterminada como actividad <xref:System.ServiceModel.Activities.CorrelationScope>. Esta administración de correlación predeterminada suele indicar que, en muchos escenarios, las actividades de mensajería en <xref:System.ServiceModel.Activities.CorrelationScope> o un servicio de flujo de trabajo no requieren el establecimiento de <xref:System.ServiceModel.Activities.CorrelationHandle>, a menos que varias actividades de mensajería se produzcan en paralelo o se superpongan, como dos actividades <xref:System.ServiceModel.Activities.Receive> en paralelo o dos actividades <xref:System.ServiceModel.Activities.Send> seguidas por dos actividades <xref:System.ServiceModel.Activities.Receive>. Puede obtener más información sobre la correlación predeterminada en los temas de esta sección que cubren cada tipo específico de correlación. Para obtener más información acerca de las actividades de mensajería vea [actividades de mensajería](../../../../docs/framework/wcf/feature-details/messaging-activities.md) y [Cómo: crear un servicio de flujo de trabajo con actividades de mensajería](../../../../docs/framework/wcf/feature-details/how-to-create-a-workflow-service-with-messaging-activities.md).  
  
## <a name="protocol-based-correlation"></a>Correlación basada en protocolos  
 La correlación basada en protocolos usa los mecanismos de transporte para relacionar mensajes entre sí y la instancia adecuada. Algunas correlaciones protocolares proporcionadas por el sistema incluyen una correlación de solicitud-respuesta y una correlación basada en contextos. Una correlación de solicitud-respuesta se utiliza para correlacionar un par único de actividades de mensajería para formar una operación bidireccional, como una clase <xref:System.ServiceModel.Activities.Send> emparejada con un miembro <xref:System.ServiceModel.Activities.ReceiveReply> o una clase <xref:System.ServiceModel.Activities.Receive> emparejada con una clase <xref:System.ServiceModel.Activities.SendReply>. El Diseñador de flujo de trabajo de [!INCLUDE[vs_current_long](../../../../includes/vs-current-long-md.md)] también proporciona un conjunto de plantillas de actividad para implementar este patrón rápidamente. Una correlación basada en contexto se basa en el mecanismo de intercambio de contexto que se describe en el [especificación del protocolo de intercambio de contexto de .NET](http://go.microsoft.com/fwlink/?LinkID=166059). Para utilizar la correlación basada en contextos, debe usarse un enlace basado en contextos como <xref:System.ServiceModel.BasicHttpContextBinding>, <xref:System.ServiceModel.WSHttpContextBinding> o <xref:System.ServiceModel.NetTcpContextBinding> en el extremo.  
  
 Para obtener más información acerca de la correlación del protocolo, vea [intercambio de contexto](../../../../docs/framework/wcf/feature-details/context-exchange-correlation.md), [dúplex duradero](../../../../docs/framework/wcf/feature-details/durable-duplex-correlation.md), y [solicitud-respuesta](../../../../docs/framework/wcf/feature-details/request-reply-correlation.md). Para obtener más información sobre el uso de la [!INCLUDE[vs_current_long](../../../../includes/vs-current-long-md.md)] plantillas de actividad del Diseñador de flujo de trabajo, consulte [actividades de mensajería](../../../../docs/framework/wcf/feature-details/messaging-activities.md). Ejemplo de código, vea la [dúplex duradero &#91;ejemplos de WF&#93; ](../../../../docs/framework/windows-workflow-foundation/samples/durable-duplex.md) y [NetContextExchangeCorrelation](http://msdn.microsoft.com/library/93c74a1a-b9e2-46c6-95c0-c9b0e9472caf) ejemplos.  
  
## <a name="content-based-correlation"></a>Correlación basada en contenidos  
 La correlación basada en contenidos usa cierta información en el mensaje para asociarlo a una instancia determinada. Al contrario que la correlación basada en protocolos, la correlación basada en contenidos requiere que el autor de la aplicación establezca explícitamente dónde se pueden encontrar estos datos en cada mensaje relacionado. Las actividades que usan correlación basada en contenidos especifican estos datos de mensaje utilizando <xref:System.ServiceModel.MessageQuerySet>. La correlación basada en contenidos es útil al comunicarse con servicios que no usan uno de los enlaces de contexto, como <xref:System.ServiceModel.BasicHttpContextBinding>. Para obtener más información acerca de la correlación basada en contenido, consulte [basada en contenido](../../../../docs/framework/wcf/feature-details/content-based-correlation.md). Ejemplo de código, vea la [correlación basada en contenido](../../../../docs/framework/windows-workflow-foundation/samples/content-based-correlation.md) y [correlacionado calculadora](../../../../docs/framework/windows-workflow-foundation/samples/correlated-calculator.md) ejemplos.  
  
## <a name="see-also"></a>Vea también  
 [Correlación basada en contenidos](../../../../docs/framework/windows-workflow-foundation/samples/content-based-correlation.md)  
 [Calculadora correlacionada](../../../../docs/framework/windows-workflow-foundation/samples/correlated-calculator.md)  
 [Dúplex duradero &#91;ejemplos de WF&#93;](../../../../docs/framework/windows-workflow-foundation/samples/durable-duplex.md)  
 [NetContextExchangeCorrelation](http://msdn.microsoft.com/library/93c74a1a-b9e2-46c6-95c0-c9b0e9472caf)
