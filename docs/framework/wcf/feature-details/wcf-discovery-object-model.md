---
title: "Modelo de objetos de Detección de WCF"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-clr
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: 8365a152-eacd-4779-9130-bbc48fa5c5d9
caps.latest.revision: "13"
author: Erikre
ms.author: erikre
manager: erikre
ms.openlocfilehash: 6d9ee9c1331c5c8754b336024f4b11a040c8a201
ms.sourcegitcommit: bd1ef61f4bb794b25383d3d72e71041a5ced172e
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 10/18/2017
---
# <a name="wcf-discovery-object-model"></a><span data-ttu-id="23d23-102">Modelo de objetos de Detección de WCF</span><span class="sxs-lookup"><span data-stu-id="23d23-102">WCF Discovery Object Model</span></span>
<span data-ttu-id="23d23-103">Detección de WCF consta de un conjunto de tipos que proporcionan un modelo de programación unificado que le permite escribir servicios reconocibles durante el tiempo de ejecución y clientes que encuentran y utilizan estos servicios.</span><span class="sxs-lookup"><span data-stu-id="23d23-103">WCF Discovery consists of a set of types that provide a unified programming model that allows you to write services that are discoverable at runtime and clients that find and use these services.</span></span>  
  
## <a name="making-a-service-discoverable-and-finding-services"></a><span data-ttu-id="23d23-104">Hacer que un servicio sea reconocible y buscar servicios</span><span class="sxs-lookup"><span data-stu-id="23d23-104">Making a Service Discoverable and Finding Services</span></span>  
 <span data-ttu-id="23d23-105">Para hacer que un servicio de WCF sea reconocible, agregue <xref:System.ServiceModel.Discovery.ServiceDiscoveryBehavior> a <xref:System.ServiceModel.Description.ServiceDescription> del host de servicio y agregue un extremo de detección.</span><span class="sxs-lookup"><span data-stu-id="23d23-105">To make a WCF service discoverable, add a <xref:System.ServiceModel.Discovery.ServiceDiscoveryBehavior> to the <xref:System.ServiceModel.Description.ServiceDescription> of the service host and add a discovery endpoint.</span></span> <span data-ttu-id="23d23-106">Si un servicio se configura para enviar mensajes de anuncio (agregando una clase <xref:System.ServiceModel.Discovery.AnnouncementEndpoint>), se envía el anuncio cuando el host de servicio se abre y se cierra.</span><span class="sxs-lookup"><span data-stu-id="23d23-106">If a service is configured to send announcement messages (by adding an <xref:System.ServiceModel.Discovery.AnnouncementEndpoint>) the announcement is sent when the service host is opened and closed.</span></span>  
  
 <span data-ttu-id="23d23-107">Un cliente que desea realizar escuchas de mensajes de anuncio del servicio hospeda un servicio de anuncio y agrega uno o más extremos de anuncio.</span><span class="sxs-lookup"><span data-stu-id="23d23-107">A client that wants to listen for service announcement messages hosts an announcement service and adds one or more announcement endpoints.</span></span> <span data-ttu-id="23d23-108">El servicio de anuncio recibe mensajes de anuncio y genera eventos de anuncio.</span><span class="sxs-lookup"><span data-stu-id="23d23-108">The announcement service receives announcement messages and raises announcement events.</span></span>  
  
 <span data-ttu-id="23d23-109">El cliente utiliza la clase <xref:System.ServiceModel.Discovery.DiscoveryClient> para buscar servicios disponibles.</span><span class="sxs-lookup"><span data-stu-id="23d23-109">A client uses the <xref:System.ServiceModel.Discovery.DiscoveryClient> class to search for available services.</span></span> <span data-ttu-id="23d23-110">La aplicación cliente crea instancias de la clase <xref:System.ServiceModel.Discovery.DiscoveryClient>, pasando un extremo de detección que especifica dónde se deben enviar los mensajes de detección.</span><span class="sxs-lookup"><span data-stu-id="23d23-110">The client application instantiates the <xref:System.ServiceModel.Discovery.DiscoveryClient> class, passing in a discovery endpoint that specifies where to send discovery messages.</span></span> <span data-ttu-id="23d23-111">El cliente llama al método <xref:System.ServiceModel.Discovery.DiscoveryClient.Find%2A>, que envía una solicitud `Probe`.</span><span class="sxs-lookup"><span data-stu-id="23d23-111">The client calls the <xref:System.ServiceModel.Discovery.DiscoveryClient.Find%2A> method, which sends a `Probe` request.</span></span> <span data-ttu-id="23d23-112">Los servicios que realizan escuchas de los mensajes de detección reciben esta solicitud `Probe`.</span><span class="sxs-lookup"><span data-stu-id="23d23-112">Services listening for discovery messages receive this `Probe` request.</span></span> <span data-ttu-id="23d23-113">Si el servicio coincide con los criterios especificados en `Probe`, devuelve un mensaje `ProbeMatch` al cliente.</span><span class="sxs-lookup"><span data-stu-id="23d23-113">If the service matches the criteria specified in the `Probe`, it sends a `ProbeMatch` message back to the client.</span></span>  
  
## <a name="object-model"></a><span data-ttu-id="23d23-114">Modelo de objetos</span><span class="sxs-lookup"><span data-stu-id="23d23-114">Object Model</span></span>  
 <span data-ttu-id="23d23-115">La API de Detección de WCF define las clases siguientes:</span><span class="sxs-lookup"><span data-stu-id="23d23-115">The WCF Discovery API defines the following classes:</span></span>  
  
-   <xref:System.ServiceModel.Discovery.AnnouncementClient>  
  
-   <xref:System.ServiceModel.Discovery.AnnouncementEndpoint>  
  
-   <xref:System.ServiceModel.Discovery.AnnouncementService>  
  
-   <xref:System.ServiceModel.Discovery.DiscoveryClient>  
  
-   <xref:System.ServiceModel.Discovery.DiscoveryEndpoint>  
  
-   <xref:System.ServiceModel.Discovery.DiscoveryClientBindingElement>  
  
-   <xref:System.ServiceModel.Discovery.DiscoveryMessageSequenceGenerator>  
  
-   <xref:System.ServiceModel.Discovery.ServiceDiscoveryMode>  
  
-   <xref:System.ServiceModel.Discovery.DiscoveryProxy>  
  
-   <xref:System.ServiceModel.Discovery.DiscoveryService>  
  
-   <xref:System.ServiceModel.Discovery.DiscoveryVersion>  
  
-   <xref:System.ServiceModel.Discovery.DynamicEndpoint>  
  
-   <xref:System.ServiceModel.Discovery.EndpointDiscoveryBehavior>  
  
-   <xref:System.ServiceModel.Discovery.EndpointDiscoveryMetadata>  
  
-   <xref:System.ServiceModel.Discovery.FindCriteria>  
  
-   <xref:System.ServiceModel.Discovery.FindRequestContext>  
  
-   <xref:System.ServiceModel.Discovery.FindResponse>  
  
-   <xref:System.ServiceModel.Discovery.ResolveCriteria>  
  
-   <xref:System.ServiceModel.Discovery.ResolveResponse>  
  
-   <xref:System.ServiceModel.Discovery.ServiceDiscoveryBehavior>  
  
-   <!--zz <xref:System.ServiceModel.Discovery.ServiceDiscoveryExtension> --> `ServiceDiscoveryExtension`  
  
-   <xref:System.ServiceModel.Discovery.UdpAnnouncementEndpoint>  
  
-   <xref:System.ServiceModel.Discovery.UdpDiscoveryEndpoint>  
  
## <a name="announcementclient"></a><span data-ttu-id="23d23-116">AnnouncementClient</span><span class="sxs-lookup"><span data-stu-id="23d23-116">AnnouncementClient</span></span>  
 <span data-ttu-id="23d23-117">La clase <xref:System.ServiceModel.Discovery.AnnouncementClient> proporciona métodos sincrónicos y asincrónicos para enviar los mensajes de anuncio.</span><span class="sxs-lookup"><span data-stu-id="23d23-117">The <xref:System.ServiceModel.Discovery.AnnouncementClient> class provides synchronous and asynchronous methods for sending announcement messages.</span></span> <span data-ttu-id="23d23-118">Hay dos tipos de mensajes de anuncio: Hola y Adiós.</span><span class="sxs-lookup"><span data-stu-id="23d23-118">There are two types of announcement messages, Hello and Bye.</span></span> <span data-ttu-id="23d23-119">Un mensaje Hola se envía para indicar que un servicio se ha vuelto disponible y un mensaje Adiós se envía para indicar que un servicio existente se ha vuelto no disponible.</span><span class="sxs-lookup"><span data-stu-id="23d23-119">A Hello message is sent to indicate that a service has become available and a Bye message is sent to indicate that an existing service has become unavailable.</span></span> <span data-ttu-id="23d23-120">El desarrollador crea una instancia <xref:System.ServiceModel.Discovery.AnnouncementClient>, pasando una instancia de <xref:System.ServiceModel.Discovery.AnnouncementEndpoint> como un parámetro de constructor.</span><span class="sxs-lookup"><span data-stu-id="23d23-120">The developer creates an <xref:System.ServiceModel.Discovery.AnnouncementClient> instance, passing an instance of <xref:System.ServiceModel.Discovery.AnnouncementEndpoint> as a constructor parameter.</span></span>  
  
## <a name="announcementendpoint"></a><span data-ttu-id="23d23-121">AnnouncementEndpoint</span><span class="sxs-lookup"><span data-stu-id="23d23-121">AnnouncementEndpoint</span></span>  
 <span data-ttu-id="23d23-122"><xref:System.ServiceModel.Discovery.AnnouncementEndpoint> representa un extremo estándar con un contrato de anuncio fijo.</span><span class="sxs-lookup"><span data-stu-id="23d23-122"><xref:System.ServiceModel.Discovery.AnnouncementEndpoint> represents a standard endpoint with a fixed announcement contract.</span></span> <span data-ttu-id="23d23-123">Lo utiliza un servicio o cliente para enviar y recibir mensajes de anuncio.</span><span class="sxs-lookup"><span data-stu-id="23d23-123">It is used by a service or client to send and receive announcement messages.</span></span> <span data-ttu-id="23d23-124">De forma predeterminada, la clase <xref:System.ServiceModel.Discovery.AnnouncementEndpoint> se establece para utilizar la versión de protocolo 11 de WS_Discovery.</span><span class="sxs-lookup"><span data-stu-id="23d23-124">By default, the <xref:System.ServiceModel.Discovery.AnnouncementEndpoint> class is set to use the WS_Discovery 11 protocol version.</span></span>  
  
## <a name="announcementservice"></a><span data-ttu-id="23d23-125">AnnouncementService</span><span class="sxs-lookup"><span data-stu-id="23d23-125">AnnouncementService</span></span>  
 <span data-ttu-id="23d23-126"><xref:System.ServiceModel.Discovery.AnnouncementService> es una implementación proporcionada por el sistema de un servicio de anuncio que recibe y procesa mensajes de anuncio.</span><span class="sxs-lookup"><span data-stu-id="23d23-126"><xref:System.ServiceModel.Discovery.AnnouncementService> is a system-provided implementation of an announcement service that receives and processes announcement messages.</span></span> <span data-ttu-id="23d23-127">Cuando se recibe un mensaje de Hola o Adiós, la instancia <xref:System.ServiceModel.Discovery.AnnouncementService> llama a <xref:System.ServiceModel.Discovery.AnnouncementService.OnBeginOnlineAnnouncement%2A> del método virtual correspondiente o a <xref:System.ServiceModel.Discovery.AnnouncementService.OnBeginOfflineAnnouncement%2A>, que genera eventos de anuncio.</span><span class="sxs-lookup"><span data-stu-id="23d23-127">When a Hello or Bye message is received, the <xref:System.ServiceModel.Discovery.AnnouncementService> instance calls the appropriate virtual method <xref:System.ServiceModel.Discovery.AnnouncementService.OnBeginOnlineAnnouncement%2A> or <xref:System.ServiceModel.Discovery.AnnouncementService.OnBeginOfflineAnnouncement%2A>, which raises announcement events.</span></span>  
  
## <a name="discoveryclient"></a><span data-ttu-id="23d23-128">DiscoveryClient</span><span class="sxs-lookup"><span data-stu-id="23d23-128">DiscoveryClient</span></span>  
 <span data-ttu-id="23d23-129">Una aplicación cliente utiliza la clase <xref:System.ServiceModel.Discovery.DiscoveryClient> para buscar y resolver los servicios disponibles.</span><span class="sxs-lookup"><span data-stu-id="23d23-129">The <xref:System.ServiceModel.Discovery.DiscoveryClient> class is used by a client application to find and resolve available services.</span></span> <span data-ttu-id="23d23-130">Proporciona métodos sincrónicos y asincrónicos para buscar y resolver servicios basados respectivamente en las clases <xref:System.ServiceModel.Discovery.FindCriteria> y <xref:System.ServiceModel.Discovery.ResolveCriteria> especificadas.</span><span class="sxs-lookup"><span data-stu-id="23d23-130">It provides synchronous and asynchronous methods for finding and resolving services based on the specified <xref:System.ServiceModel.Discovery.FindCriteria> and <xref:System.ServiceModel.Discovery.ResolveCriteria> respectively.</span></span> <span data-ttu-id="23d23-131">El desarrollador crea una instancia de <xref:System.ServiceModel.Discovery.DiscoveryClient> y ofrece una instancia de <xref:System.ServiceModel.Discovery.DiscoveryEndpoint> como parámetro de constructor.</span><span class="sxs-lookup"><span data-stu-id="23d23-131">The developer creates a <xref:System.ServiceModel.Discovery.DiscoveryClient> instance and provides an instance of <xref:System.ServiceModel.Discovery.DiscoveryEndpoint> as a constructor parameter.</span></span>  
  
 <span data-ttu-id="23d23-132">Para buscar un servicio, el desarrollador invoca sincrónico o asincrónico `Find` método, que proporciona un <!--zz <xref:System.ServiceModel.Discription.FindCriteria> --> `FindCriteria` instancia que contiene los criterios de búsqueda para usarlos.</span><span class="sxs-lookup"><span data-stu-id="23d23-132">To find a service, the developer invokes the synchronous or asynchronous `Find` method, which provides a <!--zz <xref:System.ServiceModel.Discription.FindCriteria> --> `FindCriteria` instance that contains the search criteria to use.</span></span> <span data-ttu-id="23d23-133"><xref:System.ServiceModel.Discovery.DiscoveryClient> crea un mensaje `Probe` con los encabezados adecuados y envía la solicitud de búsqueda.</span><span class="sxs-lookup"><span data-stu-id="23d23-133">The <xref:System.ServiceModel.Discovery.DiscoveryClient> creates a `Probe` message with the appropriate headers, and sends the find request.</span></span> <span data-ttu-id="23d23-134">Dado que puede haber más de una solicitud `Find` pendiente en cualquier momento, el cliente pone en correlación las respuestas recibidas y valida la respuesta.</span><span class="sxs-lookup"><span data-stu-id="23d23-134">Because there can be more than one outstanding `Find` request at any time, the client correlates the received responses and validates the response.</span></span> <span data-ttu-id="23d23-135">A continuación, entrega los resultados al autor de llamada de la operación `Find` mediante <xref:System.ServiceModel.Discovery.FindResponse>.</span><span class="sxs-lookup"><span data-stu-id="23d23-135">It then delivers the results to the caller of the `Find` operation using <xref:System.ServiceModel.Discovery.FindResponse>.</span></span>  
  
 <span data-ttu-id="23d23-136">Para resolver un servicio conocido, el desarrollador invoca sincrónico o asincrónico `Resolve` método que proporciona una instancia de <!--zz <xref:System.ServiceModel.ResolveCriteria>--> `ResolveCriteria` que contiene el <xref:System.ServiceModel.EndpointAddress> del servicio conocido.</span><span class="sxs-lookup"><span data-stu-id="23d23-136">To resolve a known service, the developer invokes the synchronous or asynchronous `Resolve` method that provides an instance of <!--zz <xref:System.ServiceModel.ResolveCriteria>--> `ResolveCriteria` that contains the <xref:System.ServiceModel.EndpointAddress> of the known service.</span></span> <span data-ttu-id="23d23-137"><xref:System.ServiceModel.Discovery.DiscoveryClient> crea el mensaje `Resolve` con los encabezados adecuados y envía la solicitud de resolución.</span><span class="sxs-lookup"><span data-stu-id="23d23-137">The <xref:System.ServiceModel.Discovery.DiscoveryClient> creates the `Resolve` message with the appropriate headers and sends the resolve request.</span></span> <span data-ttu-id="23d23-138">La respuesta recibida se pone en correlación con las solicitudes de resolución pendientes y el resultado se entrega al autor de llamada de la operación `Resolve` mediante <xref:System.ServiceModel.Discovery.ResolveResponse>.</span><span class="sxs-lookup"><span data-stu-id="23d23-138">The received response is correlated against the outstanding resolve requests and the result is delivered to the caller of the `Resolve` operation using <xref:System.ServiceModel.Discovery.ResolveResponse>.</span></span>  
  
 <span data-ttu-id="23d23-139">Si un proxy de detección está presente en la red y la <!--zz <xref:System.ServiceModel.Discover.DiscoveryClient> --> `DiscoveryClient` envía la solicitud de detección en modo de multidifusión, el proxy de detección puede responder con el mensaje de Hola de supresión de multidifusión.</span><span class="sxs-lookup"><span data-stu-id="23d23-139">If a discovery proxy is present on the network and the <!--zz <xref:System.ServiceModel.Discover.DiscoveryClient> --> `DiscoveryClient` sends the discovery request in a multicast fashion, the discovery proxy can respond with the multicast suppression Hello message.</span></span> <span data-ttu-id="23d23-140">El <!--zz <xref:System.ServiceModel.Discover.DiscoveryClient> --> `DiscoveryClient` provoca la `ProxyAvailable` eventos cuando recibe mensajes de Hola en respuesta a pendientes `Find` o `Resolve` las solicitudes.</span><span class="sxs-lookup"><span data-stu-id="23d23-140">The <!--zz <xref:System.ServiceModel.Discover.DiscoveryClient> --> `DiscoveryClient` raises the `ProxyAvailable` event when it receives Hello messages in response to outstanding `Find` or `Resolve` requests.</span></span> <span data-ttu-id="23d23-141">El evento `ProxyAvailable` contiene la clase <xref:System.ServiceModel.Discovery.EndpointDiscoveryMetadata> sobre el proxy de detección.</span><span class="sxs-lookup"><span data-stu-id="23d23-141">The `ProxyAvailable` event contains the <xref:System.ServiceModel.Discovery.EndpointDiscoveryMetadata> about the discovery proxy.</span></span> <span data-ttu-id="23d23-142">El empleo de esta información para cambiar del modo ad hoc al modo administrativo depende del desarrollador.</span><span class="sxs-lookup"><span data-stu-id="23d23-142">It is up to the developer to use this information to switch from Ad hoc to Managed mode.</span></span>  
  
## <a name="discoveryendpoint"></a><span data-ttu-id="23d23-143">DiscoveryEndpoint</span><span class="sxs-lookup"><span data-stu-id="23d23-143">DiscoveryEndpoint</span></span>  
 <span data-ttu-id="23d23-144"><xref:System.ServiceModel.Discovery.DiscoveryEndpoint> representa un extremo estándar con un contrato de detección.</span><span class="sxs-lookup"><span data-stu-id="23d23-144"><xref:System.ServiceModel.Discovery.DiscoveryEndpoint> represents a standard endpoint with a fixed discovery contract.</span></span> <span data-ttu-id="23d23-145">Lo emplea un servicio o cliente para enviar o recibir mensajes de detección.</span><span class="sxs-lookup"><span data-stu-id="23d23-145">It is used by a service or client to send or receive discovery messages.</span></span> <span data-ttu-id="23d23-146">De forma predeterminada, <xref:System.ServiceModel.Discovery.DiscoveryEndpoint> está configurado para usar <!--zz <xref:System.ServiceModel.Discovery.DiscoveryMode.Managed>--> `Managed` modo y la versión WSDiscovery11 de WS-Discovery.</span><span class="sxs-lookup"><span data-stu-id="23d23-146">By default, <xref:System.ServiceModel.Discovery.DiscoveryEndpoint> is set to use <!--zz <xref:System.ServiceModel.Discovery.DiscoveryMode.Managed>--> `Managed` mode and the WSDiscovery11 WS-Discovery version.</span></span>  
  
## <a name="discoverymessagesequencegenerator"></a><span data-ttu-id="23d23-147">DiscoveryMessageSequenceGenerator</span><span class="sxs-lookup"><span data-stu-id="23d23-147">DiscoveryMessageSequenceGenerator</span></span>  
 <span data-ttu-id="23d23-148"><xref:System.ServiceModel.Discovery.DiscoveryMessageSequenceGenerator> se utiliza para generar <xref:System.ServiceModel.Discovery.DiscoveryMessageSequence> cuando el servicio envía mensajes de detección o de anuncio.</span><span class="sxs-lookup"><span data-stu-id="23d23-148"><xref:System.ServiceModel.Discovery.DiscoveryMessageSequenceGenerator> is used to generate a <xref:System.ServiceModel.Discovery.DiscoveryMessageSequence> when the service is sending out Discovery or Announcement messages.</span></span>  
  
## <a name="discoveryservice"></a><span data-ttu-id="23d23-149">DiscoveryService</span><span class="sxs-lookup"><span data-stu-id="23d23-149">DiscoveryService</span></span>  
 <span data-ttu-id="23d23-150">La clase abstracta <xref:System.ServiceModel.Discovery.DiscoveryService> proporciona un marco para recibir y procesar mensajes `Probe` y `Resolve`.</span><span class="sxs-lookup"><span data-stu-id="23d23-150">The <xref:System.ServiceModel.Discovery.DiscoveryService> abstract class provides a framework for receiving and processing `Probe` and `Resolve` messages.</span></span> <span data-ttu-id="23d23-151">Cuando se recibe un mensaje `Probe`, <xref:System.ServiceModel.Discovery.DiscoveryService> crea una instancia de <xref:System.ServiceModel.Discovery.FindRequestContext> basada en el mensaje entrante e invoca el método virtual <xref:System.ServiceModel.Discovery.DiscoveryService.OnBeginFind%2A>.</span><span class="sxs-lookup"><span data-stu-id="23d23-151">When a `Probe` message is received, <xref:System.ServiceModel.Discovery.DiscoveryService> creates an instance of <xref:System.ServiceModel.Discovery.FindRequestContext> based on the incoming message and invokes the <xref:System.ServiceModel.Discovery.DiscoveryService.OnBeginFind%2A> virtual method.</span></span> <span data-ttu-id="23d23-152">Cuando se recibe un mensaje `Resolve`, <xref:System.ServiceModel.Discovery.DiscoveryService> invoca el método virtual <xref:System.ServiceModel.Discovery.DiscoveryService.OnBeginResolve%2A>.</span><span class="sxs-lookup"><span data-stu-id="23d23-152">When a `Resolve` message is received, <xref:System.ServiceModel.Discovery.DiscoveryService> invokes the <xref:System.ServiceModel.Discovery.DiscoveryService.OnBeginResolve%2A> virtual method.</span></span> <span data-ttu-id="23d23-153">Puede heredar de esta clase para proporcionar una implementación personalizada del servicio de detección.</span><span class="sxs-lookup"><span data-stu-id="23d23-153">You can inherit from this class to provide a custom Discovery Service implementation.</span></span>  
  
## <a name="discoveryproxy"></a><span data-ttu-id="23d23-154">DiscoveryProxy</span><span class="sxs-lookup"><span data-stu-id="23d23-154">DiscoveryProxy</span></span>  
 <span data-ttu-id="23d23-155">La clase abstracta <xref:System.ServiceModel.Discovery.DiscoveryProxy> proporciona un marco de trabajo para recibir y procesar mensajes de detección y de anuncio.</span><span class="sxs-lookup"><span data-stu-id="23d23-155">The <xref:System.ServiceModel.Discovery.DiscoveryProxy> abstract class provides a framework for receiving and processing discovery and announcement messages.</span></span> <span data-ttu-id="23d23-156">Hereda de esta clase cuando implementa un proxy de detección personalizado.</span><span class="sxs-lookup"><span data-stu-id="23d23-156">You inherit from this class when you are implementing a custom discovery proxy.</span></span> <span data-ttu-id="23d23-157">Cuando un mensaje `Probe` se recibe en multidifusión, la clase <xref:System.ServiceModel.Discovery.DiscoveryProxy> llama al método virtual `BeginShouldRedirectFind` para determinar si se debe enviar un mensaje de supresión de multidifusión.</span><span class="sxs-lookup"><span data-stu-id="23d23-157">When a `Probe` message is received over multicast, the <xref:System.ServiceModel.Discovery.DiscoveryProxy> class calls the `BeginShouldRedirectFind` virtual method to determine whether a multicast suppression message should to be sent.</span></span> <span data-ttu-id="23d23-158">Si el desarrollador decide no enviar un mensaje de supresión de multidifusión o si el mensaje `Probe` se ha recibido en unidifusión, crea una instancia de la clase <xref:System.ServiceModel.Discovery.FindRequestContext> basada en el mensaje entrante e invoca el método virtual `OnBeginFind`.</span><span class="sxs-lookup"><span data-stu-id="23d23-158">If the developer decides not to send a multicast suppression message or if the `Probe` message was received over unicast, it creates an instance of the <xref:System.ServiceModel.Discovery.FindRequestContext> class based on the incoming message and invokes the `OnBeginFind` virtual method.</span></span> <span data-ttu-id="23d23-159">Cuando un mensaje `Resolve` se recibe en multidifusión, la clase <xref:System.ServiceModel.Discovery.DiscoveryProxy> llama al método virtual `ShouldRedirectResolve` para determinar si se debe enviar un mensaje de supresión de multidifusión.</span><span class="sxs-lookup"><span data-stu-id="23d23-159">When a `Resolve` message is received over multicast, The <xref:System.ServiceModel.Discovery.DiscoveryProxy> class calls the `ShouldRedirectResolve` virtual method to determine whether a multicast suppression message should to be sent.</span></span> <span data-ttu-id="23d23-160">Si el desarrollador decide no enviar un mensaje de supresión de multidifusión o si el mensaje `Resolve` se ha recibido en unidifusión, crea una instancia de la clase <xref:System.ServiceModel.Discovery.ResolveCriteria> basada en el mensaje entrante e invoca el método virtual `OnBeginResolve`.</span><span class="sxs-lookup"><span data-stu-id="23d23-160">If the developer decides not to send a multicast suppression message or if the `Resolve` message was received over unicast, it creates an instance of the <xref:System.ServiceModel.Discovery.ResolveCriteria> class based on the incoming message and invokes the `OnBeginResolve` virtual method.</span></span> <span data-ttu-id="23d23-161">Cuando se recibe un mensaje de Hola o Adiós, la clase <xref:System.ServiceModel.Discovery.DiscoveryProxy> llama al método virtual apropiado (`OnBeginOnlineAnnouncement` o `OnBeingOfflineAnnouncement`), que genera eventos de anuncio.</span><span class="sxs-lookup"><span data-stu-id="23d23-161">When a Hello or Bye message is received, <xref:System.ServiceModel.Discovery.DiscoveryProxy> calls the appropriate virtual method (`OnBeginOnlineAnnouncement` or `OnBeingOfflineAnnouncement`), which raises announcement events.</span></span>  
  
## <a name="discoveryversion"></a><span data-ttu-id="23d23-162">DiscoveryVersion</span><span class="sxs-lookup"><span data-stu-id="23d23-162">DiscoveryVersion</span></span>  
 <span data-ttu-id="23d23-163">La clase <xref:System.ServiceModel.Discovery.DiscoveryVersion> representa la versión del protocolo de detección que se debe utilizar.</span><span class="sxs-lookup"><span data-stu-id="23d23-163">The <xref:System.ServiceModel.Discovery.DiscoveryVersion> class represents the discovery protocol version to use.</span></span>  
  
## <a name="endpointdiscoverybehavior"></a><span data-ttu-id="23d23-164">EndpointDiscoveryBehavior</span><span class="sxs-lookup"><span data-stu-id="23d23-164">EndpointDiscoveryBehavior</span></span>  
 <span data-ttu-id="23d23-165">La clase <xref:System.ServiceModel.Discovery.EndpointDiscoveryBehavior> se usa para controlar la detectabilidad de un extremo, especificar las extensiones, los nombres de tipo de contrato adicionales.</span><span class="sxs-lookup"><span data-stu-id="23d23-165">The <xref:System.ServiceModel.Discovery.EndpointDiscoveryBehavior> class is used to control the discoverability of an endpoint, specify the extensions, additional contract type names.</span></span> <span data-ttu-id="23d23-166">y los ámbitos asociados a ese extremo.</span><span class="sxs-lookup"><span data-stu-id="23d23-166">and the scopes associated with that endpoint.</span></span> <span data-ttu-id="23d23-167">Este comportamiento se agrega a un extremo de la aplicación para configurar su <xref:System.ServiceModel.Discovery.EndpointDiscoveryMetadata>.</span><span class="sxs-lookup"><span data-stu-id="23d23-167">This behavior is added to an application endpoint to configure its <xref:System.ServiceModel.Discovery.EndpointDiscoveryMetadata>.</span></span> <span data-ttu-id="23d23-168">Cuando <xref:System.ServiceModel.Discovery.ServiceDiscoveryBehavior> se agrega al host de servicio, todos los extremos de la aplicación hospedados por el host del servicio se vuelven reconocibles de forma predeterminada.</span><span class="sxs-lookup"><span data-stu-id="23d23-168">When <xref:System.ServiceModel.Discovery.ServiceDiscoveryBehavior> is added to the service host, all the application endpoints hosted by the service host by default become discoverable.</span></span> <span data-ttu-id="23d23-169">El desarrollador puede desactivar la detección para un extremo concreto estableciendo la <!--zz <xref:System.ServiceModel.Discovery.EndpointDiscoveryBehavior.Enable%2A>--> `Enable` propiedad `false`.</span><span class="sxs-lookup"><span data-stu-id="23d23-169">The developer can turn off discovery for a specific endpoint by setting the <!--zz <xref:System.ServiceModel.Discovery.EndpointDiscoveryBehavior.Enable%2A>--> `Enable` property to `false`.</span></span>  
  
## <a name="endpointdiscoverymetadata"></a><span data-ttu-id="23d23-170">EndpointDiscoveryMetadata</span><span class="sxs-lookup"><span data-stu-id="23d23-170">EndpointDiscoveryMetadata</span></span>  
 <span data-ttu-id="23d23-171">La clase <xref:System.ServiceModel.Discovery.EndpointDiscoveryMetadata> proporciona una representación independiente de la versión de un extremo publicado por el servicio.</span><span class="sxs-lookup"><span data-stu-id="23d23-171">The <xref:System.ServiceModel.Discovery.EndpointDiscoveryMetadata> class provides a version-independent representation of an endpoint published by the service.</span></span> <span data-ttu-id="23d23-172">Contiene las direcciones de los extremos, los URI de escucha, los nombres del tipo de contrato, los ámbitos, la versión de metadatos y las extensiones especificados por el desarrollador del servicio.</span><span class="sxs-lookup"><span data-stu-id="23d23-172">It contains endpoint addresses, listen URIs, contract type names, scopes, metadata version and extensions specified by the service developer.</span></span> <span data-ttu-id="23d23-173">La clase <xref:System.ServiceModel.Discovery.FindCriteria> enviada por el cliente durante una operación `Probe` se compara con <xref:System.ServiceModel.Discovery.EndpointDiscoveryMetadata>.</span><span class="sxs-lookup"><span data-stu-id="23d23-173">The <xref:System.ServiceModel.Discovery.FindCriteria> sent by the client during a `Probe` operation is matched against the <xref:System.ServiceModel.Discovery.EndpointDiscoveryMetadata>.</span></span> <span data-ttu-id="23d23-174">Si los criterios coinciden, <xref:System.ServiceModel.Discovery.EndpointDiscoveryMetadata> se devuelve al cliente.</span><span class="sxs-lookup"><span data-stu-id="23d23-174">If the criteria matches, then the <xref:System.ServiceModel.Discovery.EndpointDiscoveryMetadata> is returned to the client.</span></span> <span data-ttu-id="23d23-175">La dirección del extremo en <xref:System.ServiceModel.Discovery.ResolveCriteria> se compara con la dirección del extremo de <xref:System.ServiceModel.Discovery.EndpointDiscoveryMetadata>.</span><span class="sxs-lookup"><span data-stu-id="23d23-175">The endpoint address in <xref:System.ServiceModel.Discovery.ResolveCriteria> is matched against the endpoint address of <xref:System.ServiceModel.Discovery.EndpointDiscoveryMetadata>.</span></span> <span data-ttu-id="23d23-176">Si los criterios coinciden, <xref:System.ServiceModel.Discovery.EndpointDiscoveryMetadata> se devuelve al cliente.</span><span class="sxs-lookup"><span data-stu-id="23d23-176">If the criteria matches, then the <xref:System.ServiceModel.Discovery.EndpointDiscoveryMetadata> is returned to the client.</span></span>  
  
## <a name="findcriteria"></a><span data-ttu-id="23d23-177">FindCriteria</span><span class="sxs-lookup"><span data-stu-id="23d23-177">FindCriteria</span></span>  
 <span data-ttu-id="23d23-178">La clase <xref:System.ServiceModel.Discovery.FindCriteria> es una clase independiente de la versión usada para especificar los criterios usados al buscar un servicio.</span><span class="sxs-lookup"><span data-stu-id="23d23-178">The <xref:System.ServiceModel.Discovery.FindCriteria> class is a version-independent class used to specify the criteria used when finding a service.</span></span> <span data-ttu-id="23d23-179">Admite totalmente los criterios definidos por WS-Discovery para servicios coincidentes.</span><span class="sxs-lookup"><span data-stu-id="23d23-179">It fully supports the WS-Discovery-defined criteria for matching services.</span></span> <span data-ttu-id="23d23-180">También tiene extensiones que pueden usar los desarrolladores para especificar valores personalizados que se pueden usar durante el proceso de coincidencia.</span><span class="sxs-lookup"><span data-stu-id="23d23-180">It also has extensions that developers can use to specify custom values that can be used during the matching process.</span></span> <span data-ttu-id="23d23-181">El desarrollador puede proporcionar los criterios de finalización para el `Find` operación especificando el <!--zz <xref:System.ServiceModel.Discovery.FindCriteria.MaxResult%2A>--> `MaxResult`, que especifica el número total de servicios está buscando el desarrollador o que especifica la <xref:System.ServiceModel.Discovery.FindCriteria.Duration%2A>, que es el valor que especifica cuánto tiempo espera el cliente para las respuestas.</span><span class="sxs-lookup"><span data-stu-id="23d23-181">The developer can provide the termination criteria for the `Find` operation by specifying the <!--zz <xref:System.ServiceModel.Discovery.FindCriteria.MaxResult%2A>--> `MaxResult`, which specifies the total number of services the developer is looking for or that specifies the <xref:System.ServiceModel.Discovery.FindCriteria.Duration%2A>, which is the value that specifies how long the client waits for responses.</span></span>  
  
## <a name="findrequestcontext"></a><span data-ttu-id="23d23-182">FindRequestContext</span><span class="sxs-lookup"><span data-stu-id="23d23-182">FindRequestContext</span></span>  
 <span data-ttu-id="23d23-183">Se crean instancias de la clase <xref:System.ServiceModel.Discovery.FindRequestContext> mediante el servicio de detección en función del mensaje `Probe` que recibe cuando un cliente inicia una operación `Find`.</span><span class="sxs-lookup"><span data-stu-id="23d23-183">The <xref:System.ServiceModel.Discovery.FindRequestContext> class is instantiated by the discovery service based on the `Probe` message it receives when a client initiates a `Find` operation.</span></span> <span data-ttu-id="23d23-184">Contiene una instancia de <xref:System.ServiceModel.Discovery.FindCriteria> especificada por el cliente.</span><span class="sxs-lookup"><span data-stu-id="23d23-184">It contains an instance of <xref:System.ServiceModel.Discovery.FindCriteria> that was specified by the client.</span></span>  
  
## <a name="findresponse"></a><span data-ttu-id="23d23-185">FindResponse</span><span class="sxs-lookup"><span data-stu-id="23d23-185">FindResponse</span></span>  
 <span data-ttu-id="23d23-186">La clase <xref:System.ServiceModel.Discovery.FindResponse> se devuelve al realizador de la llamada de <xref:System.ServiceModel.Discovery.DiscoveryClient.Find%2A> con las respuestas de la operación `Find`.</span><span class="sxs-lookup"><span data-stu-id="23d23-186">The <xref:System.ServiceModel.Discovery.FindResponse> class is returned to the caller of <xref:System.ServiceModel.Discovery.DiscoveryClient.Find%2A> with the responses of the `Find` operation.</span></span> <span data-ttu-id="23d23-187">También se encuentra en <xref:System.ServiceModel.Discovery.FindCompletedEventArgs>.</span><span class="sxs-lookup"><span data-stu-id="23d23-187">It is also present in <xref:System.ServiceModel.Discovery.FindCompletedEventArgs>.</span></span> <span data-ttu-id="23d23-188">Contiene una recopilación de <xref:System.ServiceModel.Discovery.EndpointDiscoveryMetadata>, que es la recopilación de extremos detectados y un diccionario de <xref:System.ServiceModel.Discovery.EndpointDiscoveryMetadata> y <xref:System.ServiceModel.Discovery.DiscoveryMessageSequence>.</span><span class="sxs-lookup"><span data-stu-id="23d23-188">It contains a collection of <xref:System.ServiceModel.Discovery.EndpointDiscoveryMetadata>, which is the collection of discovered endpoints and a dictionary of <xref:System.ServiceModel.Discovery.EndpointDiscoveryMetadata> and <xref:System.ServiceModel.Discovery.DiscoveryMessageSequence>.</span></span>  
  
## <a name="resolvecriteria"></a><span data-ttu-id="23d23-189">ResolveCriteria</span><span class="sxs-lookup"><span data-stu-id="23d23-189">ResolveCriteria</span></span>  
 <span data-ttu-id="23d23-190">La clase <xref:System.ServiceModel.Discovery.ResolveCriteria> es una clase independiente de la versión usada para especificar los criterios empleados al resolver un servicio conocido.</span><span class="sxs-lookup"><span data-stu-id="23d23-190">The <xref:System.ServiceModel.Discovery.ResolveCriteria> class is a version-independent class used to specify the criteria used when resolving an already known service.</span></span> <span data-ttu-id="23d23-191">Contiene la dirección del extremo del servicio conocido.</span><span class="sxs-lookup"><span data-stu-id="23d23-191">It contains the endpoint address of the known service.</span></span> <span data-ttu-id="23d23-192">El desarrollador puede proporcionar los criterios de finalización para la operación de resolución especificando <xref:System.ServiceModel.Discovery.ResolveCriteria.Duration%2A>, que especifica cuánto tiempo espera el cliente para recibir respuestas.</span><span class="sxs-lookup"><span data-stu-id="23d23-192">The developer can provide the termination criteria for the resolve operation by specifying the <xref:System.ServiceModel.Discovery.ResolveCriteria.Duration%2A>, which specifies how long the client waits for responses.</span></span>  
  
## <a name="resolveresponse"></a><span data-ttu-id="23d23-193">ResolveResponse</span><span class="sxs-lookup"><span data-stu-id="23d23-193">ResolveResponse</span></span>  
 <span data-ttu-id="23d23-194">La clase <xref:System.ServiceModel.Discovery.ResolveResponse> se devuelve al realizador de la llamada del método <xref:System.ServiceModel.Discovery.DiscoveryClient.Resolve%2A> con la respuesta de la operación `Resolve`.</span><span class="sxs-lookup"><span data-stu-id="23d23-194">The <xref:System.ServiceModel.Discovery.ResolveResponse> is returned to the caller of the <xref:System.ServiceModel.Discovery.DiscoveryClient.Resolve%2A> method with the response of the `Resolve` operation.</span></span> <span data-ttu-id="23d23-195">También se encuentra en <xref:System.ServiceModel.Discovery.ResolveCompletedEventArgs>.</span><span class="sxs-lookup"><span data-stu-id="23d23-195">It is also present in <xref:System.ServiceModel.Discovery.ResolveCompletedEventArgs>.</span></span> <span data-ttu-id="23d23-196">Contiene una instancia de <xref:System.ServiceModel.Discovery.EndpointDiscoveryMetadata>, que son los extremos detectados y una instancia de <xref:System.ServiceModel.Discovery.DiscoveryMessageSequence>.</span><span class="sxs-lookup"><span data-stu-id="23d23-196">It contains an instance of <xref:System.ServiceModel.Discovery.EndpointDiscoveryMetadata>, which is the discovered endpoints and an instance of <xref:System.ServiceModel.Discovery.DiscoveryMessageSequence>.</span></span>  
  
## <a name="servicediscoverybehavior"></a><span data-ttu-id="23d23-197">ServiceDiscoveryBehavior</span><span class="sxs-lookup"><span data-stu-id="23d23-197">ServiceDiscoveryBehavior</span></span>  
 <span data-ttu-id="23d23-198">La clase <xref:System.ServiceModel.Discovery.ServiceDiscoveryBehavior> permite al desarrollador agregar la característica de detección a un servicio.</span><span class="sxs-lookup"><span data-stu-id="23d23-198">The <xref:System.ServiceModel.Discovery.ServiceDiscoveryBehavior> class allows the developer to add the discovery feature to a service.</span></span> <span data-ttu-id="23d23-199">Agregue este comportamiento a <xref:System.ServiceModel.ServiceHost>.</span><span class="sxs-lookup"><span data-stu-id="23d23-199">You add this behavior to the <xref:System.ServiceModel.ServiceHost>.</span></span> <span data-ttu-id="23d23-200">La clase <xref:System.ServiceModel.Discovery.ServiceDiscoveryBehavior> itera en los extremos de la aplicación agregados al host de servicio y crea una recopilación de <xref:System.ServiceModel.Discovery.EndpointDiscoveryMetadata> de los extremos reconocibles.</span><span class="sxs-lookup"><span data-stu-id="23d23-200">The <xref:System.ServiceModel.Discovery.ServiceDiscoveryBehavior> class iterates over the application endpoints added to the service host and creates a collection of <xref:System.ServiceModel.Discovery.EndpointDiscoveryMetadata> from the discoverable endpoints.</span></span> <span data-ttu-id="23d23-201">Todos los extremos son reconocibles de forma predeterminada.</span><span class="sxs-lookup"><span data-stu-id="23d23-201">All endpoints are discoverable by default.</span></span> <span data-ttu-id="23d23-202">La detectabilidad de un extremo determinado se puede controlar agregando <xref:System.ServiceModel.Discovery.EndpointDiscoveryBehavior> a ese extremo del particular.</span><span class="sxs-lookup"><span data-stu-id="23d23-202">The discoverability of a particular endpoint can be controlled by adding the <xref:System.ServiceModel.Discovery.EndpointDiscoveryBehavior> to that particular endpoint.</span></span> <span data-ttu-id="23d23-203">Si los extremos de anuncio se agregan a <xref:System.ServiceModel.Discovery.ServiceDiscoveryBehavior>, el anuncio de todos los extremos reconocibles se envía a cada uno de los extremos de anuncio cuando el host de servicio se abre o se cierra.</span><span class="sxs-lookup"><span data-stu-id="23d23-203">If announcement endpoints are added to <xref:System.ServiceModel.Discovery.ServiceDiscoveryBehavior> then the announcement of all discoverable endpoints is sent over each of the announcement endpoints when the service host is opened or closed.</span></span>  
  
## <a name="servicediscoveryextension"></a><span data-ttu-id="23d23-204">ServiceDiscoveryExtension</span><span class="sxs-lookup"><span data-stu-id="23d23-204">ServiceDiscoveryExtension</span></span>  
 <span data-ttu-id="23d23-205">El <!--zz <xref:System.ServiceModel.Discovery.ServiceDiscoveryExtension> --> `ServiceDiscoveryExtension` clase se crea mediante la <xref:System.ServiceModel.Discovery.ServiceDiscoveryBehavior> clase.</span><span class="sxs-lookup"><span data-stu-id="23d23-205">The <!--zz <xref:System.ServiceModel.Discovery.ServiceDiscoveryExtension> --> `ServiceDiscoveryExtension` class is created by the <xref:System.ServiceModel.Discovery.ServiceDiscoveryBehavior> class.</span></span> <span data-ttu-id="23d23-206">Los puntos de conexión que se hacen reconocibles se pueden obtener de <!--zz <xref:System.ServiceModel.Discovery.ServiceDiscoveryExtension> --> `ServiceDiscoveryExtension`.</span><span class="sxs-lookup"><span data-stu-id="23d23-206">The endpoints that are made discoverable can be obtained from <!--zz <xref:System.ServiceModel.Discovery.ServiceDiscoveryExtension> --> `ServiceDiscoveryExtension`.</span></span> <span data-ttu-id="23d23-207">Esta clase también se utiliza para especificar una implementación del servicio de detección personalizada.</span><span class="sxs-lookup"><span data-stu-id="23d23-207">This class is also used to specify a custom discovery service implementation.</span></span>  
  
## <a name="udpannouncementendpoint"></a><span data-ttu-id="23d23-208">UdpAnnouncementEndpoint</span><span class="sxs-lookup"><span data-stu-id="23d23-208">UdpAnnouncementEndpoint</span></span>  
 <span data-ttu-id="23d23-209">La clase <xref:System.ServiceModel.Discovery.UdpAnnouncementEndpoint> es un extremo de anuncio estándar que se pre-configura para el anuncio en un enlace de multidifusión de UDP.</span><span class="sxs-lookup"><span data-stu-id="23d23-209">The <xref:System.ServiceModel.Discovery.UdpAnnouncementEndpoint> class is a standard announcement endpoint that is pre-configured for announcement over a UDP multicast binding.</span></span> <span data-ttu-id="23d23-210">De forma predeterminada, <xref:System.ServiceModel.Discovery.UdpAnnouncementEndpoint> se establece para utilizar la versión WSApril2005 de WS_Discovery.</span><span class="sxs-lookup"><span data-stu-id="23d23-210">By default, <xref:System.ServiceModel.Discovery.UdpAnnouncementEndpoint> is set to use the WSApril2005 WS_Discovery version.</span></span>  
  
## <a name="udpdiscoveryendpoint"></a><span data-ttu-id="23d23-211">UdpDiscoveryEndpoint</span><span class="sxs-lookup"><span data-stu-id="23d23-211">UdpDiscoveryEndpoint</span></span>  
 <span data-ttu-id="23d23-212">La clase <xref:System.ServiceModel.Discovery.UdpDiscoveryEndpoint> es un extremo de detección estándar que se pre-configura para la detección en un enlace de multidifusión de UDP.</span><span class="sxs-lookup"><span data-stu-id="23d23-212">The <xref:System.ServiceModel.Discovery.UdpDiscoveryEndpoint> class is a standard discovery endpoint that is pre-configured for discovery over a UDP multicast binding.</span></span> <span data-ttu-id="23d23-213">De forma predeterminada, <xref:System.ServiceModel.Discovery.DiscoveryEndpoint> está configurado para usar la versión WSDiscovery11 de WS-Discovery y <!--zz <xref:System.ServiceModel.Discovery.UdpDiscoveryEndpoint.Adhoc>--> `Adhoc` modo.</span><span class="sxs-lookup"><span data-stu-id="23d23-213">By default, <xref:System.ServiceModel.Discovery.DiscoveryEndpoint> is set to use the WSDiscovery11 WS-Discovery version and <!--zz <xref:System.ServiceModel.Discovery.UdpDiscoveryEndpoint.Adhoc>--> `Adhoc` mode.</span></span>
