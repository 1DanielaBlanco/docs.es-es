---
title: "Especificación del comportamiento de tiempo de ejecución del cliente"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-clr
ms.tgt_pltfrm: 
ms.topic: article
dev_langs:
- csharp
- vb
helpviewer_keywords: behaviors [WCF], system-provided client
ms.assetid: d16d3405-be70-4edb-8f62-b5f614ddeca5
caps.latest.revision: "8"
author: dotnet-bot
ms.author: dotnetcontent
manager: wpickett
ms.workload: dotnet
ms.openlocfilehash: a8c05dc56ec8fac0a77b1a21536d815b5b65f830
ms.sourcegitcommit: 16186c34a957fdd52e5db7294f291f7530ac9d24
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 12/22/2017
---
# <a name="specifying-client-run-time-behavior"></a><span data-ttu-id="321f6-102">Especificación del comportamiento de tiempo de ejecución del cliente</span><span class="sxs-lookup"><span data-stu-id="321f6-102">Specifying Client Run-Time Behavior</span></span>
<span data-ttu-id="321f6-103">Los clientes [!INCLUDE[indigo1](../../../includes/indigo1-md.md)], como los servicios [!INCLUDE[indigo1](../../../includes/indigo1-md.md)], se pueden configurar para modificar el comportamiento de tiempo de ejecución con el fin de satisfacer la aplicación cliente.</span><span class="sxs-lookup"><span data-stu-id="321f6-103">[!INCLUDE[indigo1](../../../includes/indigo1-md.md)] clients, like [!INCLUDE[indigo1](../../../includes/indigo1-md.md)] services, can be configured to modify the run-time behavior to suit the client application.</span></span> <span data-ttu-id="321f6-104">Tres atributos están disponibles para especificar el comportamiento de tiempo de ejecución del cliente.</span><span class="sxs-lookup"><span data-stu-id="321f6-104">Three attributes are available for specifying client run-time behavior.</span></span> <span data-ttu-id="321f6-105">Los objetos de devolución de llamada de cliente dúplex pueden utilizar <xref:System.ServiceModel.CallbackBehaviorAttribute> y los atributos <xref:System.ServiceModel.Description.CallbackDebugBehavior> para modificar su comportamiento de tiempo de ejecución.</span><span class="sxs-lookup"><span data-stu-id="321f6-105">Duplex client callback objects can use the <xref:System.ServiceModel.CallbackBehaviorAttribute> and <xref:System.ServiceModel.Description.CallbackDebugBehavior> attributes to modify their run-time behavior.</span></span> <span data-ttu-id="321f6-106">El otro atributo, <xref:System.ServiceModel.Description.ClientViaBehavior>, se puede utilizar para separar el destino lógico del destino de red inmediato.</span><span class="sxs-lookup"><span data-stu-id="321f6-106">The other attribute, <xref:System.ServiceModel.Description.ClientViaBehavior>, can be used to separate the logical destination from the immediate network destination.</span></span> <span data-ttu-id="321f6-107">Además, los tipos de devolución de llamada de cliente dúplex pueden utilizar algunos de los comportamientos de lado del servicio.</span><span class="sxs-lookup"><span data-stu-id="321f6-107">In addition, duplex client callback types can use some of the service-side behaviors.</span></span> [!INCLUDE[crdefault](../../../includes/crdefault-md.md)]<span data-ttu-id="321f6-108">[Especificar el comportamiento de tiempo de ejecución de servicio](../../../docs/framework/wcf/specifying-service-run-time-behavior.md).</span><span class="sxs-lookup"><span data-stu-id="321f6-108"> [Specifying Service Run-Time Behavior](../../../docs/framework/wcf/specifying-service-run-time-behavior.md).</span></span>  
  
## <a name="using-the-callbackbehaviorattribute"></a><span data-ttu-id="321f6-109">Utilizar CallbackBehaviorAttribute</span><span class="sxs-lookup"><span data-stu-id="321f6-109">Using the CallbackBehaviorAttribute</span></span>  
 <span data-ttu-id="321f6-110">Puede configurar o extender el comportamiento de ejecución de una implementación de contrato de devolución de llamada en una aplicación cliente utilizando la clase <xref:System.ServiceModel.CallbackBehaviorAttribute>.</span><span class="sxs-lookup"><span data-stu-id="321f6-110">You can configure or extend the execution behavior of a callback contract implementation in a client application by using the <xref:System.ServiceModel.CallbackBehaviorAttribute> class.</span></span> <span data-ttu-id="321f6-111">Este atributo realiza una función similar para la clase de devolución de llamada como la clase <xref:System.ServiceModel.ServiceBehaviorAttribute>, con la excepción de crear instancias del comportamiento y configuración de la transacción.</span><span class="sxs-lookup"><span data-stu-id="321f6-111">This attribute performs a similar function for the callback class as the <xref:System.ServiceModel.ServiceBehaviorAttribute> class, with the exception of instancing behavior and transaction settings.</span></span>  
  
 <span data-ttu-id="321f6-112">La clase <xref:System.ServiceModel.CallbackBehaviorAttribute> se debe aplicar a la clase que implementa el contrato de devolución de llamada.</span><span class="sxs-lookup"><span data-stu-id="321f6-112">The <xref:System.ServiceModel.CallbackBehaviorAttribute> class must be applied to the class that implements the callback contract.</span></span> <span data-ttu-id="321f6-113">Si se aplica a una implementación de contrato de no dúplex, se produce una excepción <xref:System.InvalidOperationException> en tiempo de ejecución.</span><span class="sxs-lookup"><span data-stu-id="321f6-113">If applied to a nonduplex contract implementation, an <xref:System.InvalidOperationException> exception is thrown at run time.</span></span> <span data-ttu-id="321f6-114">El ejemplo de código siguiente muestra una clase <xref:System.ServiceModel.CallbackBehaviorAttribute> en un objeto de devolución de llamada que usa el objeto <xref:System.Threading.SynchronizationContext> para determinar el subproceso para calcular las referencias, la propiedad <xref:System.ServiceModel.CallbackBehaviorAttribute.ValidateMustUnderstand%2A> para exigir la validación del mensaje y la propiedad <xref:System.ServiceModel.CallbackBehaviorAttribute.IncludeExceptionDetailInFaults%2A> para devolver las excepciones como objetos <xref:System.ServiceModel.FaultException> al servicio para los propósitos de depuración.</span><span class="sxs-lookup"><span data-stu-id="321f6-114">The following code example shows a <xref:System.ServiceModel.CallbackBehaviorAttribute> class on a callback object that uses the <xref:System.Threading.SynchronizationContext> object to determine the thread to marshal to, the <xref:System.ServiceModel.CallbackBehaviorAttribute.ValidateMustUnderstand%2A> property to enforce message validation, and the <xref:System.ServiceModel.CallbackBehaviorAttribute.IncludeExceptionDetailInFaults%2A> property to return exceptions as <xref:System.ServiceModel.FaultException> objects to the service for debugging purposes.</span></span>  
  
 [!code-csharp[CallbackBehaviorAttribute#3](../../../samples/snippets/csharp/VS_Snippets_CFX/callbackbehaviorattribute/cs/client.cs#3)]
 [!code-vb[CallbackBehaviorAttribute#3](../../../samples/snippets/visualbasic/VS_Snippets_CFX/callbackbehaviorattribute/vb/client.vb#3)]  
  
## <a name="using-callbackdebugbehavior-to-enable-the-flow-of-managed-exception-information"></a><span data-ttu-id="321f6-115">Utilizar CallbackDebugBehavior para habilitar el flujo de información de excepción administrada</span><span class="sxs-lookup"><span data-stu-id="321f6-115">Using CallbackDebugBehavior to Enable the Flow of Managed Exception Information</span></span>  
 <span data-ttu-id="321f6-116">Puede habilitar el flujo de información de excepción administrada en un objeto de devolución de llamada de cliente de nuevo al servicio para fines de depuración estableciendo la propiedad <xref:System.ServiceModel.Description.CallbackDebugBehavior.IncludeExceptionDetailInFaults%2A> en `true` mediante programación o desde un archivo de configuración de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="321f6-116">You can enable the flow of managed exception information in a client callback object back to the service for debugging purposes by setting the <xref:System.ServiceModel.Description.CallbackDebugBehavior.IncludeExceptionDetailInFaults%2A> property to `true` either programmatically or from an application configuration file.</span></span>  
  
 <span data-ttu-id="321f6-117">Devolver la información de excepción administrada a los servicios puede suponer un riesgo para la seguridad porque los datos de la excepción exponen información sobre la implementación del cliente interna que los servicios desautorizados podrían utilizar.</span><span class="sxs-lookup"><span data-stu-id="321f6-117">Returning managed exception information to services can be a security risk because exception details expose information about the internal client implementation that  unauthorized services could use.</span></span> <span data-ttu-id="321f6-118">Además, aunque también se pueden establecer las propiedades <xref:System.ServiceModel.Description.CallbackDebugBehavior> mediante programación, puede ser fácil olvidarse de deshabilitar <xref:System.ServiceModel.Description.CallbackDebugBehavior.IncludeExceptionDetailInFaults%2A> en la implementación.</span><span class="sxs-lookup"><span data-stu-id="321f6-118">In addition, although the <xref:System.ServiceModel.Description.CallbackDebugBehavior> properties can also be set programmatically, it can be easy to forget to disable <xref:System.ServiceModel.Description.CallbackDebugBehavior.IncludeExceptionDetailInFaults%2A> when deploying.</span></span>  
  
 <span data-ttu-id="321f6-119">Debido a los problemas de seguridad implicados, se recomienda encarecidamente que:</span><span class="sxs-lookup"><span data-stu-id="321f6-119">Because of the security issues involved, it is strongly recommended that:</span></span>  
  
-   <span data-ttu-id="321f6-120">Utilice un archivo de configuración de la aplicación para establecer el valor de la propiedad <xref:System.ServiceModel.Description.CallbackDebugBehavior.IncludeExceptionDetailInFaults%2A> en `true`.</span><span class="sxs-lookup"><span data-stu-id="321f6-120">You use an application configuration file to set the value of the <xref:System.ServiceModel.Description.CallbackDebugBehavior.IncludeExceptionDetailInFaults%2A> property to `true`.</span></span>  
  
-   <span data-ttu-id="321f6-121">lo haga solamente en escenarios de depuración controlados.</span><span class="sxs-lookup"><span data-stu-id="321f6-121">You do so only in controlled debugging scenarios.</span></span>  
  
 <span data-ttu-id="321f6-122">El ejemplo de código siguiente muestra un archivo de configuración del cliente que indica a [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] que devuelva la información de excepción administrada de un objeto de devolución de llamada de cliente en mensajes SOAP.</span><span class="sxs-lookup"><span data-stu-id="321f6-122">The following code example shows a client configuration file that instructs [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] to return managed exception information from a client callback object in SOAP messages.</span></span>  
  
 [!code-xml[SCA.CallbackContract#4](../../../samples/snippets/csharp/VS_Snippets_CFX/sca.callbackcontract/cs/client.exe.config#4)]  
 
## <a name="using-the-clientviabehavior-behavior"></a><span data-ttu-id="321f6-123">Utilizar el comportamiento de ClientViaBehavior</span><span class="sxs-lookup"><span data-stu-id="321f6-123">Using the ClientViaBehavior Behavior</span></span>  
 <span data-ttu-id="321f6-124">Puede utilizar el comportamiento <xref:System.ServiceModel.Description.ClientViaBehavior> para especificar el Identificador uniforme de recursos para el cual se debería crear el canal de transporte.</span><span class="sxs-lookup"><span data-stu-id="321f6-124">You can use the <xref:System.ServiceModel.Description.ClientViaBehavior> behavior to specify the Uniform Resource Identifier for which the transport channel should be created.</span></span> <span data-ttu-id="321f6-125">Utilice este comportamiento cuando el destino de la red inmediato no es el procesador de impresión previsto del mensaje.</span><span class="sxs-lookup"><span data-stu-id="321f6-125">Use this behavior when the immediate network destination is not the intended processor of the message.</span></span> <span data-ttu-id="321f6-126">Esto habilita conversaciones de varios saltos cuando la aplicación que realiza la llamada no conoce necesariamente el destino último o cuando el encabezado de destino `Via` no es una dirección.</span><span class="sxs-lookup"><span data-stu-id="321f6-126">This enables multiple-hop conversations when the calling application does not necessarily know the ultimate destination or when the destination `Via` header is not an address.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="321f6-127">Vea también</span><span class="sxs-lookup"><span data-stu-id="321f6-127">See Also</span></span>  
 [<span data-ttu-id="321f6-128">Especificación del comportamiento en tiempo de ejecución del servicio</span><span class="sxs-lookup"><span data-stu-id="321f6-128">Specifying Service Run-Time Behavior</span></span>](../../../docs/framework/wcf/specifying-service-run-time-behavior.md)
