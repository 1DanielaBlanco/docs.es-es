---
title: Compilación de los ejemplos de Windows Communication Foundation
ms.custom: ''
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: ''
ms.suite: ''
ms.technology:
- dotnet-clr
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: 2899e7a5-9cb2-4e8d-b8d2-f31391549198
caps.latest.revision: 33
author: dotnet-bot
ms.author: dotnetcontent
manager: wpickett
ms.workload:
- dotnet
ms.openlocfilehash: fcc57d28c109801cc5f995bebd31c49fcbdbe19c
ms.sourcegitcommit: 94d33cadc5ff81d2ac389bf5f26422c227832052
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 04/30/2018
---
# <a name="building-the-windows-communication-foundation-samples"></a><span data-ttu-id="3ea4a-102">Compilación de los ejemplos de Windows Communication Foundation</span><span class="sxs-lookup"><span data-stu-id="3ea4a-102">Building the Windows Communication Foundation Samples</span></span>
<span data-ttu-id="3ea4a-103">El [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)] ejemplos pueden crearse mediante Visual Studio 2010 o con el **msbuild** comando desde la línea de comandos.</span><span class="sxs-lookup"><span data-stu-id="3ea4a-103">The [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)] samples can be built using Visual Studio 2010 or using the **msbuild** command from the command line.</span></span> <span data-ttu-id="3ea4a-104">Ambos procedimientos se describen en este tema.</span><span class="sxs-lookup"><span data-stu-id="3ea4a-104">Both procedures are described in this topic.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="3ea4a-105">Antes de compilar o ejecutar cualquiera de los [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] ejemplos, asegúrese de que ha llevado a cabo la [procedimiento de instalación de un solo uso para los ejemplos de Windows Communication Foundation](../../../../docs/framework/wcf/samples/one-time-setup-procedure-for-the-wcf-samples.md).</span><span class="sxs-lookup"><span data-stu-id="3ea4a-105">Before building or running any of the [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] samples, ensure you have performed the [One-Time Setup Procedure for the Windows Communication Foundation Samples](../../../../docs/framework/wcf/samples/one-time-setup-procedure-for-the-wcf-samples.md).</span></span>  
  
### <a name="to-build-the-sample-using-a-command-prompt"></a><span data-ttu-id="3ea4a-106">Para compilar el ejemplo desde un símbolo del sistema</span><span class="sxs-lookup"><span data-stu-id="3ea4a-106">To build the sample using a command prompt</span></span>  
  
1.  <span data-ttu-id="3ea4a-107">Abra el símbolo del sistema de [!INCLUDE[vs_current_long](../../../../includes/vs-current-long-md.md)] con privilegios de administrador y navegue hasta el subdirectorio específico del lenguaje bajo el directorio donde instaló el ejemplo.</span><span class="sxs-lookup"><span data-stu-id="3ea4a-107">Open the [!INCLUDE[vs_current_long](../../../../includes/vs-current-long-md.md)] command prompt with administrator privileges and navigate to the language-specific subdirectory under the directory location where you installed the sample.</span></span>  
  
2.  <span data-ttu-id="3ea4a-108">Tipo de `msbuild` en la línea de comandos.</span><span class="sxs-lookup"><span data-stu-id="3ea4a-108">Type `msbuild` at the command line.</span></span> <span data-ttu-id="3ea4a-109">Los archivos de programa del cliente se compilan en client\bin y los archivos de programa del servicio se compilan en service\bin.</span><span class="sxs-lookup"><span data-stu-id="3ea4a-109">The client program files are built to client\bin and the service program files are built to service\bin.</span></span> <span data-ttu-id="3ea4a-110">Si Internet Information Services (IIS) hospeda el servicio, los archivos de programa del servicio también se copian en el directorio servicemodelsamples y su subdirectorio \bin.</span><span class="sxs-lookup"><span data-stu-id="3ea4a-110">If the service is hosted by Internet Information Services (IIS), the service program files are also copied to the servicemodelsamples directory and its \bin subdirectory.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="3ea4a-111">Debe establecer las ACL en %systemdrive%\inetpub\wwwroot para otorgar permisos de modificación en la cuenta bajo la cual se está ejecutando.</span><span class="sxs-lookup"><span data-stu-id="3ea4a-111">You must set the ACLs on %systemdrive%\inetpub\wwwroot to grant modify permissions to the account under which you are running.</span></span> <span data-ttu-id="3ea4a-112">De lo contrario, se producirán errores en eventos posteriores a la compilación.</span><span class="sxs-lookup"><span data-stu-id="3ea4a-112">Otherwise some post build events fail.</span></span> <span data-ttu-id="3ea4a-113">Como alternativa, puede dejar las ACL tal como están y ejecutar el símbolo del sistema del SDK como administrador.</span><span class="sxs-lookup"><span data-stu-id="3ea4a-113">Alternatively, you can leave the ACLs as they are and run the SDK command prompt as administrator.</span></span>  
  
### <a name="to-build-the-sample-using-visual-studio"></a><span data-ttu-id="3ea4a-114">Para compilar el ejemplo con Visual Studio</span><span class="sxs-lookup"><span data-stu-id="3ea4a-114">To build the sample using Visual Studio</span></span>  
  
1.  <span data-ttu-id="3ea4a-115">Si utilizas [!INCLUDE[wv](../../../../includes/wv-md.md)], [!INCLUDE[lserver](../../../../includes/lserver-md.md)], Windows 7 o Windows Server 2008 R2 y ejecución [!INCLUDE[vs_current_long](../../../../includes/vs-current-long-md.md)], debe ejecutar Visual Studio con permisos elevados.</span><span class="sxs-lookup"><span data-stu-id="3ea4a-115">If you are using [!INCLUDE[wv](../../../../includes/wv-md.md)], [!INCLUDE[lserver](../../../../includes/lserver-md.md)], Windows 7, or Windows Server 2008 R2, and running [!INCLUDE[vs_current_long](../../../../includes/vs-current-long-md.md)], you must run Visual Studio with elevated permission.</span></span> <span data-ttu-id="3ea4a-116">Para ello, haga clic en el icono en el menú Inicio y, a continuación, haga clic en **ejecutar como administrador**.</span><span class="sxs-lookup"><span data-stu-id="3ea4a-116">To do so, right-click the icon on the Start menu and then click **Run as administrator**.</span></span>  
  
2.  <span data-ttu-id="3ea4a-117">Desde el **archivo** menú en Visual Studio, haga clic en **abiertos**, a continuación, haga clic en **proyecto/solución**.</span><span class="sxs-lookup"><span data-stu-id="3ea4a-117">From the **File** menu in Visual Studio, click **Open**, then click **Project/Solution**.</span></span> <span data-ttu-id="3ea4a-118">Desplácese hasta el subdirectorio específico del lenguaje bajo el directorio en el que instaló el ejemplo y haga doble clic en el icono del archivo .sln para abrir la solución en Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="3ea4a-118">Navigate to the language-specific subdirectory under the directory in which you installed the sample, and double-click the .sln file icon to open the solution in Visual Studio.</span></span>  
  
3.  <span data-ttu-id="3ea4a-119">En el **generar** menú, seleccione **volver a generar solución**.</span><span class="sxs-lookup"><span data-stu-id="3ea4a-119">In the **Build** menu, select **Rebuild Solution**.</span></span> <span data-ttu-id="3ea4a-120">Los archivos de programa del cliente se compilan en client\bin y los archivos de programa del servicio se compilan en service\bin.</span><span class="sxs-lookup"><span data-stu-id="3ea4a-120">The client program files are built to client\bin and the service program files are built to service\bin.</span></span> <span data-ttu-id="3ea4a-121">Si se hospeda el servicio en IIS, los archivos de programa de servicio también se copian en el directorio servicemodelsamples y su subdirectorio \bin.</span><span class="sxs-lookup"><span data-stu-id="3ea4a-121">If the service is hosted in IIS, the service program files are also copied to the servicemodelsamples directory and its \bin subdirectory.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="3ea4a-122">Debe establecer las ACL en %systemdrive%\inetpub\wwwroot para otorgar permisos de modificación en la cuenta bajo la cual se está ejecutando.</span><span class="sxs-lookup"><span data-stu-id="3ea4a-122">You must set the ACLs on %systemdrive%\inetpub\wwwroot to grant modify permissions to the account under which you are running.</span></span> <span data-ttu-id="3ea4a-123">De lo contrario, se producirán errores en eventos posteriores a la compilación.</span><span class="sxs-lookup"><span data-stu-id="3ea4a-123">Otherwise some post build events fail.</span></span> <span data-ttu-id="3ea4a-124">De manera alternativa, puede dejar las ACL tal y como están y ejecutar el símbolo de sistema de SDK o Visual Studio como administrador.</span><span class="sxs-lookup"><span data-stu-id="3ea4a-124">Alternatively, you can leave the ACLs as they are and run the SDK command prompt or Visual Studio as administrator.</span></span> <span data-ttu-id="3ea4a-125">Algunas acciones de Visual Studio (como asociar un depurador al proceso de trabajo de ASP.NET) también requieren privilegios de administrador.</span><span class="sxs-lookup"><span data-stu-id="3ea4a-125">Some Visual Studio actions (such as attaching a debugger to the ASP.Net worker process) also require administrative privileges.</span></span>  
  
## <a name="setup-batch-files-and-scripts"></a><span data-ttu-id="3ea4a-126">Archivos de instalación por lotes y scripts</span><span class="sxs-lookup"><span data-stu-id="3ea4a-126">Setup Batch Files and Scripts</span></span>  
 <span data-ttu-id="3ea4a-127">Los archivos por lotes Setup.exe y Cleanup.exe y los scripts deberían ejecutarse desde un símbolo del sistema de Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="3ea4a-127">Setup.exe and Cleanup.exe batch files and scripts should be run from a Visual Studio command prompt.</span></span> <span data-ttu-id="3ea4a-128">Hay varios archivos de limpieza e instalación que realizan tareas que requieren privilegios administrativos y deberían iniciarse con privilegios de administrador.</span><span class="sxs-lookup"><span data-stu-id="3ea4a-128">Several set up and clean up files perform tasks that require administrative privileges and should be launched with administrator privileges.</span></span>  
  
## <a name="important-security-information-about-metadata-endpoints"></a><span data-ttu-id="3ea4a-129">Información de seguridad importante sobre los puntos de conexión de metadatos</span><span class="sxs-lookup"><span data-stu-id="3ea4a-129">Important Security Information about Metadata Endpoints</span></span>  
 <span data-ttu-id="3ea4a-130">Para evitar la divulgación involuntaria de metadatos de servicio con información confidencial potencial, la configuración predeterminada para los servicios [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)] deshabilita la publicación de metadatos.</span><span class="sxs-lookup"><span data-stu-id="3ea4a-130">To prevent unintentional disclosure of potentially sensitive service metadata, the default configuration for [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)] services disables metadata publishing.</span></span> <span data-ttu-id="3ea4a-131">Este comportamiento es seguro de forma predeterminada, pero también quiere decir que no puede usar una herramienta de importación de metadatos (como Svcutil.exe) Para compilar el código de cliente necesario para llamar al servicio a menos que el comportamiento de publicación de metadatos del servicio se habilite de manera explícita en la configuración.</span><span class="sxs-lookup"><span data-stu-id="3ea4a-131">This behavior is secure by default, but also means that you cannot use a metadata import tool (such as Svcutil.exe) to generate the client code required to call the service unless the service’s metadata publishing behavior is explicitly enabled in configuration.</span></span> <span data-ttu-id="3ea4a-132">Para que los experimentos con los ejemplos sean más sencillos, casi todos los ejemplos exponen un punto de conexión de publicación de metadatos no seguro.</span><span class="sxs-lookup"><span data-stu-id="3ea4a-132">To make experimenting with the samples easier, almost all samples expose an unsecured metadata publishing endpoint.</span></span> <span data-ttu-id="3ea4a-133">Tales puntos de conexión pueden estar disponibles para los consumidores anónimos no autenticados y se debe tener cuidado antes de implementar tales puntos de conexión para garantizar que la revelación pública de un metadato del servicio sea la adecuada.</span><span class="sxs-lookup"><span data-stu-id="3ea4a-133">Such endpoints are potentially available to anonymous unauthenticated consumers and care must be taken before deploying such endpoints to ensure that publicly disclosing a service’s metadata is appropriate.</span></span> <span data-ttu-id="3ea4a-134">Para obtener más información acerca de la publicación de metadatos de servicio, consulte la [comportamiento de publicación de metadatos](../../../../docs/framework/wcf/samples/metadata-publishing-behavior.md) ejemplo.</span><span class="sxs-lookup"><span data-stu-id="3ea4a-134">For more information about publishing service metadata, see the [Metadata Publishing Behavior](../../../../docs/framework/wcf/samples/metadata-publishing-behavior.md) sample.</span></span> <span data-ttu-id="3ea4a-135">Consulte la [personalizado extremo de metadatos seguros](../../../../docs/framework/wcf/samples/custom-secure-metadata-endpoint.md) ejemplo para obtener un ejemplo de protección de un extremo de metadatos.</span><span class="sxs-lookup"><span data-stu-id="3ea4a-135">See the [Custom Secure Metadata Endpoint](../../../../docs/framework/wcf/samples/custom-secure-metadata-endpoint.md) sample for a sample securing a metadata endpoint.</span></span>  
  
## <a name="exception-handling"></a><span data-ttu-id="3ea4a-136">Control de excepciones</span><span class="sxs-lookup"><span data-stu-id="3ea4a-136">Exception Handling</span></span>  
 <span data-ttu-id="3ea4a-137">En general, estos ejemplos no incluyen el control de excepciones para mantener el código centrado en el asunto del ejemplo.</span><span class="sxs-lookup"><span data-stu-id="3ea4a-137">Generally speaking these samples do not include exception handling to keep the code focused on the subject of the sample.</span></span> <span data-ttu-id="3ea4a-138">Para obtener más información sobre el control de excepciones, consulte la [espera excepciones](../../../../docs/framework/wcf/samples/expected-exceptions.md) ejemplo.</span><span class="sxs-lookup"><span data-stu-id="3ea4a-138">For more information about exception handling, see the [Expected Exceptions](../../../../docs/framework/wcf/samples/expected-exceptions.md) sample.</span></span>  
  
## <a name="regenerating-clients-and-configuration-with-svcutil"></a><span data-ttu-id="3ea4a-139">Regenerar clientes y configuración con Svcutil</span><span class="sxs-lookup"><span data-stu-id="3ea4a-139">Regenerating Clients and Configuration with Svcutil</span></span>  
 <span data-ttu-id="3ea4a-140">Puede usar el [la herramienta de utilidad de metadatos de ServiceModel (Svcutil.exe)](../../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md) volver a generar el código de cliente y la configuración para la mayoría de los ejemplos.</span><span class="sxs-lookup"><span data-stu-id="3ea4a-140">You can use the [ServiceModel Metadata Utility Tool (Svcutil.exe)](../../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md) to regenerate client code and configuration for most of the samples.</span></span> <span data-ttu-id="3ea4a-141">Algunos ejemplos requieren una configuración editada manualmente.</span><span class="sxs-lookup"><span data-stu-id="3ea4a-141">Some samples require manually edited configuration.</span></span> <span data-ttu-id="3ea4a-142">Por ejemplo, si utiliza Svcutil.exe para regenerar la configuración para obtener un ejemplo que utiliza las credenciales del certificado de cliente, debe especificar manualmente las credenciales previamente configuradas.</span><span class="sxs-lookup"><span data-stu-id="3ea4a-142">For example, if you use Svcutil.exe to regenerate the configuration for a sample that uses client certificate credentials, you must manually specify the credentials previously configured.</span></span> <span data-ttu-id="3ea4a-143">Algunos ejemplos utilizan las opciones Svcutil.exe concretas para afectar al código generado, estas opciones se especifican en los temas de ejemplo concretos.</span><span class="sxs-lookup"><span data-stu-id="3ea4a-143">Some samples use specific Svcutil.exe options to affect the generated code, these options are specified in the specific sample topics.</span></span>  
  
#### <a name="to-regenerate-the-client-and-configuration-files"></a><span data-ttu-id="3ea4a-144">Para regenerar los archivos de configuración y cliente</span><span class="sxs-lookup"><span data-stu-id="3ea4a-144">To regenerate the client and configuration files</span></span>  
  
1.  <span data-ttu-id="3ea4a-145">Abra un símbolo del sistema de SDK y desplácese hasta el subdirectorio específico del idioma debajo de la ubicación del directorio donde haya instalado el ejemplo.</span><span class="sxs-lookup"><span data-stu-id="3ea4a-145">Open an SDK command prompt and navigate to the language-specific subdirectory under the directory location where you installed the sample.</span></span>  
  
2.  <span data-ttu-id="3ea4a-146">Si el servicio es un tipo hospedado en web, utilice el comando siguiente.</span><span class="sxs-lookup"><span data-stu-id="3ea4a-146">If the service is a Web-hosted type, use the following command.</span></span>  
  
    ```  
    svcutil.exe /n:"http://Microsoft.ServiceModel.Samples,Microsoft.ServiceModel.Samples" http://localhost/servicemodelsamples/service.svc/mex /out:generatedClient.cs  
    ```  
  
     <span data-ttu-id="3ea4a-147">Si el servicio es un tipo autohospedado utilice el comando siguiente.</span><span class="sxs-lookup"><span data-stu-id="3ea4a-147">If the service is a self-hosted type the following command.</span></span>  
  
    ```  
    svcutil.exe /n:"http://Microsoft.ServiceModel.Samples,Microsoft.ServiceModel.Samples" http://localhost:8000/servicemodelsamples/service.svc/mex /out:generatedClient.cs  
    ```  
  
     <span data-ttu-id="3ea4a-148">Reemplace http://localhost:8000/ServiceModelSamples/service.svc/mex con la dirección del extremo mex del servicio hospedado por sí mismo.</span><span class="sxs-lookup"><span data-stu-id="3ea4a-148">Replace http://localhost:8000/ServiceModelSamples/service.svc/mex with the address of the self-hosted service's mex endpoint.</span></span>  
  
     <span data-ttu-id="3ea4a-149">Para generar el cliente en un tipo de Visual Basic, utilice el siguiente comando.</span><span class="sxs-lookup"><span data-stu-id="3ea4a-149">To generate the client in a Visual Basic type, use the following command.</span></span>  
  
    ```  
    svcutil.exe /n:"http://Microsoft.ServiceModel.Samples,Microsoft.ServiceModel.Samples" http://localhost/servicemodelsamples/service.svc/mex /l:vb /out:generatedClient.vb  
    ```  
  
     <span data-ttu-id="3ea4a-150">Si el servicio es un tipo autohospedado utilice el comando siguiente.</span><span class="sxs-lookup"><span data-stu-id="3ea4a-150">If the service is a self-hosted type, use the following command.</span></span>  
  
    ```  
    svcutil.exe /n:"http://Microsoft.ServiceModel.Samples,Microsoft.ServiceModel.Samples" http://localhost:8000/servicemodelsamples/service.svc/mex /l:vb /out:generatedClient.vb  
    ```  
  
    > [!NOTE]
    >  <span data-ttu-id="3ea4a-151">Para omitir la generación de la configuración de cliente de agregar el **/noConfig** opción.</span><span class="sxs-lookup"><span data-stu-id="3ea4a-151">To skip the generation of client configuration add the **/noConfig** option.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="3ea4a-152">Vea también</span><span class="sxs-lookup"><span data-stu-id="3ea4a-152">See Also</span></span>  
 [<span data-ttu-id="3ea4a-153">Ejecución de los ejemplos de Windows Communication Foundation</span><span class="sxs-lookup"><span data-stu-id="3ea4a-153">Running the Windows Communication Foundation Samples</span></span>](../../../../docs/framework/wcf/samples/running-the-samples.md)  
 [<span data-ttu-id="3ea4a-154">Herramienta de utilidad de metadatos de ServiceModel (Svcutil.exe)</span><span class="sxs-lookup"><span data-stu-id="3ea4a-154">ServiceModel Metadata Utility Tool (Svcutil.exe)</span></span>](../../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md)
