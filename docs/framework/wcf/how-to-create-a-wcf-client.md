---
title: Creación de un cliente de Windows Communication Foundation
ms.date: 03/30/2017
helpviewer_keywords:
- clients [WCF], running
- WCF clients [WCF], running
ms.assetid: a67884cc-1c4b-416b-8c96-5c954099f19f
ms.openlocfilehash: 9e6d75bf8911a3c36e63b3bc108faae823434d1d
ms.sourcegitcommit: efff8f331fd9467f093f8ab8d23a203d6ecb5b60
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 09/01/2018
ms.locfileid: "43397294"
---
# <a name="how-to-create-a-windows-communication-foundation-client"></a><span data-ttu-id="8c172-102">Creación de un cliente de Windows Communication Foundation</span><span class="sxs-lookup"><span data-stu-id="8c172-102">How to: Create a Windows Communication Foundation Client</span></span>

<span data-ttu-id="8c172-103">Se trata de la cuarta de las seis tareas necesarias para crear una aplicación de Windows Communication Foundation (WCF).</span><span class="sxs-lookup"><span data-stu-id="8c172-103">This is the fourth of six tasks required to create a Windows Communication Foundation (WCF) application.</span></span> <span data-ttu-id="8c172-104">Para obtener información general de las seis tareas, vea el tema [Tutorial de introducción](../../../docs/framework/wcf/getting-started-tutorial.md).</span><span class="sxs-lookup"><span data-stu-id="8c172-104">For an overview of all six of the tasks, see the [Getting Started Tutorial](../../../docs/framework/wcf/getting-started-tutorial.md) topic.</span></span>

<span data-ttu-id="8c172-105">Este tema describe cómo recuperar los metadatos de un servicio WCF y usarla para crear a un proxy WCF que puede tener acceso al servicio.</span><span class="sxs-lookup"><span data-stu-id="8c172-105">This topic describes how to retrieve metadata from a WCF service and use it to create a WCF proxy that can access the service.</span></span> <span data-ttu-id="8c172-106">Esta tarea se completa usando la funcionalidad Agregar referencia de servicio proporcionada por Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="8c172-106">This task is completed by using the Add Service Reference functionality provided by Visual Studio .</span></span> <span data-ttu-id="8c172-107">Esta herramienta obtiene los metadatos del extremo MEX del servicio y genera un archivo de código fuente administrado para un proxy de cliente en el lenguaje elegido (C# de forma predeterminada).</span><span class="sxs-lookup"><span data-stu-id="8c172-107">This tool obtains the metadata from the service’s MEX endpoint and generates a managed source code file for a client proxy in the language you have chosen (C# by default).</span></span> <span data-ttu-id="8c172-108">Además de crear el proxy de cliente, la herramienta también crea o actualiza el archivo de configuración de cliente que permite que la aplicación cliente se conecte al servicio en uno de sus puntos de conexión.</span><span class="sxs-lookup"><span data-stu-id="8c172-108">In addition to creating the client proxy, the tool also creates or updates the client configuration file which enables the client application to connect to the service at one of its endpoints.</span></span>

> [!NOTE]
> <span data-ttu-id="8c172-109">También puede usar el [ServiceModel Metadata Utility Tool (Svcutil.exe)](../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md) herramienta para generar la clase de proxy y la configuración en lugar de usar Agregar referencia de servicio dentro de Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="8c172-109">You can also use the [ServiceModel Metadata Utility Tool (Svcutil.exe)](../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md) tool to generate the proxy class and configuration instead of using Add Service Reference inside of Visual Studio.</span></span>

> [!WARNING]
> <span data-ttu-id="8c172-110">Al llamar a un servicio WCF desde un proyecto de biblioteca de clases en [!INCLUDE[vs_current_long](../../../includes/vs-current-long-md.md)] puede usar la característica Agregar referencia de servicio para generar automáticamente un proxy y el archivo de configuración asociada.</span><span class="sxs-lookup"><span data-stu-id="8c172-110">When calling a WCF service from a class library project in [!INCLUDE[vs_current_long](../../../includes/vs-current-long-md.md)] you can use the Add Service Reference feature to automatically generate a proxy and associated configuration file.</span></span>  <span data-ttu-id="8c172-111">El archivo de configuración no lo usará el proyecto de biblioteca de clases.</span><span class="sxs-lookup"><span data-stu-id="8c172-111">The configuration file will not be used by the class library project.</span></span> <span data-ttu-id="8c172-112">Necesitará agregar los valores del archivo de configuración generado al archivo app.config del ejecutable que llamará a la biblioteca de clases.</span><span class="sxs-lookup"><span data-stu-id="8c172-112">You will need to add the settings in the generated configuration file to the app.config file for the executable that will call the class library.</span></span>

 <span data-ttu-id="8c172-113">La aplicación cliente usa la clase de proxy generada para comunicarse con el servicio.</span><span class="sxs-lookup"><span data-stu-id="8c172-113">The client application uses the generated proxy class to communicate with the service.</span></span> <span data-ttu-id="8c172-114">Este procedimiento se describe en [Cómo: usar un cliente](../../../docs/framework/wcf/how-to-use-a-wcf-client.md).</span><span class="sxs-lookup"><span data-stu-id="8c172-114">This procedure is described in [How to: Use a Client](../../../docs/framework/wcf/how-to-use-a-wcf-client.md).</span></span>

## <a name="to-create-a-windows-communication-foundation-client"></a><span data-ttu-id="8c172-115">Creación de un cliente de Windows Communication Foundation</span><span class="sxs-lookup"><span data-stu-id="8c172-115">To create a Windows Communication Foundation client</span></span>

1.  <span data-ttu-id="8c172-116">Crear un nuevo proyecto de aplicación de consola con el botón secundario en la solución introducción, seleccionar, **agregar**, **nuevo proyecto**.</span><span class="sxs-lookup"><span data-stu-id="8c172-116">Create a new console application project by right-clicking on the Getting Started solution, selecting, **Add**, **New Project**.</span></span> <span data-ttu-id="8c172-117">En la parte izquierda del cuadro de diálogo **Agregar nuevo proyecto**, seleccione **Windows** en **C#** o **VB**.</span><span class="sxs-lookup"><span data-stu-id="8c172-117">In the **Add New Project** dialog on the left hand side of the dialog select **Windows** under **C#** or **VB**.</span></span> <span data-ttu-id="8c172-118">En la sección central del cuadro de diálogo, seleccione **Aplicación de consola**.</span><span class="sxs-lookup"><span data-stu-id="8c172-118">In the center section of the dialog select **Console Application**.</span></span> <span data-ttu-id="8c172-119">Dé un nombre al proyecto `GettingStartedClient`.</span><span class="sxs-lookup"><span data-stu-id="8c172-119">Name the project `GettingStartedClient`.</span></span>

2.  <span data-ttu-id="8c172-120">Establece la plataforma de destino del proyecto GettingStartedClient en .NET Framework 4.5, haga clic con el botón secundario en **GettingStartedClient** en el Explorador de soluciones y seleccionando **propiedades**.</span><span class="sxs-lookup"><span data-stu-id="8c172-120">Set the target framework of the GettingStartedClient project to .NET Framework 4.5 by right clicking on **GettingStartedClient** in the Solution Explorer and selecting **Properties**.</span></span> <span data-ttu-id="8c172-121">En el cuadro desplegable **Plataforma de destino**, seleccione **.NET Framework 4.5**.</span><span class="sxs-lookup"><span data-stu-id="8c172-121">In the dropdown box labeled **Target Framework** select **.NET Framework 4.5**.</span></span> <span data-ttu-id="8c172-122">Establecer la plataforma de destino para un proyecto de VB es algo diferente, en el cuadro de diálogo de propiedades de proyecto GettingStartedClient, haga clic en el **compilar** pestaña en el lado izquierdo de la pantalla y, a continuación, haga clic en el **avanzadas Opciones de compilación** situado en la esquina inferior izquierda del cuadro de diálogo.</span><span class="sxs-lookup"><span data-stu-id="8c172-122">Setting the target framework for a VB project is a little different, in the GettingStartedClient project properties dialog, click the **Compile** tab on the left-hand side of the screen, and then click the **Advanced Compile Options** button at the lower left-hand corner of the dialog.</span></span> <span data-ttu-id="8c172-123">Después, seleccione **.NET Framework 4.5** en el cuadro desplegable con la etiqueta **Plataforma de destino**.</span><span class="sxs-lookup"><span data-stu-id="8c172-123">Then select **.NET Framework 4.5** in the dropdown box labeled **Target Framework**.</span></span>

     <span data-ttu-id="8c172-124">Establecer la plataforma de destino hará que Visual Studio 2011 recargue la solución, presione **Aceptar** cuando se le solicite.</span><span class="sxs-lookup"><span data-stu-id="8c172-124">Setting the target framework will cause Visual Studio 2011 to reload the solution, press **OK** when prompted.</span></span>

3.  <span data-ttu-id="8c172-125">Agregue una referencia a System.ServiceModel al proyecto GettingStartedClient haciendo clic con el **referencia** carpeta bajo el proyecto GettingStartedClient en el Explorador de soluciones y seleccione **agregar** Referencia.</span><span class="sxs-lookup"><span data-stu-id="8c172-125">Add a reference to System.ServiceModel to the GettingStartedClient project by right-clicking the **Reference** folder under the GettingStartedClient project in Solution Explorer and select **Add** Reference.</span></span> <span data-ttu-id="8c172-126">En el lado izquierdo del cuadro de diálogo **Agregar referencia**, seleccione **Framework**.</span><span class="sxs-lookup"><span data-stu-id="8c172-126">In the **Add Reference** dialog select **Framework** on the left-hand side of the dialog.</span></span> <span data-ttu-id="8c172-127">En el cuadro de texto Ensamblados de búsqueda, escriba `System.ServiceModel`.</span><span class="sxs-lookup"><span data-stu-id="8c172-127">In the Search Assemblies textbox, type in `System.ServiceModel`.</span></span> <span data-ttu-id="8c172-128">En la sección central del cuadro de diálogo, seleccione **System.ServiceModel**, haga clic en el botón **Agregar** y después en el botón **Cerrar**.</span><span class="sxs-lookup"><span data-stu-id="8c172-128">In the center section of the dialog select **System.ServiceModel**, click the **Add** button, and click the **Close** button.</span></span> <span data-ttu-id="8c172-129">Guarde la solución haciendo clic en el **guardar todo** botón debajo del menú principal.</span><span class="sxs-lookup"><span data-stu-id="8c172-129">Save the solution by clicking the **Save All** button below the main menu.</span></span>

4.  <span data-ttu-id="8c172-130">A continuación agregue una referencia de servicio al servicio de calculadora.</span><span class="sxs-lookup"><span data-stu-id="8c172-130">Next you add a service reference to the Calculator Service.</span></span> <span data-ttu-id="8c172-131">Antes de poder hacerlo, debe iniciar la aplicación de consola GettingStartedHost.</span><span class="sxs-lookup"><span data-stu-id="8c172-131">Before you can do that, you must start up the GettingStartedHost console application.</span></span> <span data-ttu-id="8c172-132">Una vez que se está ejecutando el host, haga clic en el **referencias** carpeta bajo el proyecto GettingStartedClient en **el Explorador de soluciones** y seleccione **agregar**  >   **Referencia de servicio**.</span><span class="sxs-lookup"><span data-stu-id="8c172-132">Once the host is running, right-click the **References** folder under the GettingStartedClient project in **Solution Explorer** and select **Add** > **Service Reference**.</span></span> <span data-ttu-id="8c172-133">Escriba la dirección URL siguiente en el cuadro Dirección de la **Add Service Reference** diálogo: [ http://localhost:8000/ServiceModelSamples/Service ](http://localhost:8000/ServiceModelSamples/Service) y haga clic en el **vaya** botón.</span><span class="sxs-lookup"><span data-stu-id="8c172-133">Type in the following URL in the address box of the **Add Service Reference** dialog:  [http://localhost:8000/ServiceModelSamples/Service](http://localhost:8000/ServiceModelSamples/Service) and click the **Go** button.</span></span> <span data-ttu-id="8c172-134">CalculatorService, a continuación, se debe mostrar en el cuadro de lista de servicios.</span><span class="sxs-lookup"><span data-stu-id="8c172-134">The CalculatorService should then be displayed in the Services list box.</span></span> <span data-ttu-id="8c172-135">Haga doble clic en CalculatorService y expandirá y mostrará los contratos de servicio implementados por el servicio.</span><span class="sxs-lookup"><span data-stu-id="8c172-135">Double-click CalculatorService and it will expand and show the service contracts implemented by the service.</span></span> <span data-ttu-id="8c172-136">Deje el espacio de nombres predeterminado como está y haga clic en el **Aceptar** botón.</span><span class="sxs-lookup"><span data-stu-id="8c172-136">Leave the default namespace as is and click the **OK** button.</span></span>

     <span data-ttu-id="8c172-137">Cuando se agrega una referencia a un servicio usando Visual Studio, aparecerá un nuevo elemento en el Explorador de soluciones bajo la carpeta Referencias de servicio bajo el proyecto GettingStartedClient.</span><span class="sxs-lookup"><span data-stu-id="8c172-137">When you add a reference to a service using Visual Studio a new item will appear in the Solution Explorer under the Service References folder under the GettingStartedClient project.</span></span>  <span data-ttu-id="8c172-138">Si usas el [ServiceModel Metadata Utility Tool (Svcutil.exe)](../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md) herramienta se generará un archivo de código fuente y el archivo app.config.</span><span class="sxs-lookup"><span data-stu-id="8c172-138">If you use the [ServiceModel Metadata Utility Tool (Svcutil.exe)](../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md) tool a source code file and app.config file will be generated.</span></span>

     <span data-ttu-id="8c172-139">También puede usar la herramienta de línea de comandos [ServiceModel Metadata Utility Tool (Svcutil.exe)](../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md) con los modificadores adecuados para crear el código de cliente.</span><span class="sxs-lookup"><span data-stu-id="8c172-139">You can also use the command-line tool [ServiceModel Metadata Utility Tool (Svcutil.exe)](../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md) with the appropriate switches to create the client code.</span></span> <span data-ttu-id="8c172-140">El siguiente ejemplo genera un archivo de código y un archivo de configuración para el servicio.</span><span class="sxs-lookup"><span data-stu-id="8c172-140">The following example generates a code file and a configuration file for the service.</span></span> <span data-ttu-id="8c172-141">El primer ejemplo muestra cómo generar el proxy en VB y el segundo muestra cómo generar el proxy en C#:</span><span class="sxs-lookup"><span data-stu-id="8c172-141">The first example shows how to generate the proxy in VB and the second shows how to generated the proxy in C#:</span></span>

    ```
    svcutil.exe /language:vb /out:generatedProxy.vb /config:app.config http://localhost:8000/ServiceModelSamples/service
    ```

    ```csharp
    svcutil.exe /language:cs /out:generatedProxy.cs /config:app.config http://localhost:8000/ServiceModelSamples/service
    ```

 <span data-ttu-id="8c172-142">Ahora ha creado el proxy que la aplicación cliente usará para llamar al servicio de calculadora.</span><span class="sxs-lookup"><span data-stu-id="8c172-142">You have now created the proxy that the client application will use to call the calculator service.</span></span> <span data-ttu-id="8c172-143">Continúe con el siguiente tema de la serie: [Cómo: configurar un cliente](../../../docs/framework/wcf/how-to-configure-a-basic-wcf-client.md)</span><span class="sxs-lookup"><span data-stu-id="8c172-143">Proceed to the next topic in the series: [How to: Configure a Client](../../../docs/framework/wcf/how-to-configure-a-basic-wcf-client.md)</span></span>

## <a name="see-also"></a><span data-ttu-id="8c172-144">Vea también</span><span class="sxs-lookup"><span data-stu-id="8c172-144">See Also</span></span>

- [<span data-ttu-id="8c172-145">Herramienta de utilidad de metadatos de ServiceModel (Svcutil.exe)</span><span class="sxs-lookup"><span data-stu-id="8c172-145">ServiceModel Metadata Utility Tool (Svcutil.exe)</span></span>](../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md)
- [<span data-ttu-id="8c172-146">Introducción</span><span class="sxs-lookup"><span data-stu-id="8c172-146">Getting Started</span></span>](../../../docs/framework/wcf/samples/getting-started-sample.md)
- [<span data-ttu-id="8c172-147">Probar internamente</span><span class="sxs-lookup"><span data-stu-id="8c172-147">Self-Host</span></span>](../../../docs/framework/wcf/samples/self-host.md)
- [<span data-ttu-id="8c172-148">Publicación de metadatos para un servicio mediante un archivo de configuración</span><span class="sxs-lookup"><span data-stu-id="8c172-148">How to: Publish Metadata for a Service Using a Configuration File</span></span>](../../../docs/framework/wcf/feature-details/how-to-publish-metadata-for-a-service-using-a-configuration-file.md)
- [<span data-ttu-id="8c172-149">Uso de Svcutil.exe para descargar los documentos de metadatos</span><span class="sxs-lookup"><span data-stu-id="8c172-149">How to: Use Svcutil.exe to Download Metadata Documents</span></span>](../../../docs/framework/wcf/feature-details/how-to-use-svcutil-exe-to-download-metadata-documents.md)
