---
title: Expresiones lambda
description: "Aprenda a usar expresiones lambda, término con el que se denomina a los bloques de código ejecutable que se pueden pasar como argumentos."
keywords: . NET, .NET Core, expresiones lambda, lambdas, delegados
ms-author: ronpet
author: rpetrusha
ms.date: 11/22/2016
ms.topic: article
ms.prod: .net
ms.technology: devlang-csharp
ms.devlang: csharp
ms.assetid: b6a0539a-8ce5-4da7-adcf-44be345a2714
ms.translationtype: HT
ms.sourcegitcommit: 2762cdc983465979a530192716c33de7044dd1ed
ms.openlocfilehash: 659a3366b00d6abe6598c31774d008c6b8f400fd
ms.contentlocale: es-es
ms.lasthandoff: 08/04/2017

---

# <a name="lambda-expressions"></a><span data-ttu-id="98c7d-104">Expresiones lambda</span><span class="sxs-lookup"><span data-stu-id="98c7d-104">Lambda expressions</span></span> #

<span data-ttu-id="98c7d-105">Una *expresión lambda* es un bloque de código (una expresión o un bloque de instrucciones) que se trata como un objeto.</span><span class="sxs-lookup"><span data-stu-id="98c7d-105">A *lambda expression* is a block of code (an expression or a statement block) that is treated as an object.</span></span> <span data-ttu-id="98c7d-106">Se puede pasar como argumento a los métodos y también la pueden devolver las llamadas al método.</span><span class="sxs-lookup"><span data-stu-id="98c7d-106">It can be passed as an argument to methods, and it can also be returned by method calls.</span></span> <span data-ttu-id="98c7d-107">Las expresiones lambda se usan mayoritariamente para:</span><span class="sxs-lookup"><span data-stu-id="98c7d-107">Lambda expressions are used extensively for:</span></span>

- <span data-ttu-id="98c7d-108">Pasar el código que se debe ejecutar a métodos asincrónicos, como @System.Threading.Tasks.Task.Run(System.Action).</span><span class="sxs-lookup"><span data-stu-id="98c7d-108">Passing the code that is to be executed to asynchronous methods, such as @System.Threading.Tasks.Task.Run(System.Action).</span></span>

- <span data-ttu-id="98c7d-109">Escribir [expresiones de consulta LINQ](linq/index.md).</span><span class="sxs-lookup"><span data-stu-id="98c7d-109">Writing [LINQ query expressions](linq/index.md).</span></span>

- <span data-ttu-id="98c7d-110">Crear [árboles de expresión](expression-trees-building.md).</span><span class="sxs-lookup"><span data-stu-id="98c7d-110">Creating [expression trees](expression-trees-building.md).</span></span>

<span data-ttu-id="98c7d-111">Las expresiones lambda son un código que se puede representar como un delegado o como un árbol de expresión que se compila en un delegado.</span><span class="sxs-lookup"><span data-stu-id="98c7d-111">Lambda expressions are code that can be represented either as a delegate, or as an expression tree that compiles to a delegate.</span></span> <span data-ttu-id="98c7d-112">El tipo de delegado específico de una expresión lambda depende de sus parámetros y del valor devuelto.</span><span class="sxs-lookup"><span data-stu-id="98c7d-112">The specific delegate type of a lambda expression depends on its parameters and return value.</span></span> <span data-ttu-id="98c7d-113">Las expresiones lambda que no devuelven ningún valor corresponden a un delegado `Action` específico, según el número de parámetros.</span><span class="sxs-lookup"><span data-stu-id="98c7d-113">Lambda expressions that don't return a value correspond to a specific `Action` delegate, depending on its number of parameters.</span></span> <span data-ttu-id="98c7d-114">Las expresiones lambda que devuelven un valor corresponden a un delegado `Func` específico, según el número de parámetros.</span><span class="sxs-lookup"><span data-stu-id="98c7d-114">Lambda expressions that return a value correspond to a specific `Func` delegate, depending on its number of parameters.</span></span> <span data-ttu-id="98c7d-115">Por ejemplo, una expresión lambda que tiene dos parámetros pero que no devuelve ningún valor corresponde a un delegado @System.Action%602.</span><span class="sxs-lookup"><span data-stu-id="98c7d-115">For example, a lambda expression that has two parameters but returns no value corresponds to an @System.Action%602 delegate.</span></span> <span data-ttu-id="98c7d-116">Una expresión lambda que tiene un parámetro y devuelve un valor corresponde a un delegado @System.Func%602.</span><span class="sxs-lookup"><span data-stu-id="98c7d-116">A lambda expression that has one parameter and returns a value corresponds to @System.Func%602 delegate.</span></span>

<span data-ttu-id="98c7d-117">Una expresión lambda usa `=>`, el [operador de declaración lambda](language-reference/operators/lambda-operator.md), para separar del código ejecutable la lista de parámetros de la lambda.</span><span class="sxs-lookup"><span data-stu-id="98c7d-117">A lambda expression uses `=>`, the [lambda declaration operator](language-reference/operators/lambda-operator.md), to separate the lambda's parameter list from its executable code.</span></span> <span data-ttu-id="98c7d-118">Para crear una expresión lambda, especifique los parámetros de entrada (si existen) a la izquierda del operador lambda y coloque el bloque de expresiones o de instrucciones en el otro lado.</span><span class="sxs-lookup"><span data-stu-id="98c7d-118">To create a lambda expression, you specify input parameters (if any) on the left side of the lambda operator, and you put the expression or statement block on the other side.</span></span> <span data-ttu-id="98c7d-119">Por ejemplo, la expresión lambda de una sola línea `x => x * x` especifica un parámetro denominado `x` y devuelve el valor de `x` al cuadrado.</span><span class="sxs-lookup"><span data-stu-id="98c7d-119">For example, the single-line lambda expression `x => x * x` specifies a parameter that’s named `x` and returns the value of `x` squared.</span></span> <span data-ttu-id="98c7d-120">Puede asignar esta expresión a un tipo delegado, como se muestra en el ejemplo siguiente:</span><span class="sxs-lookup"><span data-stu-id="98c7d-120">You can assign this expression to a delegate type, as the following example shows:</span></span>

<span data-ttu-id="98c7d-121">[!code-csharp[csSnippets.Lambdas](../../samples/snippets/csharp/concepts/lambda-expressions/lambda1.cs#1)]</span><span class="sxs-lookup"><span data-stu-id="98c7d-121">[!code-csharp[csSnippets.Lambdas](../../samples/snippets/csharp/concepts/lambda-expressions/lambda1.cs#1)]</span></span>

<span data-ttu-id="98c7d-122">También puede pasarla directamente como un argumento de método:</span><span class="sxs-lookup"><span data-stu-id="98c7d-122">Or you can pass it directly as a method argument:</span></span>

<span data-ttu-id="98c7d-123">[!code-csharp[csSnippets.Lambdas](../../samples/snippets/csharp/concepts/lambda-expressions/lambda2.cs#2)]</span><span class="sxs-lookup"><span data-stu-id="98c7d-123">[!code-csharp[csSnippets.Lambdas](../../samples/snippets/csharp/concepts/lambda-expressions/lambda2.cs#2)]</span></span>

## <a name="expression-lambdas"></a><span data-ttu-id="98c7d-124">Lambdas de expresión</span><span class="sxs-lookup"><span data-stu-id="98c7d-124">Expression lambdas</span></span> ##

 <span data-ttu-id="98c7d-125">Una expresión lambda con una expresión en el lado derecho del operador => se denomina *lambda de expresión*.</span><span class="sxs-lookup"><span data-stu-id="98c7d-125">A lambda expression with an expression on the right side of the => operator is called an *expression lambda*.</span></span> <span data-ttu-id="98c7d-126">Las lambdas de expresión se usan ampliamente en la construcción de [árboles de expresión](expression-trees.md).</span><span class="sxs-lookup"><span data-stu-id="98c7d-126">Expression lambdas are used extensively in the construction of [expression trees](expression-trees.md).</span></span> <span data-ttu-id="98c7d-127">Una expresión lambda devuelve el resultado de evaluar la condición y tiene la siguiente forma:</span><span class="sxs-lookup"><span data-stu-id="98c7d-127">An expression lambda returns the result of the expression and takes the following basic form:</span></span>

```csharp
(input parameters) => expression
```

<span data-ttu-id="98c7d-128">Los paréntesis solo son opcionales si la lambda tiene un parámetro de entrada; de lo contrario, son obligatorios.</span><span class="sxs-lookup"><span data-stu-id="98c7d-128">The parentheses are optional only if the lambda has one input parameter; otherwise they are required.</span></span> <span data-ttu-id="98c7d-129">Para especificar cero parámetros de entrada, utilice paréntesis vacíos:</span><span class="sxs-lookup"><span data-stu-id="98c7d-129">Specify zero input parameters with empty parentheses:</span></span>

<span data-ttu-id="98c7d-130">[!code-csharp[csSnippets.Lambdas](../../samples/snippets/csharp/concepts/lambda-expressions/expression3.cs#1)]</span><span class="sxs-lookup"><span data-stu-id="98c7d-130">[!code-csharp[csSnippets.Lambdas](../../samples/snippets/csharp/concepts/lambda-expressions/expression3.cs#1)]</span></span>

<span data-ttu-id="98c7d-131">Dos o más parámetros de entrada se separan por comas y se encierran entre paréntesis:</span><span class="sxs-lookup"><span data-stu-id="98c7d-131">Two or more input parameters are separated by commas enclosed in parentheses:</span></span>

<span data-ttu-id="98c7d-132">[!code-csharp[csSnippets.Lambdas](../../samples/snippets/csharp/concepts/lambda-expressions/expression3.cs#2)]</span><span class="sxs-lookup"><span data-stu-id="98c7d-132">[!code-csharp[csSnippets.Lambdas](../../samples/snippets/csharp/concepts/lambda-expressions/expression3.cs#2)]</span></span>

<span data-ttu-id="98c7d-133">Normalmente, el compilador usa la inferencia de tipos para determinar los tipos de parámetro,</span><span class="sxs-lookup"><span data-stu-id="98c7d-133">Ordinarily, the compiler uses type inference in determining parameter types.</span></span> <span data-ttu-id="98c7d-134">aunque a veces resulta difícil o imposible para el compilador deducir los tipos de entrada.</span><span class="sxs-lookup"><span data-stu-id="98c7d-134">However, sometimes it is difficult or impossible for the compiler to infer the input types.</span></span> <span data-ttu-id="98c7d-135">Cuando ocurre esto, los tipos se pueden especificar explícitamente, como en el ejemplo siguiente:</span><span class="sxs-lookup"><span data-stu-id="98c7d-135">When this occurs, you can specify the types explicitly, as in the following example:</span></span>

<span data-ttu-id="98c7d-136">[!code-csharp[csSnippets.Lambdas](../../samples/snippets/csharp/concepts/lambda-expressions/expression3.cs#3)]</span><span class="sxs-lookup"><span data-stu-id="98c7d-136">[!code-csharp[csSnippets.Lambdas](../../samples/snippets/csharp/concepts/lambda-expressions/expression3.cs#3)]</span></span>

<span data-ttu-id="98c7d-137">Observe en el ejemplo anterior que el cuerpo de una lambda de expresión puede estar compuesto de una llamada a método.</span><span class="sxs-lookup"><span data-stu-id="98c7d-137">Note in the previous example that the body of an expression lambda can consist of a method call.</span></span> <span data-ttu-id="98c7d-138">Pero, si va a crear árboles de expresión que se evaluarán fuera de .NET Framework, como en SQL Server o en Entity Framework (EF), debe evitar usar llamadas a métodos en las expresiones lambda, puesto que los métodos podrían no tener ningún significado fuera del contexto de la implementación de .NET.</span><span class="sxs-lookup"><span data-stu-id="98c7d-138">However, if you are creating expression trees that are evaluated outside of the .NET Framework, such as in SQL Server or Entity Framework (EF), you should refrain from using method calls in lambda expressions, since the methods may have no meaning outside the context of the .NET implementation.</span></span> <span data-ttu-id="98c7d-139">Si opta por usar las llamadas a métodos en este caso, asegúrese de probarlas exhaustivamente para garantizar que las llamadas a métodos se pueden resolver correctamente.</span><span class="sxs-lookup"><span data-stu-id="98c7d-139">If you do choose to use method calls in this case, be sure to test them thoroughly to ensure that the method calls can be successfuly resolved.</span></span>

## <a name="statement-lambdas"></a><span data-ttu-id="98c7d-140">Lambdas de instrucción</span><span class="sxs-lookup"><span data-stu-id="98c7d-140">Statement lambdas</span></span> ##

<span data-ttu-id="98c7d-141">Una lambda de instrucción es similar a un lambda de expresión, salvo que las instrucciones se encierran entre llaves:</span><span class="sxs-lookup"><span data-stu-id="98c7d-141">A statement lambda resembles an expression lambda except that the statement(s) is enclosed in braces:</span></span>

```csharp
(input parameters) => { statement; }
```

<span data-ttu-id="98c7d-142">El cuerpo de una lambda de instrucción puede estar compuesto de cualquier número de instrucciones; sin embargo, en la práctica, generalmente no hay más de dos o tres.</span><span class="sxs-lookup"><span data-stu-id="98c7d-142">The body of a statement lambda can consist of any number of statements; however, in practice there are typically no more than two or three.</span></span>

<span data-ttu-id="98c7d-143">[!code-csharp[csSnippets.Lambdas](../../samples/snippets/csharp/concepts/lambda-expressions/statement1.cs#1)]</span><span class="sxs-lookup"><span data-stu-id="98c7d-143">[!code-csharp[csSnippets.Lambdas](../../samples/snippets/csharp/concepts/lambda-expressions/statement1.cs#1)]</span></span>

<span data-ttu-id="98c7d-144">Las lambdas de instrucción, como los métodos anónimos, no se pueden utilizar para crear árboles de expresión.</span><span class="sxs-lookup"><span data-stu-id="98c7d-144">Statement lambdas, like anonymous methods, cannot be used to create expression trees.</span></span>

## <a name="async-lambdas"></a><span data-ttu-id="98c7d-145">Lambdas asincrónicas</span><span class="sxs-lookup"><span data-stu-id="98c7d-145">Async lambdas</span></span> ##

<span data-ttu-id="98c7d-146">Puede crear fácilmente expresiones e instrucciones lambda que incorporen el procesamiento asincrónico mediante las palabras clave [async](language-reference/keywords/async.md) y [await](language-reference/keywords/await.md).</span><span class="sxs-lookup"><span data-stu-id="98c7d-146">You can easily create lambda expressions and statements that incorporate asynchronous processing by using the [async](language-reference/keywords/async.md) and [await](language-reference/keywords/await.md) keywords.</span></span> <span data-ttu-id="98c7d-147">Por ejemplo, en el ejemplo se llama a un método `ShowSquares` que se ejecuta de forma asincrónica.</span><span class="sxs-lookup"><span data-stu-id="98c7d-147">For example, the example calls a `ShowSquares` method that executes asynchronously.</span></span>

<span data-ttu-id="98c7d-148">[!code-csharp[csSnippets.Lambdas](../../samples/snippets/csharp/concepts/lambda-expressions/async1.cs#1)]</span><span class="sxs-lookup"><span data-stu-id="98c7d-148">[!code-csharp[csSnippets.Lambdas](../../samples/snippets/csharp/concepts/lambda-expressions/async1.cs#1)]</span></span>

<span data-ttu-id="98c7d-149">Para obtener más información sobre cómo crear y usar métodos asincrónicos, vea [Programación asincrónica con async y await](programming-guide/concepts/async/index.md).</span><span class="sxs-lookup"><span data-stu-id="98c7d-149">For more information about how to create and use async methods, see [Asynchronous programming with async and await](programming-guide/concepts/async/index.md).</span></span>

## <a name="lambda-expressions-and-tuples"></a><span data-ttu-id="98c7d-150">Expresiones lambda y tuplas</span><span class="sxs-lookup"><span data-stu-id="98c7d-150">Lambda expressions and tuples</span></span> ##

<span data-ttu-id="98c7d-151">A partir de C# 7.0, el lenguaje C# proporciona compatibilidad integrada para las tuplas.</span><span class="sxs-lookup"><span data-stu-id="98c7d-151">Starting with C# 7.0, the C# language provides built-in support for tuples.</span></span> <span data-ttu-id="98c7d-152">Puede proporcionar una tupla como argumento a una expresión lambda, mientras que la expresión lambda también puede devolver una tupla.</span><span class="sxs-lookup"><span data-stu-id="98c7d-152">You can provide a tuple as an argument to a lambda expression, and your lambda expression can also return a tuple.</span></span> <span data-ttu-id="98c7d-153">En algunos casos, el compilador de C# usa la inferencia de tipos para determinar los tipos de componentes de la tupla.</span><span class="sxs-lookup"><span data-stu-id="98c7d-153">In some cases, the C# compiler uses type inference to determine the types of tuple components.</span></span> 

<span data-ttu-id="98c7d-154">Para definir una tupla, incluya entre paréntesis una lista delimitada por comas de los componentes.</span><span class="sxs-lookup"><span data-stu-id="98c7d-154">You define a tuple by enclosing a comma-delimited list of its components in parentheses.</span></span> <span data-ttu-id="98c7d-155">En el ejemplo siguiente se usa la tupla con 5 componentes para pasar una secuencia de números a una expresión lambda, que duplica cada valor y devuelve una tupla con 5 componentes que contiene el resultado de las multiplicaciones.</span><span class="sxs-lookup"><span data-stu-id="98c7d-155">The following example uses tuple with 5 components to pass a sequence of numbers to a lambda expression, which doubles each value and returns a tuple with 5 components that contains the result of the multiplications.</span></span>

<span data-ttu-id="98c7d-156">[!code-csharp[csSnippets.Lambdas](../../samples/snippets/csharp/concepts/lambda-expressions/tuples1.cs#1)]</span><span class="sxs-lookup"><span data-stu-id="98c7d-156">[!code-csharp[csSnippets.Lambdas](../../samples/snippets/csharp/concepts/lambda-expressions/tuples1.cs#1)]</span></span>

<span data-ttu-id="98c7d-157">Normalmente, los campos de una tupla se denominan `Item1`, `Item2`, etc., aunque puede definir una tupla con componentes con nombre, como en el ejemplo siguiente.</span><span class="sxs-lookup"><span data-stu-id="98c7d-157">Ordinarily, the fields of a tuple are named `Item1`, `Item2`, etc. You can, however, define a tuple with named components, as the following example does.</span></span>

<span data-ttu-id="98c7d-158">[!code-csharp[csSnippets.Lambdas](../../samples/snippets/csharp/concepts/lambda-expressions/tuples2.cs#1)]</span><span class="sxs-lookup"><span data-stu-id="98c7d-158">[!code-csharp[csSnippets.Lambdas](../../samples/snippets/csharp/concepts/lambda-expressions/tuples2.cs#1)]</span></span>

<span data-ttu-id="98c7d-159">Para obtener más información sobre la compatibilidad de las tuplas en C#, vea [C# Tuple types](tuples.md) (Tipos de tupla de C#).</span><span class="sxs-lookup"><span data-stu-id="98c7d-159">For more information on support for tuples in C#, see [C# Tuple types](tuples.md).</span></span>

## <a name="lambdas-with-the-standard-query-operators"></a><span data-ttu-id="98c7d-160">Lambdas con los operadores de consulta estándar</span><span class="sxs-lookup"><span data-stu-id="98c7d-160">Lambdas with the standard query operators</span></span> ##

<span data-ttu-id="98c7d-161">LINQ to Objects, entre otras implementaciones, tiene un parámetro de entrada cuyo tipo es uno de la familia @System.Func%601 de delegados genéricos.</span><span class="sxs-lookup"><span data-stu-id="98c7d-161">LINQ to Objects, among other implementations, have an input parameter whose type is one of the @System.Func%601 family of generic delegates.</span></span> <span data-ttu-id="98c7d-162">Estos delegados usan parámetros de tipo para definir el número y el tipo de los parámetros de entrada, así como el tipo de valor devuelto del delegado.</span><span class="sxs-lookup"><span data-stu-id="98c7d-162">These delegates use type parameters to define the number and type of input parameters, and the return type of the delegate.</span></span> <span data-ttu-id="98c7d-163">Los delegados `Func` son muy útiles para encapsular expresiones definidas por el usuario que se aplican a cada elemento en un conjunto de datos de origen.</span><span class="sxs-lookup"><span data-stu-id="98c7d-163">`Func` delegates are very useful for encapsulating user-defined expressions that are applied to each element in a set of source data.</span></span> <span data-ttu-id="98c7d-164">Por ejemplo, imagínese que tiene el delegado @System.Func%601, cuya sintaxis es la siguiente:</span><span class="sxs-lookup"><span data-stu-id="98c7d-164">For example, consider the @System.Func%601 delegate, whose syntax is:</span></span>

<span data-ttu-id="98c7d-165">[!code-csharp[csSnippets.Lambdas](../../samples/snippets/csharp/concepts/lambda-expressions/query1.cs#1)]</span><span class="sxs-lookup"><span data-stu-id="98c7d-165">[!code-csharp[csSnippets.Lambdas](../../samples/snippets/csharp/concepts/lambda-expressions/query1.cs#1)]</span></span>

<span data-ttu-id="98c7d-166">Se pueden crear instancias del delegado con un código similar al siguiente:</span><span class="sxs-lookup"><span data-stu-id="98c7d-166">The delegate can be instantiated with code like the following</span></span>

<span data-ttu-id="98c7d-167">[!code-csharp[csSnippets.Lambdas](../../samples/snippets/csharp/concepts/lambda-expressions/query1.cs#2)]</span><span class="sxs-lookup"><span data-stu-id="98c7d-167">[!code-csharp[csSnippets.Lambdas](../../samples/snippets/csharp/concepts/lambda-expressions/query1.cs#2)]</span></span>

<span data-ttu-id="98c7d-168">donde `int` es un parámetro de entrada y `bool` es el valor devuelto.</span><span class="sxs-lookup"><span data-stu-id="98c7d-168">where `int` is an input parameter, and `bool` is the return value.</span></span> <span data-ttu-id="98c7d-169">El valor devuelto siempre se especifica en el último parámetro de tipo.</span><span class="sxs-lookup"><span data-stu-id="98c7d-169">The return value is always specified in the last type parameter.</span></span> <span data-ttu-id="98c7d-170">Al invocarse el siguiente delegado `Func`, devuelve true o false para indicar si el parámetro de entrada es igual a 5:</span><span class="sxs-lookup"><span data-stu-id="98c7d-170">When the following `Func` delegate is invoked, it returns true or false to indicate whether the input parameter is equal to 5:</span></span>

<span data-ttu-id="98c7d-171">[!code-csharp[csSnippets.Lambdas](../../samples/snippets/csharp/concepts/lambda-expressions/query1.cs#3)]</span><span class="sxs-lookup"><span data-stu-id="98c7d-171">[!code-csharp[csSnippets.Lambdas](../../samples/snippets/csharp/concepts/lambda-expressions/query1.cs#3)]</span></span>

<span data-ttu-id="98c7d-172">También puede proporcionar una expresión lambda cuando el tipo de argumento es @System.Linq.Expressions.Expression%601 (por ejemplo, en los operadores de consulta estándar que se definen en el tipo @System.Linq.Queryable ).</span><span class="sxs-lookup"><span data-stu-id="98c7d-172">You can also supply a lambda expression when the argument type is an @System.Linq.Expressions.Expression%601, for example in the standard query operators that are defined in the @System.Linq.Queryable type.</span></span> <span data-ttu-id="98c7d-173">Al especificar un argumento @System.Linq.Expressions.Expression%601, la lambda se compila en un árbol de expresión.</span><span class="sxs-lookup"><span data-stu-id="98c7d-173">When you specify an @System.Linq.Expressions.Expression%601 argument, the lambda is compiled to an expression tree.</span></span> <span data-ttu-id="98c7d-174">En el ejemplo siguiente se usa el operador de consulta estándar [System.Linq.Enumerable.Count](xref:System.Linq.Enumerable.Count%60%601(System.Collections.Generic.IEnumerable{%60%600})).</span><span class="sxs-lookup"><span data-stu-id="98c7d-174">The following example uses the [System.Linq.Enumerable.Count](xref:System.Linq.Enumerable.Count%60%601(System.Collections.Generic.IEnumerable{%60%600})) standard query operator.</span></span>

<span data-ttu-id="98c7d-175">[!code-csharp[csSnippets.Lambdas](../../samples/snippets/csharp/concepts/lambda-expressions/query1.cs#4)]</span><span class="sxs-lookup"><span data-stu-id="98c7d-175">[!code-csharp[csSnippets.Lambdas](../../samples/snippets/csharp/concepts/lambda-expressions/query1.cs#4)]</span></span>

<span data-ttu-id="98c7d-176">El compilador puede deducir el tipo del parámetro de entrada o también se puede especificar explícitamente.</span><span class="sxs-lookup"><span data-stu-id="98c7d-176">The compiler can infer the type of the input parameter, or you can also specify it explicitly.</span></span> <span data-ttu-id="98c7d-177">Esta expresión lambda en concreto cuenta aquellos enteros (`n`) que, divididos por dos, dan como resto 1.</span><span class="sxs-lookup"><span data-stu-id="98c7d-177">This particular lambda expression counts those integers (`n`) that, when divided by two, have a remainder of 1.</span></span>

<span data-ttu-id="98c7d-178">El siguiente ejemplo genera una secuencia que contiene todos los elementos de la matriz `numbers` que preceden al 9, ya que ese es el primer número de la secuencia que no cumple la condición.</span><span class="sxs-lookup"><span data-stu-id="98c7d-178">The following example produces a sequence that contains all elements in the `numbers` array that precede the 9, because that's the first number in the sequence that doesn't meet the condition.</span></span>

<span data-ttu-id="98c7d-179">[!code-csharp[csSnippets.Lambdas](../../samples/snippets/csharp/concepts/lambda-expressions/query1.cs#5)]</span><span class="sxs-lookup"><span data-stu-id="98c7d-179">[!code-csharp[csSnippets.Lambdas](../../samples/snippets/csharp/concepts/lambda-expressions/query1.cs#5)]</span></span>

<span data-ttu-id="98c7d-180">En el siguiente ejemplo se especifican varios parámetros de entrada encerrándolos entre paréntesis.</span><span class="sxs-lookup"><span data-stu-id="98c7d-180">The following example specifies multiple input parameters by enclosing them in parentheses.</span></span> <span data-ttu-id="98c7d-181">El método devuelve todos los elementos de la matriz de números hasta que encuentra un número cuyo valor es menor que la posición ordinal en la matriz.</span><span class="sxs-lookup"><span data-stu-id="98c7d-181">The method returns all the elements in the numbers array until it encounters a number whose value is less than its ordinal position in the array.</span></span>

<span data-ttu-id="98c7d-182">[!code-csharp[csSnippets.Lambdas](../../samples/snippets/csharp/concepts/lambda-expressions/query1.cs#6)]</span><span class="sxs-lookup"><span data-stu-id="98c7d-182">[!code-csharp[csSnippets.Lambdas](../../samples/snippets/csharp/concepts/lambda-expressions/query1.cs#6)]</span></span>

## <a name="type-inference-in-lambda-expressions"></a><span data-ttu-id="98c7d-183">Inferencia de tipos en expresiones lambda</span><span class="sxs-lookup"><span data-stu-id="98c7d-183">Type inference in lambda expressions</span></span> ##

<span data-ttu-id="98c7d-184">Al escribir lambdas, no tiene por qué especificar un tipo para los parámetros de entrada, ya que el compilador puede deducir el tipo según el cuerpo de lambda, los tipos de parámetros y otros factores, tal como se describe en la especificación del lenguaje C#.</span><span class="sxs-lookup"><span data-stu-id="98c7d-184">When writing lambdas, you often do not have to specify a type for the input parameters because the compiler can infer the type based on the lambda body, the parameter types, and other factors, as described in the C# Language Specification.</span></span> <span data-ttu-id="98c7d-185">Para la mayoría de los operadores de consulta estándar, la primera entrada es el tipo de los elementos en la secuencia de origen.</span><span class="sxs-lookup"><span data-stu-id="98c7d-185">For most of the standard query operators, the first input is the type of the elements in the source sequence.</span></span> <span data-ttu-id="98c7d-186">Si está realizando una consulta sobre `IEnumerable<Customer>`, se deducirá que la variable de entrada será un objeto `Customer`, lo cual significa que se podrá tener acceso a sus métodos y propiedades:</span><span class="sxs-lookup"><span data-stu-id="98c7d-186">If you are querying an `IEnumerable<Customer>`, then the input variable is inferred to be a `Customer` object, which means you have access to its methods and properties:</span></span>

<span data-ttu-id="98c7d-187">[!code-csharp[csSnippets.Lambdas](../../samples/snippets/csharp/concepts/lambda-expressions/infer1.cs#1)]</span><span class="sxs-lookup"><span data-stu-id="98c7d-187">[!code-csharp[csSnippets.Lambdas](../../samples/snippets/csharp/concepts/lambda-expressions/infer1.cs#1)]</span></span>

<span data-ttu-id="98c7d-188">Las reglas generales para la inferencia de tipos de las lambdas son las siguientes:</span><span class="sxs-lookup"><span data-stu-id="98c7d-188">The general rules for type inference for lambdas are:</span></span>

- <span data-ttu-id="98c7d-189">La lambda debe contener el mismo número de parámetros que el tipo delegado.</span><span class="sxs-lookup"><span data-stu-id="98c7d-189">The lambda must contain the same number of parameters as the delegate type.</span></span>

- <span data-ttu-id="98c7d-190">Cada argumento de entrada de la lambda debe poder convertirse implícitamente a su parámetro de delegado correspondiente.</span><span class="sxs-lookup"><span data-stu-id="98c7d-190">Each input argument in the lambda must be implicitly convertible to its corresponding delegate parameter.</span></span>

- <span data-ttu-id="98c7d-191">El valor devuelto de la lambda (si existe) debe poder convertirse implícitamente al tipo de valor devuelto del delegado.</span><span class="sxs-lookup"><span data-stu-id="98c7d-191">The return value of the lambda (if any) must be implicitly convertible to the delegate's return type.</span></span>

<span data-ttu-id="98c7d-192">Observe que las expresiones lambda, en sí mismas, no tienen tipo, ya que el sistema de tipos comunes no tiene ningún concepto intrínseco de "expresión lambda".</span><span class="sxs-lookup"><span data-stu-id="98c7d-192">Note that lambda expressions in themselves do not have a type because the common type system has no intrinsic concept of "lambda expression."</span></span> <span data-ttu-id="98c7d-193">Sin embargo, a veces resulta práctico hablar coloquialmente del "tipo" de una expresión lambda.</span><span class="sxs-lookup"><span data-stu-id="98c7d-193">However, it is sometimes convenient to speak informally of the "type" of a lambda expression.</span></span> <span data-ttu-id="98c7d-194">En estos casos, el tipo hace referencia al tipo del delegado o el tipo de @System.Linq.Expressions.Expression en el que se convierte la expresión lambda.</span><span class="sxs-lookup"><span data-stu-id="98c7d-194">In these cases the type refers to the delegate type or @System.Linq.Expressions.Expression type to which the lambda expression is converted.</span></span>

## <a name="variable-scope-in-lambda-expressions"></a><span data-ttu-id="98c7d-195">Ámbito de las variables en las expresiones lambda</span><span class="sxs-lookup"><span data-stu-id="98c7d-195">Variable Scope in Lambda Expressions</span></span> ##

<span data-ttu-id="98c7d-196">Las lambdas pueden hacer referencia a las *variables externas* (vea [Métodos anónimos](programming-guide/statements-expressions-operators/anonymous-methods.md)) que están en el ámbito del método que define la función lambda o en el ámbito del tipo que contiene la expresión lambda.</span><span class="sxs-lookup"><span data-stu-id="98c7d-196">Lambdas can refer to *outer variables* (see [Anonymous methods](programming-guide/statements-expressions-operators/anonymous-methods.md)) that are in scope in the method that defines the lambda function, or in scope in the type that contains the lambda expression.</span></span> <span data-ttu-id="98c7d-197">Las variables que se capturan de esta manera se almacenan para su uso en la expresión lambda, cuando de otro modo quedarían fuera de ámbito y serían eliminadas por la recolección de elementos no utilizados.</span><span class="sxs-lookup"><span data-stu-id="98c7d-197">Variables that are captured in this manner are stored for use in the lambda expression even if the variables would otherwise go out of scope and be garbage collected.</span></span> <span data-ttu-id="98c7d-198">Para poder utilizar una variable externa en una expresión lambda, debe estar previamente asignada.</span><span class="sxs-lookup"><span data-stu-id="98c7d-198">An outer variable must be definitely assigned before it can be consumed in a lambda expression.</span></span> <span data-ttu-id="98c7d-199">En el ejemplo siguiente se muestran estas reglas.</span><span class="sxs-lookup"><span data-stu-id="98c7d-199">The following example demonstrates these rules.</span></span>

<span data-ttu-id="98c7d-200">[!code-csharp[csSnippets.Lambdas](../../samples/snippets/csharp/concepts/lambda-expressions/scope.cs#1)]</span><span class="sxs-lookup"><span data-stu-id="98c7d-200">[!code-csharp[csSnippets.Lambdas](../../samples/snippets/csharp/concepts/lambda-expressions/scope.cs#1)]</span></span>

 <span data-ttu-id="98c7d-201">Las reglas siguientes se aplican al ámbito de las variables en las expresiones lambda:</span><span class="sxs-lookup"><span data-stu-id="98c7d-201">The following rules apply to variable scope in lambda expressions:</span></span>

- <span data-ttu-id="98c7d-202">Una variable capturada no se recolectará como elemento no utilizado hasta que el delegado que hace referencia a ella sea elegible para la recolección de elementos no utilizados.</span><span class="sxs-lookup"><span data-stu-id="98c7d-202">A variable that is captured will not be garbage-collected until the delegate that references it becomes eligible for garbage collection.</span></span>

- <span data-ttu-id="98c7d-203">Las variables introducidas en una expresión lambda no son visibles en el método externo.</span><span class="sxs-lookup"><span data-stu-id="98c7d-203">Variables introduced within a lambda expression are not visible in the outer method.</span></span>

- <span data-ttu-id="98c7d-204">Una expresión lambda no puede capturar directamente un parámetro `ref` o `out` desde un método que la englobe.</span><span class="sxs-lookup"><span data-stu-id="98c7d-204">A lambda expression cannot directly capture a `ref` or `out` parameter from an enclosing method.</span></span>

- <span data-ttu-id="98c7d-205">Una instrucción return en una expresión lambda no hace que el método que la engloba devuelva un valor.</span><span class="sxs-lookup"><span data-stu-id="98c7d-205">A return statement in a lambda expression does not cause the enclosing method to return.</span></span>

- <span data-ttu-id="98c7d-206">Una expresión lambda no puede contener una instrucción `goto` , `break` o `continue` que esté dentro de la función lambda si el destino de la instrucción de salto está fuera del bloque.</span><span class="sxs-lookup"><span data-stu-id="98c7d-206">A lambda expression cannot contain a `goto` statement, `break` statement, or `continue` statement that is inside the lambda function if the jump statement’s target is outside the block.</span></span> <span data-ttu-id="98c7d-207">También es un error utilizar una instrucción de salto fuera del bloque de la función lambda si el destino está dentro del bloque.</span><span class="sxs-lookup"><span data-stu-id="98c7d-207">It is also an error to have a jump statement outside the lambda function block if the target is inside the block.</span></span>

## <a name="see-also"></a><span data-ttu-id="98c7d-208">Vea también</span><span class="sxs-lookup"><span data-stu-id="98c7d-208">See also</span></span> ##

<span data-ttu-id="98c7d-209">[LINQ (Language-Integrated Query)](../standard/using-linq.md) </span><span class="sxs-lookup"><span data-stu-id="98c7d-209">[LINQ (Language-Integrated Query)](../standard/using-linq.md) </span></span>  
<span data-ttu-id="98c7d-210">[Métodos anónimos](programming-guide/statements-expressions-operators/anonymous-methods.md) </span><span class="sxs-lookup"><span data-stu-id="98c7d-210">[Anonymous methods](programming-guide/statements-expressions-operators/anonymous-methods.md) </span></span>  
[<span data-ttu-id="98c7d-211">Árboles de expresión</span><span class="sxs-lookup"><span data-stu-id="98c7d-211">Expression trees</span></span>](expression-trees.md)

